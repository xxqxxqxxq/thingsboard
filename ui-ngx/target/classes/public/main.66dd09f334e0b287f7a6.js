(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+5dr":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f}));var i,r=n("mrSG"),a=n("RxGS"),o=n("fXoL"),s=n("l7P3"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n.configurationSet=!1,n.configurationChangedEmiter=new o.EventEmitter,n.configurationChanged=n.configurationChangedEmiter.asObservable(),n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"configuration",{get:function(){return this.configurationValue},set:function(e){this.configurationValue=e,this.configurationSet?this.updateConfiguration(e):(this.configurationSet=!0,this.setupConfiguration(e))},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){e.validateConfig()||e.configurationChangedEmiter.emit(null)}),0)},t.prototype.validate=function(){this.onValidate()},t.prototype.setupConfiguration=function(e){var t=this;this.onConfigurationSet(this.prepareInputConfig(e)),this.updateValidators(!1);for(var n=function(e){for(var n=e.split("."),r=i.configForm(),a=0,o=n;a<o.length;a++){var s=o[a];r=r.get(s)}r.valueChanges.subscribe((function(){t.updateValidators(!0,e)}))},i=this,r=0,a=this.validatorTriggers();r<a.length;r++){n(a[r])}this.configForm().valueChanges.subscribe((function(e){t.onConfigurationChanged(e)}))},t.prototype.updateConfiguration=function(e){this.configForm().reset(this.prepareInputConfig(e),{emitEvent:!1}),this.updateValidators(!1)},t.prototype.updateValidators=function(e,t){},t.prototype.validatorTriggers=function(){return[]},t.prototype.onConfigurationChanged=function(e){this.configurationValue=e,this.validateConfig()?this.configurationChangedEmiter.emit(this.prepareOutputConfig(e)):this.configurationChangedEmiter.emit(null)},t.prototype.prepareInputConfig=function(e){return e},t.prototype.prepareOutputConfig=function(e){return e},t.prototype.validateConfig=function(){return this.configForm().valid},t.prototype.onValidate=function(){},t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](s.Store))},t.\u0275dir=o["\u0275\u0275defineDirective"]({type:t,features:[o["\u0275\u0275InheritDefinitionFeature"]]}),t}(a.a);!function(){o["\u0275setClassMetadata"](l,[{type:o.Directive}],(function(){return[{type:s.Store,decorators:[{type:o.Inject,args:[s.Store]}]}]}),null)}(),function(e){e.FILTER="FILTER",e.ENRICHMENT="ENRICHMENT",e.TRANSFORMATION="TRANSFORMATION",e.ACTION="ACTION",e.EXTERNAL="EXTERNAL",e.RULE_CHAIN="RULE_CHAIN",e.UNKNOWN="UNKNOWN",e.INPUT="INPUT"}(i||(i={}));var c,u=[i.FILTER,i.ENRICHMENT,i.TRANSFORMATION,i.ACTION,i.EXTERNAL,i.RULE_CHAIN],p=new Map([[i.FILTER,{value:i.FILTER,name:"rulenode.type-filter",details:"rulenode.type-filter-details",nodeClass:"tb-filter-type",icon:"filter_list"}],[i.ENRICHMENT,{value:i.ENRICHMENT,name:"rulenode.type-enrichment",details:"rulenode.type-enrichment-details",nodeClass:"tb-enrichment-type",icon:"playlist_add"}],[i.TRANSFORMATION,{value:i.TRANSFORMATION,name:"rulenode.type-transformation",details:"rulenode.type-transformation-details",nodeClass:"tb-transformation-type",icon:"transform"}],[i.ACTION,{value:i.ACTION,name:"rulenode.type-action",details:"rulenode.type-action-details",nodeClass:"tb-action-type",icon:"flash_on"}],[i.EXTERNAL,{value:i.EXTERNAL,name:"rulenode.type-external",details:"rulenode.type-external-details",nodeClass:"tb-external-type",icon:"cloud_upload"}],[i.RULE_CHAIN,{value:i.RULE_CHAIN,name:"rulenode.type-rule-chain",details:"rulenode.type-rule-chain-details",nodeClass:"tb-rule-chain-type",icon:"settings_ethernet"}],[i.INPUT,{value:i.INPUT,name:"rulenode.type-input",details:"rulenode.type-input-details",nodeClass:"tb-input-type",icon:"input",special:!0}],[i.UNKNOWN,{value:i.UNKNOWN,name:"rulenode.type-unknown",details:"rulenode.type-unknown-details",nodeClass:"tb-unknown-type",icon:"help_outline"}]]);!function(e){e.POST_ATTRIBUTES_REQUEST="POST_ATTRIBUTES_REQUEST",e.POST_TELEMETRY_REQUEST="POST_TELEMETRY_REQUEST",e.TO_SERVER_RPC_REQUEST="TO_SERVER_RPC_REQUEST",e.RPC_CALL_FROM_SERVER_TO_DEVICE="RPC_CALL_FROM_SERVER_TO_DEVICE",e.ACTIVITY_EVENT="ACTIVITY_EVENT",e.INACTIVITY_EVENT="INACTIVITY_EVENT",e.CONNECT_EVENT="CONNECT_EVENT",e.DISCONNECT_EVENT="DISCONNECT_EVENT",e.ENTITY_CREATED="ENTITY_CREATED",e.ENTITY_UPDATED="ENTITY_UPDATED",e.ENTITY_DELETED="ENTITY_DELETED",e.ENTITY_ASSIGNED="ENTITY_ASSIGNED",e.ENTITY_UNASSIGNED="ENTITY_UNASSIGNED",e.ATTRIBUTES_UPDATED="ATTRIBUTES_UPDATED",e.ATTRIBUTES_DELETED="ATTRIBUTES_DELETED",e.TIMESERIES_UPDATED="TIMESERIES_UPDATED",e.TIMESERIES_DELETED="TIMESERIES_DELETED"}(c||(c={}));var d=new Map([[c.POST_ATTRIBUTES_REQUEST,"Post attributes"],[c.POST_TELEMETRY_REQUEST,"Post telemetry"],[c.TO_SERVER_RPC_REQUEST,"RPC Request from Device"],[c.RPC_CALL_FROM_SERVER_TO_DEVICE,"RPC Request to Device"],[c.ACTIVITY_EVENT,"Activity Event"],[c.INACTIVITY_EVENT,"Inactivity Event"],[c.CONNECT_EVENT,"Connect Event"],[c.DISCONNECT_EVENT,"Disconnect Event"],[c.ENTITY_CREATED,"Entity Created"],[c.ENTITY_UPDATED,"Entity Updated"],[c.ENTITY_DELETED,"Entity Deleted"],[c.ENTITY_ASSIGNED,"Entity Assigned"],[c.ENTITY_UNASSIGNED,"Entity Unassigned"],[c.ATTRIBUTES_UPDATED,"Attributes Updated"],[c.ATTRIBUTES_DELETED,"Attributes Deleted"],[c.TIMESERIES_UPDATED,"Timeseries Updated"],[c.TIMESERIES_DELETED,"Timeseries Deleted"]]),m={"org.thingsboard.rule.engine.filter.TbCheckRelationNode":"ruleNodeCheckRelation","org.thingsboard.rule.engine.filter.TbCheckMessageNode":"ruleNodeCheckExistenceFields","org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode":"ruleNodeGpsGeofencingFilter","org.thingsboard.rule.engine.filter.TbJsFilterNode":"ruleNodeJsFilter","org.thingsboard.rule.engine.filter.TbJsSwitchNode":"ruleNodeJsSwitch","org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode":"ruleNodeMessageTypeFilter","org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode":"ruleNodeMessageTypeSwitch","org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode":"ruleNodeOriginatorTypeFilter","org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode":"ruleNodeOriginatorTypeSwitch","org.thingsboard.rule.engine.metadata.TbGetAttributesNode":"ruleNodeOriginatorAttributes","org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode":"ruleNodeOriginatorFields","org.thingsboard.rule.engine.metadata.TbGetTelemetryNode":"ruleNodeOriginatorTelemetry","org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode":"ruleNodeCustomerAttributes","org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode":"ruleNodeCustomerDetails","org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode":"ruleNodeDeviceAttributes","org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode":"ruleNodeRelatedAttributes","org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode":"ruleNodeTenantAttributes","org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode":"ruleNodeTenantDetails","org.thingsboard.rule.engine.transform.TbChangeOriginatorNode":"ruleNodeChangeOriginator","org.thingsboard.rule.engine.transform.TbTransformMsgNode":"ruleNodeTransformMsg","org.thingsboard.rule.engine.mail.TbMsgToEmailNode":"ruleNodeMsgToEmail","org.thingsboard.rule.engine.action.TbAssignToCustomerNode":"ruleNodeAssignToCustomer","org.thingsboard.rule.engine.action.TbUnassignFromCustomerNode":"ruleNodeUnassignFromCustomer","org.thingsboard.rule.engine.action.TbClearAlarmNode":"ruleNodeClearAlarm","org.thingsboard.rule.engine.action.TbCreateAlarmNode":"ruleNodeCreateAlarm","org.thingsboard.rule.engine.action.TbCreateRelationNode":"ruleNodeCreateRelation","org.thingsboard.rule.engine.action.TbDeleteRelationNode":"ruleNodeDeleteRelation","org.thingsboard.rule.engine.delay.TbMsgDelayNode":"ruleNodeMsgDelay","org.thingsboard.rule.engine.debug.TbMsgGeneratorNode":"ruleNodeMsgGenerator","org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode":"ruleNodeGpsGeofencingEvents","org.thingsboard.rule.engine.action.TbLogNode":"ruleNodeLog","org.thingsboard.rule.engine.rpc.TbSendRPCReplyNode":"ruleNodeRpcCallReply","org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode":"ruleNodeRpcCallRequest","org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode":"ruleNodeSaveAttributes","org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode":"ruleNodeSaveTimeseries","org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode":"ruleNodeSaveToCustomTable","tb.internal.RuleChain":"ruleNodeRuleChain","org.thingsboard.rule.engine.aws.sns.TbSnsNode":"ruleNodeAwsSns","org.thingsboard.rule.engine.aws.sqs.TbSqsNode":"ruleNodeAwsSqs","org.thingsboard.rule.engine.kafka.TbKafkaNode":"ruleNodeKafka","org.thingsboard.rule.engine.mqtt.TbMqttNode":"ruleNodeMqtt","org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode":"ruleNodeAzureIotHub","org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode":"ruleNodeRabbitMq","org.thingsboard.rule.engine.rest.TbRestApiCallNode":"ruleNodeRestApiCall","org.thingsboard.rule.engine.mail.TbSendEmailNode":"ruleNodeSendEmail","org.thingsboard.rule.engine.sms.TbSendSmsNode":"ruleNodeSendSms"};function f(e){if(e){if(e.configurationDescriptor&&e.configurationDescriptor.nodeDefinition&&e.configurationDescriptor.nodeDefinition.docUrl)return e.configurationDescriptor.nodeDefinition.docUrl;if(e.clazz&&m[e.clazz])return m[e.clazz]}return"ruleEngine"}},"//Q6":function(e,t,n){"use strict";n.d(t,"G",(function(){return p})),n.d(t,"t",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"z",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"u",(function(){return v})),n.d(t,"s",(function(){return C})),n.d(t,"x",(function(){return E})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return S})),n.d(t,"y",(function(){return w})),n.d(t,"p",(function(){return M})),n.d(t,"h",(function(){return O})),n.d(t,"F",(function(){return I})),n.d(t,"g",(function(){return x})),n.d(t,"C",(function(){return j})),n.d(t,"D",(function(){return A})),n.d(t,"b",(function(){return R})),n.d(t,"l",(function(){return _})),n.d(t,"E",(function(){return V})),n.d(t,"e",(function(){return F})),n.d(t,"r",(function(){return L})),n.d(t,"B",(function(){return D})),n.d(t,"k",(function(){return U})),n.d(t,"I",(function(){return G})),n.d(t,"j",(function(){return q})),n.d(t,"m",(function(){return z})),n.d(t,"d",(function(){return H})),n.d(t,"H",(function(){return W})),n.d(t,"c",(function(){return Y})),n.d(t,"J",(function(){return K})),n.d(t,"f",(function(){return Q})),n.d(t,"i",(function(){return X})),n.d(t,"K",(function(){return J}));var i=n("mrSG"),r=n("LvDl"),a=n.n(r),o=n("XNiG"),s=n("nYR2"),l=n("w1tV"),c=n("oKkZ"),u=/\${([^}]*)}/g;function p(e){var t=new o.b,n=function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return[];var t=[];k(e,[]).forEach((function(e){(function(e){return e instanceof Element&&N.test(P(t=e,"overflow")+P(t,"overflow-y")+P(t,"overflow-x"));var t})(e)&&t.push(e)})),document.scrollingElement?t.push(document.scrollingElement):document.documentElement&&t.push(document.documentElement);return t}(e),i={handleEvent:function(e){t.next(e)}};return n.forEach((function(e){e.addEventListener("scroll",i)})),window.addEventListener("resize",i),t.pipe(Object(s.a)((function(){n.forEach((function(e){e.removeEventListener("scroll",i)})),window.removeEventListener("resize",i)})),Object(l.a)())}function d(e){var t=document.createElement("a");t.href=e;var n=t.hostname;return"localhost"===n||"127.0.0.1"===n}function m(e,t,n){var i=0,r=e.scrollTop,a=t,o=n||0,s=a-r,l=function(){0===o?e.scrollTop=a:(i+=20,e.scrollTop=function(e,t,n,i){if((e/=i/2)<1)return n/2*e*e+t;return e--,-n/2*(e*(e-2)-1)+t}(i,r,s,o),i<o&&setTimeout(l,20))};l()}function f(e){return void 0===e}function h(e){return null==e}function y(e){return void 0!==e}function g(e){return null!=e}function b(e){return""===e}function v(e){return null!==e&&"string"==typeof e&&e.trim().length>0}function C(e){return"function"==typeof e}function E(e){return null!==e&&"object"==typeof e}function T(e){return"number"==typeof e}function S(e){return e-parseFloat(e)+1>=0}function w(e){return"string"==typeof e}function M(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];if(Object.prototype.hasOwnProperty.call(e,i))return!1}return!0}function O(e,t,n,i){if(g(e)&&S(e)&&(g(t)||g(n)||Number(e).toString()===e)){var r=Number(e);return g(t)&&(r=r.toFixed(t)),i||(r=Number(r)),r=r.toString(),g(n)&&n.length>0&&(r+=" "+n),r}return null!==e?e:""}function I(e){return Object.keys(e).map((function(t){return e[t]}))}function x(e){f(e)||null==e||Object.keys(e).forEach((function(t){null===e[t]||f(e[t])?delete e[t]:E(e[t])?x(e[t]):e[t]instanceof Array&&e[t].forEach((function(e){x(e)}))}))}function j(e){var t=JSON.stringify(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))}function A(e){return encodeURIComponent(j(e))}function R(e){var t=decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)}var N=/(auto|scroll)/;function k(e,t){return null===e.parentNode?t:k(e.parentNode,t.concat([e]))}function P(e,t){return getComputedStyle(e,null).getPropertyValue(t)}function _(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n}function V(e){var t=0;e&&(t=_(JSON.stringify(e)));return t}function F(e,t){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var n=[];return e.forEach((function(e){n.push(e)})),n.map((function(e){return F(e)}))}if("object"==typeof e&&e!=={}){var r=Object(i.a)({},e);return Object.keys(r).forEach((function(e){t&&-1!==t.indexOf(e)||(r[e]=F(r[e]))})),r}return e}function L(e,t){return a.a.isEqual(e,t)}function D(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return a.a.merge.apply(a.a,Object(i.g)([e],t))}function U(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var B=/[A-Z]/g;function G(e,t){return t=t||"_",e.replace(B,(function(e,n){return(n?t:"")+e.toLowerCase()}))}function q(e,t){return e.hasOwnProperty(t)?e[t]:t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function z(e,t,n){for(var i=e,r=u.exec(e);null!==r;){var a=r[0];r[1]===t&&(i=i.replace(a,n)),r=u.exec(e)}return i}function H(e,t){var n=t;if(!e)return n;for(var i=u.exec(t);null!==i;){var r=i[0],a=i[1];"dsName"===a?n=n.replace(r,e.name):"entityName"===a||"deviceName"===a?n=n.replace(r,e.entityName):"entityLabel"===a?n=n.replace(r,e.entityLabel||e.entityName):"aliasName"===a?n=n.replace(r,e.aliasName):"entityDescription"===a&&(n=n.replace(r,e.entityDescription)),i=u.exec(t)}return n}function W(e,t){var n;return n=(e=parseFloat(e))<0,e=Math.abs(e),(n?"-":"")+(t>0?e.toFixed(t):Math.round(e).toString())}function Y(){var e=window.location.protocol+"//"+window.location.hostname,t=window.location.port;return t&&t.length>0&&"80"!==t&&"443"!==t&&(e+=":"+t),e}function K(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})}function Q(e){return T(e)||f(e)||w(e)||null===e?e:Object.keys(e).reduce((function(t,n){return w(e[n])?t[n]=e[n].trim():E(e[n])?t[n]=Q(e[n]):t[n]=e[n],t}),Array.isArray(e)?[]:{})}function X(e){(f(e)||null==e)&&(e=1);var t=e>10?10:e,n=Math.random().toString(36).substr(2,t);return n.length>=e?n:n.concat(X(e-n.length))}function J(e){return g(e.id)&&e.id!==c.a&&g(e.entityType)}},"/3Pq":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.TB_CORE="TB_CORE",e.TB_RULE_ENGINE="TB_RULE_ENGINE",e.TB_TRANSPORT="TB_TRANSPORT",e.JS_EXECUTOR="JS_EXECUTOR"}(i||(i={}))},"/NrD":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),r=n("3Pt+"),a=n("XiUz"),o=n("kmnG"),s=n("sYmb"),l=n("xoCY"),c=n("qFsG"),u=function(){function e(){this.changePending=!1,this.propagateChange=null}return e.prototype.ngOnInit=function(){},e.prototype.registerOnChange=function(e){this.propagateChange=e,this.changePending&&this.propagateChange&&(this.changePending=!1,this.propagateChange(this.modelValue))},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){if(this.modelValue=e,this.modelValue)this.startDate=new Date(this.modelValue.startTimeMs),this.endDate=new Date(this.modelValue.endTimeMs);else{var t=new Date;this.startDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.endDate=t,this.updateView()}this.updateMinMaxDates()},e.prototype.updateView=function(){var e=null;this.startDate&&this.endDate&&(e={startTimeMs:this.startDate.getTime(),endTimeMs:this.endDate.getTime()}),this.modelValue=e,this.propagateChange?this.propagateChange(this.modelValue):this.changePending=!0},e.prototype.updateMinMaxDates=function(){this.maxStartDate=new Date(this.endDate.getTime()-1e3),this.minEndDate=new Date(this.startDate.getTime()+1e3),this.maxEndDate=new Date},e.prototype.onStartDateChange=function(){this.startDate&&(this.startDate.getTime()>this.maxStartDate.getTime()&&(this.startDate=new Date(this.maxStartDate.getTime())),this.updateMinMaxDates()),this.updateView()},e.prototype.onEndDateChange=function(){this.endDate&&(this.endDate.getTime()<this.minEndDate.getTime()?this.endDate=new Date(this.minEndDate.getTime()):this.endDate.getTime()>this.maxEndDate.getTime()&&(this.endDate=new Date(this.maxEndDate.getTime())),this.updateMinMaxDates()),this.updateView()},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-datetime-period"]],inputs:{disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:31,vars:16,consts:[["fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayout.xs","row wrap","fxLayoutAlign","start start","fxLayoutGap","16px"],["translate",""],["matPrefix","",3,"for"],["type","date","openOnFocus","true"],["startDatePicker",""],["matInput","",3,"disabled","ngModel","matDatetimepicker","ngModelChange"],["type","time","openOnFocus","true"],["startTimePicker",""],["endDatePicker",""],["endTimePicker",""]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"section",1),i["\u0275\u0275elementStart"](2,"mat-form-field"),i["\u0275\u0275elementStart"](3,"mat-placeholder",2),i["\u0275\u0275text"](4,"datetime.date-from"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"mat-datetimepicker-toggle",3),i["\u0275\u0275element"](6,"mat-datetimepicker",4,5),i["\u0275\u0275elementStart"](8,"input",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.startDate=e}))("ngModelChange",(function(){return t.onStartDateChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"mat-form-field"),i["\u0275\u0275elementStart"](10,"mat-placeholder",2),i["\u0275\u0275text"](11,"datetime.time-from"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](12,"mat-datetimepicker-toggle",3),i["\u0275\u0275element"](13,"mat-datetimepicker",7,8),i["\u0275\u0275elementStart"](15,"input",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.startDate=e}))("ngModelChange",(function(){return t.onStartDateChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"section",1),i["\u0275\u0275elementStart"](17,"mat-form-field"),i["\u0275\u0275elementStart"](18,"mat-placeholder",2),i["\u0275\u0275text"](19,"datetime.date-to"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](20,"mat-datetimepicker-toggle",3),i["\u0275\u0275element"](21,"mat-datetimepicker",4,9),i["\u0275\u0275elementStart"](23,"input",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.endDate=e}))("ngModelChange",(function(){return t.onEndDateChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"mat-form-field"),i["\u0275\u0275elementStart"](25,"mat-placeholder",2),i["\u0275\u0275text"](26,"datetime.time-to"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](27,"mat-datetimepicker-toggle",3),i["\u0275\u0275element"](28,"mat-datetimepicker",7,10),i["\u0275\u0275elementStart"](30,"input",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.endDate=e}))("ngModelChange",(function(){return t.onEndDateChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](7),r=i["\u0275\u0275reference"](14),a=i["\u0275\u0275reference"](22),o=i["\u0275\u0275reference"](29);i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("for",n),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.startDate)("matDatetimepicker",n),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("for",r),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.startDate)("matDatetimepicker",r),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("for",a),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.endDate)("matDatetimepicker",a),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("for",o),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.endDate)("matDatetimepicker",o)}},directives:[a.f,a.e,a.g,o.MatFormField,o.MatPlaceholder,s.TranslateDirective,l.i,o.MatPrefix,l.a,c.MatInput,r.DefaultValueAccessor,l.f,r.NgControlStatus,r.NgModel],styles:["[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:8px}[_nghost-%COMP%]     .mat-form-field-underline{bottom:8px}[_nghost-%COMP%]     .mat-form-field-infix{width:150px}@media screen and (max-width:599px){[_nghost-%COMP%]     .mat-form-field-infix{width:100%}}"]}),e}();!function(){i["\u0275setClassMetadata"](u,[{type:i.Component,args:[{selector:"tb-datetime-period",templateUrl:"./datetime-period.component.html",styleUrls:["./datetime-period.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return u})),multi:!0}]}]}],(function(){return[]}),{disabled:[{type:i.Input}]})}()},"/crD":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),r=n("Vurf"),a=n("l7P3"),o=n("C/rb"),s=n("IzEk"),l=n("2Vo4"),c=n("zp9Z"),u=n("//Q6"),p=function(){function e(e,t){var n=this;this.store=e,this.authService=t,this.menuSections$=new l.a([]),this.homeSections$=new l.a([]),this.store.pipe(Object(a.select)(o.e)).subscribe((function(e){e&&n.buildMenu()}))}return e.prototype.buildMenu=function(){var e=this;this.store.pipe(Object(a.select)(o.d),Object(s.a)(1)).subscribe((function(t){if(t){var n=void 0,i=void 0;switch(t.authority){case c.a.SYS_ADMIN:n=e.buildSysAdminMenu(t),i=e.buildSysAdminHome(t);break;case c.a.TENANT_ADMIN:n=e.buildTenantAdminMenu(t),i=e.buildTenantAdminHome(t);break;case c.a.CUSTOMER_USER:n=e.buildCustomerUserMenu(t),i=e.buildCustomerUserHome(t)}e.menuSections$.next(n),e.homeSections$.next(i)}}))},e.prototype.buildSysAdminMenu=function(e){var t=[];return t.push({id:Object(u.k)(),name:"home.home",type:"link",path:"/home",icon:"home"},{id:Object(u.k)(),name:"tenant.tenants",type:"link",path:"/tenants",icon:"supervisor_account"},{id:Object(u.k)(),name:"tenant-profile.tenant-profiles",type:"link",path:"/tenantProfiles",icon:"mdi:alpha-t-box",isMdiIcon:!0},{id:Object(u.k)(),name:"widget.widget-library",type:"link",path:"/widgets-bundles",icon:"now_widgets"},{id:Object(u.k)(),name:"admin.system-settings",type:"toggle",path:"/settings",height:"200px",icon:"settings",pages:[{id:Object(u.k)(),name:"admin.general",type:"link",path:"/settings/general",icon:"settings_applications"},{id:Object(u.k)(),name:"admin.outgoing-mail",type:"link",path:"/settings/outgoing-mail",icon:"mail"},{id:Object(u.k)(),name:"admin.sms-provider",type:"link",path:"/settings/sms-provider",icon:"sms"},{id:Object(u.k)(),name:"admin.security-settings",type:"link",path:"/settings/security-settings",icon:"security"},{id:Object(u.k)(),name:"admin.oauth2.oauth2",type:"link",path:"/settings/oauth2",icon:"security"}]}),t},e.prototype.buildSysAdminHome=function(e){var t=[];return t.push({name:"tenant.management",places:[{name:"tenant.tenants",icon:"supervisor_account",path:"/tenants"},{name:"tenant-profile.tenant-profiles",icon:"mdi:alpha-t-box",isMdiIcon:!0,path:"/tenantProfiles"}]},{name:"widget.management",places:[{name:"widget.widget-library",icon:"now_widgets",path:"/widgets-bundles"}]},{name:"admin.system-settings",places:[{name:"admin.general",icon:"settings_applications",path:"/settings/general"},{name:"admin.outgoing-mail",icon:"mail",path:"/settings/outgoing-mail"},{name:"admin.sms-provider",icon:"sms",path:"/settings/sms-provider"},{name:"admin.security-settings",icon:"security",path:"/settings/security-settings"},{name:"admin.oauth2.oauth2",icon:"security",path:"/settings/oauth2"}]}),t},e.prototype.buildTenantAdminMenu=function(e){var t=[];return t.push({id:Object(u.k)(),name:"home.home",type:"link",path:"/home",notExact:!0,icon:"home"},{id:Object(u.k)(),name:"rulechain.rulechains",type:"link",path:"/ruleChains",icon:"settings_ethernet"},{id:Object(u.k)(),name:"customer.customers",type:"link",path:"/customers",icon:"supervisor_account"},{id:Object(u.k)(),name:"asset.assets",type:"link",path:"/assets",icon:"domain"},{id:Object(u.k)(),name:"device.devices",type:"link",path:"/devices",icon:"devices_other"},{id:Object(u.k)(),name:"device-profile.device-profiles",type:"link",path:"/deviceProfiles",icon:"mdi:alpha-d-box",isMdiIcon:!0},{id:Object(u.k)(),name:"entity-view.entity-views",type:"link",path:"/entityViews",icon:"view_quilt"},{id:Object(u.k)(),name:"widget.widget-library",type:"link",path:"/widgets-bundles",icon:"now_widgets"},{id:Object(u.k)(),name:"dashboard.dashboards",type:"link",path:"/dashboards",icon:"dashboards"},{id:Object(u.k)(),name:"admin.home-settings",type:"link",path:"/settings/home",icon:"settings_applications"},{id:Object(u.k)(),name:"audit-log.audit-logs",type:"link",path:"/auditLogs",icon:"track_changes"},{id:Object(u.k)(),name:"api-usage.api-usage",type:"link",path:"/usage",icon:"insert_chart",notExact:!0}),t},e.prototype.buildTenantAdminHome=function(e){var t=[];return t.push({name:"rulechain.management",places:[{name:"rulechain.rulechains",icon:"settings_ethernet",path:"/ruleChains"}]},{name:"customer.management",places:[{name:"customer.customers",icon:"supervisor_account",path:"/customers"}]},{name:"asset.management",places:[{name:"asset.assets",icon:"domain",path:"/assets"}]},{name:"device.management",places:[{name:"device.devices",icon:"devices_other",path:"/devices"},{name:"device-profile.device-profiles",icon:"mdi:alpha-d-box",isMdiIcon:!0,path:"/deviceProfiles"}]},{name:"entity-view.management",places:[{name:"entity-view.entity-views",icon:"view_quilt",path:"/entityViews"}]},{name:"dashboard.management",places:[{name:"widget.widget-library",icon:"now_widgets",path:"/widgets-bundles"},{name:"dashboard.dashboards",icon:"dashboard",path:"/dashboards"}]},{name:"audit-log.audit",places:[{name:"audit-log.audit-logs",icon:"track_changes",path:"/auditLogs"},{name:"api-usage.api-usage",icon:"insert_chart",path:"/usage"}]}),t},e.prototype.buildCustomerUserMenu=function(e){var t=[];return t.push({id:Object(u.k)(),name:"home.home",type:"link",path:"/home",notExact:!0,icon:"home"},{id:Object(u.k)(),name:"asset.assets",type:"link",path:"/assets",icon:"domain"},{id:Object(u.k)(),name:"device.devices",type:"link",path:"/devices",icon:"devices_other"},{id:Object(u.k)(),name:"entity-view.entity-views",type:"link",path:"/entityViews",icon:"view_quilt"},{id:Object(u.k)(),name:"dashboard.dashboards",type:"link",path:"/dashboards",icon:"dashboard"}),t},e.prototype.buildCustomerUserHome=function(e){return[{name:"asset.view-assets",places:[{name:"asset.assets",icon:"domain",path:"/assets"}]},{name:"device.view-devices",places:[{name:"device.devices",icon:"devices_other",path:"/devices"}]},{name:"entity-view.management",places:[{name:"entity-view.entity-views",icon:"view_quilt",path:"/entityViews"}]},{name:"dashboard.view-dashboards",places:[{name:"dashboard.dashboards",icon:"dashboard",path:"/dashboards"}]}]},e.prototype.menuSections=function(){return this.menuSections$},e.prototype.homeSections=function(){return this.homeSections$},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.Store),i["\u0275\u0275inject"](r.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](p,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.Store},{type:r.a}]}),null)}()},0:function(e,t,n){e.exports=n("zUnb")},"0G7Z":function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return g}));var i=n("mrSG"),r=n("0lYY"),a=n("//Q6"),o=n("LRne"),s=n("cp0P"),l=n("xKAQ"),c=n("C/rb"),u=n("mbhL"),p=function(){function e(e,t,n){var i=this;this.dashboard=e,this.dashboardWidget=t,this.widget=n,this.inited=!1,this.destroyed=!1,this.subscriptions={},this.defaultSubscription=null,this.timewindowFunctions={onUpdateTimewindow:function(e,t,n){i.defaultSubscription&&i.defaultSubscription.onUpdateTimewindow(e,t,n)},onResetTimewindow:function(){i.defaultSubscription&&i.defaultSubscription.onResetTimewindow()}},this.controlApi={sendOneWayCommand:function(e,t,n){return i.defaultSubscription?i.defaultSubscription.sendOneWayCommand(e,t,n):Object(o.a)(null)},sendTwoWayCommand:function(e,t,n){return i.defaultSubscription?i.defaultSubscription.sendTwoWayCommand(e,t,n):Object(o.a)(null)}},this.utils={formatValue:a.h},this.hideTitlePanel=!1,this.rxjs={forkJoin:s.a,of:o.a}}return Object.defineProperty(e.prototype,"stateController",{get:function(){return this.dashboard.stateController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aliasController",{get:function(){return this.dashboard.aliasController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dashboardTimewindow",{get:function(){return this.dashboard.dashboardTimewindow},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"widgetConfig",{get:function(){return this.widget.config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this.widget.config.settings},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"units",{get:function(){return this.widget.config.units||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decimals",{get:function(){return Object(a.n)(this.widget.config.decimals)?this.widget.config.decimals:2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeDetector",{set:function(e){this.changeDetectorValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){return this.store?Object(c.b)(this.store):null},enumerable:!1,configurable:!0}),e.prototype.showSuccessToast=function(e,t,n,i,r){void 0===t&&(t=1e3),void 0===n&&(n="bottom"),void 0===i&&(i="left"),this.showToast("success",e,t,n,i,r)},e.prototype.showInfoToast=function(e,t,n,i){void 0===t&&(t="bottom"),void 0===n&&(n="left"),this.showToast("info",e,void 0,t,n,i)},e.prototype.showWarnToast=function(e,t,n,i){void 0===t&&(t="bottom"),void 0===n&&(n="left"),this.showToast("warn",e,void 0,t,n,i)},e.prototype.showErrorToast=function(e,t,n,i){void 0===t&&(t="bottom"),void 0===n&&(n="left"),this.showToast("error",e,void 0,t,n,i)},e.prototype.showToast=function(e,t,n,i,r,a){void 0===i&&(i="bottom"),void 0===r&&(r="left"),this.store.dispatch(new l.b({message:t,type:e,duration:n,verticalPosition:i,horizontalPosition:r,target:a,panelClass:this.widgetNamespace,forceDismiss:!0}))},e.prototype.hideToast=function(e){this.store.dispatch(new l.a({target:e}))},e.prototype.detectChanges=function(e){if(void 0===e&&(e=!1),!this.destroyed){e&&this.dashboardWidget.updateWidgetParams();try{this.changeDetectorValue.detectChanges()}catch(t){}}},e.prototype.updateWidgetParams=function(){var e=this;this.destroyed||setTimeout((function(){e.dashboardWidget.updateWidgetParams()}),0)},e.prototype.updateAliases=function(e){this.aliasController.updateAliases(e)},e.prototype.reset=function(){this.destroyed=!1,this.hideTitlePanel=!1,this.widgetTitle=void 0,this.widgetActions=void 0},e.prototype.pageLink=function(e,t,n,i){return void 0===t&&(t=0),void 0===n&&(n=null),void 0===i&&(i=null),new u.b(e,t,n,i)},e}(),d={type:r.k.latest,widgetName:"Widget type not found",alias:"undefined",sizeX:8,sizeY:6,resources:[],templateHtml:'<div class="tb-widget-error-container"><div class="tb-widget-error-msg" innerHTML="{{\'widget.widget-type-not-found\' | translate }}"></div></div>',templateCss:"",controllerScript:"self.onInit = function() {}",settingsSchema:"{}\n",dataKeySettingsSchema:"{}\n",image:null,description:null,defaultConfig:'{\n"title": "Widget type not found",\n"datasources": [],\n"settings": {}\n}\n',typeParameters:{}},m={type:r.k.latest,widgetName:"Error loading widget",alias:"error",sizeX:8,sizeY:6,resources:[],templateHtml:'<div class="tb-widget-error-container"><div translate class="tb-widget-error-msg">widget.widget-type-load-error</div><div *ngFor="let error of errorMessages" class="tb-widget-error-msg">{{ error }}</div></div>',templateCss:"",controllerScript:"self.onInit = function() {}",settingsSchema:"{}\n",dataKeySettingsSchema:"{}\n",image:null,description:null,defaultConfig:'{\n"title": "Widget failed to load",\n"datasources": [],\n"settings": {}\n}\n',typeParameters:{}};function f(e){var t=h(e);return t.image=e.image,t.description=e.description,t}function h(e){return{widgetName:e.name,alias:e.alias,type:e.descriptor.type,sizeX:e.descriptor.sizeX,sizeY:e.descriptor.sizeY,resources:e.descriptor.resources,templateHtml:e.descriptor.templateHtml,templateCss:e.descriptor.templateCss,controllerScript:e.descriptor.controllerScript,settingsSchema:e.descriptor.settingsSchema,dataKeySettingsSchema:e.descriptor.dataKeySettingsSchema,defaultConfig:e.descriptor.defaultConfig}}function y(e,t,n,r,a){var o=g(e,t,n,r,a);return Object(i.a)(Object(i.a)({},o),{description:e.description,image:e.image})}function g(e,t,n,i,r){var a={type:e.type,sizeX:e.sizeX,sizeY:e.sizeY,resources:e.resources,templateHtml:e.templateHtml,templateCss:e.templateCss,controllerScript:e.controllerScript,settingsSchema:e.settingsSchema,dataKeySettingsSchema:e.dataKeySettingsSchema,defaultConfig:e.defaultConfig};return{id:t,tenantId:n,createdTime:r,bundleAlias:i,alias:e.alias,name:e.widgetName,descriptor:a}}},"0HhY":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("mrSG"),r=n("fXoL"),a=n("RxGS"),o=n("3Pt+"),s=n("8LU1"),l=n("OiFK"),c=n("S+vS"),u=n("9DSm"),p=n("l7P3"),d=n("jhN1"),m=n("sYmb"),f=n("ofXK"),h=n("3TNn"),y=n("bTqV"),g=n("Qu3c"),b=n("NFeN"),v=["flow"];function C(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"label",11),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.label)}}function E(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",15),r["\u0275\u0275text"](1,"dashboard.no-image"),r["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&r["\u0275\u0275element"](0,"img",16),2&e){var n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("src",n.safeImageUrl,r["\u0275\u0275sanitizeUrl"])}}function S(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",12),r["\u0275\u0275template"](1,E,2,0,"div",13),r["\u0275\u0275template"](2,T,1,1,"ng-template",null,14,r["\u0275\u0275templateRefExtractor"]),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275reference"](3),i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!i.safeImageUrl)("ngIfElse",n)}}function w(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",17),r["\u0275\u0275elementStart"](1,"button",18),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().clearImage()})),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementStart"](3,"mat-icon"),r["\u0275\u0275text"](4,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](2,1,"action.remove")))}var M=function(e){return{size:e}};function O(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",19),r["\u0275\u0275pipe"](1,"fileSize"),r["\u0275\u0275text"](2,"dashboard.maximum-upload-file-size"),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("translateParams",r["\u0275\u0275pureFunction1"](3,M,r["\u0275\u0275pipeBind1"](1,1,n.maxSizeByte)))}}var I=function(){return{singleFile:!0,allowDuplicateUploads:!0}},x=function(){return{accept:"image/*"}},j=function(e){function t(t,n,i,r,a,o){var s=e.call(this,t)||this;return s.store=t,s.utils=n,s.sanitizer=i,s.dialog=r,s.translate=a,s.fileSize=o,s.showClearButton=!0,s.showPreview=!0,s.inputId=s.utils.guid(),s.propagateChange=null,s}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"required",{get:function(){return this.requiredValue},set:function(e){var t=Object(s.coerceBooleanProperty)(e);this.requiredValue!==t&&(this.requiredValue=t)},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this.autoUploadSubscription=this.flow.events$.subscribe((function(t){if("fileAdded"===t.type){var n=t.event[0].file;if(e.maxSizeByte&&e.maxSizeByte<n.size)return e.dialog.alert(e.translate.instant("dashboard.cannot-upload-file"),e.translate.instant("dashboard.maximum-upload-file-size",{size:e.fileSize.transform(e.maxSizeByte)})).subscribe((function(){})),!1;var i=new FileReader;i.onload=function(t){"string"==typeof i.result&&i.result.startsWith("data:image/")&&(e.imageUrl=i.result,e.safeImageUrl=e.sanitizer.bypassSecurityTrustUrl(e.imageUrl),e.updateModel())},i.readAsDataURL(n)}}))},t.prototype.ngOnDestroy=function(){this.autoUploadSubscription.unsubscribe()},t.prototype.registerOnChange=function(e){this.propagateChange=e},t.prototype.registerOnTouched=function(e){},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype.writeValue=function(e){this.imageUrl=e,this.imageUrl?this.safeImageUrl=this.sanitizer.bypassSecurityTrustUrl(this.imageUrl):this.safeImageUrl=null},t.prototype.updateModel=function(){this.propagateChange(this.imageUrl)},t.prototype.clearImage=function(){this.imageUrl=null,this.safeImageUrl=null,this.updateModel()},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](p.Store),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](d.DomSanitizer),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](m.TranslateService),r["\u0275\u0275directiveInject"](u.a))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-image-input"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275staticViewQuery"](v,!0),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.flow=n.first))},inputs:{label:"label",maxSizeByte:"maxSizeByte",required:"required",disabled:"disabled",showClearButton:"showClearButton",showPreview:"showPreview",inputId:"inputId"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return t})),multi:!0}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:12,vars:12,consts:[[1,"tb-container"],["class","tb-title",4,"ngIf"],[3,"flowConfig"],["flow","flow"],[1,"tb-image-select-container"],["class","tb-image-preview-container",4,"ngIf"],["class","tb-image-clear-container",4,"ngIf"],["flowDrop","",1,"drop-area","tb-flow-drop",3,"flow"],["translate","",3,"for"],["flowButton","","type","file",1,"file-input",3,"flow","flowAttributes","id"],["class","tb-hint","translate","",3,"translateParams",4,"ngIf"],[1,"tb-title"],[1,"tb-image-preview-container"],["translate","",4,"ngIf","ngIfElse"],["elseBlock",""],["translate",""],[1,"tb-image-preview",3,"src"],[1,"tb-image-clear-container"],["mat-button","","mat-icon-button","","color","primary","type","button","matTooltipPosition","above",1,"tb-image-clear-btn",3,"matTooltip","click"],["translate","",1,"tb-hint",3,"translateParams"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,C,2,1,"label",1),r["\u0275\u0275elementContainerStart"](2,2,3),r["\u0275\u0275elementStart"](4,"div",4),r["\u0275\u0275template"](5,S,4,2,"div",5),r["\u0275\u0275template"](6,w,5,3,"div",6),r["\u0275\u0275elementStart"](7,"div",7),r["\u0275\u0275elementStart"](8,"label",8),r["\u0275\u0275text"](9,"dashboard.drop-image"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](10,"input",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275template"](11,O,3,5,"div",10),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275reference"](3);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.label),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("flowConfig",r["\u0275\u0275pureFunction0"](10,I)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.showPreview),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showClearButton),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("flow",n.flowJs),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("for",t.inputId),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("id",t.inputId),r["\u0275\u0275property"]("flow",n.flowJs)("flowAttributes",r["\u0275\u0275pureFunction0"](11,x)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.maxSizeByte)}},directives:[f.NgIf,h.c,h.b,m.TranslateDirective,h.a,y.MatButton,g.MatTooltip,b.MatIcon],pipes:[m.TranslatePipe,u.a],styles:["[_nghost-%COMP%]   .tb-container[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .tb-container[_ngcontent-%COMP%]   label.tb-title[_ngcontent-%COMP%]{display:block;padding-bottom:8px}[_nghost-%COMP%]   .tb-image-select-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100px}[_nghost-%COMP%]   .tb-image-preview[_ngcontent-%COMP%]{width:auto;max-width:98px;height:auto;max-height:98px}[_nghost-%COMP%]   .tb-image-preview-container[_ngcontent-%COMP%]{position:relative;float:left;width:100px;height:100px;margin-right:12px;vertical-align:top;border:1px solid}[_nghost-%COMP%]   .tb-image-preview-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;font-size:18px;text-align:center}[_nghost-%COMP%]   .tb-image-preview-container[_ngcontent-%COMP%]   .tb-image-preview[_ngcontent-%COMP%], [_nghost-%COMP%]   .tb-image-preview-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .tb-image-clear-container[_ngcontent-%COMP%]{position:relative;float:right;width:48px;height:100px}[_nghost-%COMP%]   .tb-image-clear-btn[_ngcontent-%COMP%]{position:absolute!important;top:50%;transform:translateY(-50%)!important}[_nghost-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .tb-flow-drop[_ngcontent-%COMP%]{position:relative;height:100px;overflow:hidden;border:2px dashed}[_nghost-%COMP%]   .tb-flow-drop[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;font-size:16px;text-align:center}@media screen and (min-width:960px){[_nghost-%COMP%]   .tb-flow-drop[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:24px}}[_nghost-%COMP%]   .tb-hint[_ngcontent-%COMP%]{margin-top:8px}"]}),t}(a.a);!function(){r["\u0275setClassMetadata"](j,[{type:r.Component,args:[{selector:"tb-image-input",templateUrl:"./image-input.component.html",styleUrls:["./image-input.component.scss"],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return j})),multi:!0}]}]}],(function(){return[{type:p.Store},{type:l.a},{type:d.DomSanitizer},{type:c.a},{type:m.TranslateService},{type:u.a}]}),{label:[{type:r.Input}],maxSizeByte:[{type:r.Input}],required:[{type:r.Input}],disabled:[{type:r.Input}],showClearButton:[{type:r.Input}],showPreview:[{type:r.Input}],inputId:[{type:r.Input}],flow:[{type:r.ViewChild,args:["flow",{static:!0}]}]})}()},"0Miz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("R0Ic"),a=n("kmnG"),o=function(){function e(){}return Object.defineProperty(e.prototype,"error",{set:function(e){var t=this;e&&!this.message?(this.message=e,this.state="hide",setTimeout((function(){t.state="show"}))):(this.errorValue=e,this.state=e?"show":"hide")},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-error"]],inputs:{error:"error"},decls:3,vars:2,consts:[[2,"margin-top","0.5rem","font-size",".75rem"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-error"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("@animation",t.state),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.message," "))},directives:[a.MatError],styles:["[_nghost-%COMP%] {\n        height: 24px;\n    }"],data:{animation:[Object(r.trigger)("animation",[Object(r.state)("show",Object(r.style)({opacity:1})),Object(r.state)("hide",Object(r.style)({opacity:0,transform:"translateY(-1rem)"})),Object(r.transition)("show => hide",Object(r.animate)("200ms ease-out")),Object(r.transition)("* => show",Object(r.animate)("200ms ease-in"))])]}}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Component,args:[{selector:"tb-error",template:'\n  <div [@animation]="state" style="margin-top:0.5rem;font-size:.75rem">\n      <mat-error >\n      {{message}}\n    </mat-error>\n    </div>\n  ',styles:["\n    :host {\n        height: 24px;\n    }\n  "],animations:[Object(r.trigger)("animation",[Object(r.state)("show",Object(r.style)({opacity:1})),Object(r.state)("hide",Object(r.style)({opacity:0,transform:"translateY(-1rem)"})),Object(r.transition)("show => hide",Object(r.animate)("200ms ease-out")),Object(r.transition)("* => show",Object(r.animate)("200ms ease-in"))])]}]}],null,{error:[{type:i.Input}]})}()},"0lYY":function(e,t,n){"use strict";var i;n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return f})),function(e){e.timeseries="timeseries",e.latest="latest",e.rpc="rpc",e.alarm="alarm",e.static="static"}(i||(i={}));var r,a=new Map([[i.timeseries,{name:"widget.timeseries",icon:"timeline",configHelpLinkId:"widgetsConfigTimeseries",template:{bundleAlias:"charts",alias:"basic_timeseries"}}],[i.latest,{name:"widget.latest",icon:"track_changes",configHelpLinkId:"widgetsConfigLatest",template:{bundleAlias:"cards",alias:"attributes_card"}}],[i.rpc,{name:"widget.rpc",icon:"mdi:developer-board",configHelpLinkId:"widgetsConfigRpc",isMdiIcon:!0,template:{bundleAlias:"gpio_widgets",alias:"basic_gpio_control"}}],[i.alarm,{name:"widget.alarm",icon:"error",configHelpLinkId:"widgetsConfigAlarm",template:{bundleAlias:"alarm_widgets",alias:"alarms_table"}}],[i.static,{name:"widget.static",icon:"font_download",configHelpLinkId:"widgetsConfigStatic",template:{bundleAlias:"cards",alias:"html_card"}}]]),o={headerButton:{name:"widget-action.header-button",value:"headerButton",multiple:!0}};!function(e){e.column="column",e.row="row"}(r||(r={}));var s,l=new Map([[r.column,"direction.column"],[r.row,"direction.row"]]);!function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right"}(s||(s={}));var c,u=new Map([[s.top,"position.top"],[s.bottom,"position.bottom"],[s.left,"position.left"],[s.right,"position.right"]]);function p(e){return{direction:r.column,position:s.bottom,sortDataKeys:!1,showMin:!1,showMax:!1,showAvg:e===i.timeseries,showTotal:!1}}!function(e){e.function="function",e.entity="entity",e.entityCount="entityCount"}(c||(c={}));var d,m=new Map([[c.function,"function.function"],[c.entity,"entity.entity"],[c.entityCount,"entity.entities-count"]]);!function(e){e.openDashboardState="openDashboardState",e.updateDashboardState="updateDashboardState",e.openDashboard="openDashboard",e.custom="custom",e.customPretty="customPretty"}(d||(d={}));var f=new Map([[d.openDashboardState,"widget-action.open-dashboard-state"],[d.updateDashboardState,"widget-action.update-dashboard-state"],[d.openDashboard,"widget-action.open-dashboard"],[d.custom,"widget-action.custom"],[d.customPretty,"widget-action.custom-pretty"]])},"16lU":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("z6cu"),s=n("lJxs"),l=n("5+tZ"),c=n("w1tV"),u=n("05l1"),p=n("x+ZX"),d=n("U3y+"),m=n("8LU1"),f=n("1y+p"),h=n("DaoB"),y=n("j37L"),g=n("gM18"),b=n("FtGj"),v=n("l7P3"),C=n("sYmb"),E=n("kmnG"),T=n("A5z7"),S=n("ofXK"),w=n("qFsG"),M=n("/1cH"),O=n("NFeN"),I=n("FKr1"),x=n("d5eY"),j=["entitySubtypeInput"],A=["entitySubtypeAutocomplete"],R=["chipList"];function N(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",13),r["\u0275\u0275text"](1,"close"),r["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-chip",11),r["\u0275\u0275listener"]("removed",(function(){r["\u0275\u0275restoreView"](n);var e=t.$implicit;return r["\u0275\u0275nextContext"]().remove(e)})),r["\u0275\u0275text"](1),r["\u0275\u0275template"](2,N,2,0,"mat-icon",12),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("selectable",!a.disabled)("removable",!a.disabled),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!a.disabled)}}function P(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",14),r["\u0275\u0275element"](1,"span",15),r["\u0275\u0275pipe"](2,"highlight"),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("innerHTML",r["\u0275\u0275pipeBind2"](2,2,n,i.searchText),r["\u0275\u0275sanitizeHtml"])}}var _=function(e){return{entitySubtype:e}};function V(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",14),r["\u0275\u0275elementStart"](1,"span"),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",null),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](3,2,n.translate.get(n.noSubtypesMathingText,r["\u0275\u0275pureFunction1"](4,_,n.searchText)))," ")}}function F(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,n.subtypeListEmptyText)," ")}}var L=function(){function e(e,t,n,i,r,o,s){this.store=e,this.broadcast=t,this.translate=n,this.assetService=i,this.deviceService=r,this.entityViewService=o,this.fb=s,this.entitySubtypeList=[],this.separatorKeysCodes=[b.ENTER,b.COMMA,b.SEMICOLON],this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.entitySubtypeListFormGroup=this.fb.group({entitySubtypeList:[this.entitySubtypeList,this.required?[a.Validators.required]:[]],entitySubtype:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){var t=Object(m.coerceBooleanProperty)(e);this.requiredValue!==t&&(this.requiredValue=t,this.updateValidators())},enumerable:!1,configurable:!0}),e.prototype.updateValidators=function(){this.entitySubtypeListFormGroup.get("entitySubtypeList").setValidators(this.required?[a.Validators.required]:[]),this.entitySubtypeListFormGroup.get("entitySubtypeList").updateValueAndValidity()},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;switch(this.entityType){case d.b.ASSET:this.placeholder=this.required?this.translate.instant("asset.enter-asset-type"):this.translate.instant("asset.any-asset"),this.secondaryPlaceholder="+"+this.translate.instant("asset.asset-type"),this.noSubtypesMathingText="asset.no-asset-types-matching",this.subtypeListEmptyText="asset.asset-type-list-empty",this.broadcastSubscription=this.broadcast.on("assetSaved",(function(){e.entitySubtypes=null}));break;case d.b.DEVICE:this.placeholder=this.required?this.translate.instant("device.enter-device-type"):this.translate.instant("device.any-device"),this.secondaryPlaceholder="+"+this.translate.instant("device.device-type"),this.noSubtypesMathingText="device.no-device-types-matching",this.subtypeListEmptyText="device.device-type-list-empty",this.broadcastSubscription=this.broadcast.on("deviceSaved",(function(){e.entitySubtypes=null}));break;case d.b.ENTITY_VIEW:this.placeholder=this.required?this.translate.instant("entity-view.enter-entity-view-type"):this.translate.instant("entity-view.any-entity-view"),this.secondaryPlaceholder="+"+this.translate.instant("entity-view.entity-view-type"),this.noSubtypesMathingText="entity-view.no-entity-view-types-matching",this.subtypeListEmptyText="entity-view.entity-view-type-list-empty",this.broadcastSubscription=this.broadcast.on("entityViewSaved",(function(){e.entitySubtypes=null}))}this.filteredEntitySubtypeList=this.entitySubtypeListFormGroup.get("entitySubtype").valueChanges.pipe(Object(s.a)((function(e){return e||""})),Object(l.b)((function(t){return e.fetchEntitySubtypes(t)})),Object(c.a)())},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.broadcastSubscription&&this.broadcastSubscription.unsubscribe()},e.prototype.setDisabledState=function(e){this.disabled=e,e?this.entitySubtypeListFormGroup.disable({emitEvent:!1}):this.entitySubtypeListFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){this.searchText="",null!=e&&e.length>0?(this.modelValue=Object(i.g)(e),this.entitySubtypeList=Object(i.g)(e),this.entitySubtypeListFormGroup.get("entitySubtypeList").setValue(this.entitySubtypeList)):(this.entitySubtypeList=[],this.entitySubtypeListFormGroup.get("entitySubtypeList").setValue(this.entitySubtypeList),this.modelValue=null),this.dirty=!0},e.prototype.add=function(e){this.modelValue&&-1!==this.modelValue.indexOf(e)||(this.modelValue||(this.modelValue=[]),this.modelValue.push(e),this.entitySubtypeList.push(e),this.entitySubtypeListFormGroup.get("entitySubtypeList").setValue(this.entitySubtypeList)),this.propagateChange(this.modelValue),this.clear()},e.prototype.chipAdd=function(e){var t=e.value;(t||"").trim()&&this.add(t.trim()),this.clear("")},e.prototype.remove=function(e){var t=this.entitySubtypeList.indexOf(e);t>=0&&(this.entitySubtypeList.splice(t,1),this.entitySubtypeListFormGroup.get("entitySubtypeList").setValue(this.entitySubtypeList),this.modelValue.splice(t,1),this.modelValue.length||(this.modelValue=null),this.propagateChange(this.modelValue),this.clear())},e.prototype.selected=function(e){this.add(e.option.viewValue),this.clear("")},e.prototype.displayEntitySubtypeFn=function(e){return e||void 0},e.prototype.fetchEntitySubtypes=function(e){return this.searchText=e,this.getEntitySubtypes().pipe(Object(s.a)((function(t){var n=t.filter((function(t){return!e||t.toUpperCase().startsWith(e.toUpperCase())}));return n.length||(n=[e]),n})))},e.prototype.getEntitySubtypes=function(){if(!this.entitySubtypes){var e=void 0;switch(this.entityType){case d.b.ASSET:e=this.assetService.getAssetTypes({ignoreLoading:!0});break;case d.b.DEVICE:e=this.deviceService.getDeviceTypes({ignoreLoading:!0});break;case d.b.ENTITY_VIEW:e=this.entityViewService.getEntityViewTypes({ignoreLoading:!0})}if(!e)return Object(o.a)(null);this.entitySubtypes=e.pipe(Object(s.a)((function(e){return e.map((function(e){return e.type}))})),Object(u.a)(1),Object(p.a)())}return this.entitySubtypes},e.prototype.onFocus=function(){this.dirty&&(this.entitySubtypeListFormGroup.get("entitySubtype").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.clear=function(e){var t=this;void 0===e&&(e=""),this.entitySubtypeInput.nativeElement.value=e,this.entitySubtypeListFormGroup.get("entitySubtype").patchValue(e,{emitEvent:!0}),setTimeout((function(){t.entitySubtypeInput.nativeElement.blur(),t.entitySubtypeInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](v.Store),r["\u0275\u0275directiveInject"](g.a),r["\u0275\u0275directiveInject"](C.TranslateService),r["\u0275\u0275directiveInject"](f.a),r["\u0275\u0275directiveInject"](h.a),r["\u0275\u0275directiveInject"](y.a),r["\u0275\u0275directiveInject"](a.FormBuilder))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-subtype-list"]],viewQuery:function(e,t){var n;(1&e&&(r["\u0275\u0275viewQuery"](j,!0),r["\u0275\u0275viewQuery"](A,!0),r["\u0275\u0275staticViewQuery"](R,!0)),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.entitySubtypeInput=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.entitySubtypeAutocomplete=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.chipList=n.first))},inputs:{required:"required",disabled:"disabled",entityType:"entityType"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}])],decls:14,vars:15,consts:[["appearance","standard",1,"mat-block",3,"formGroup"],["formControlName","entitySubtypeList"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","entitySubtype","matAutocompleteOrigin","",2,"max-width","200px",3,"placeholder","matAutocompleteConnectedTo","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","focusin","matChipInputTokenEnd"],["entitySubtypeInput","","origin","matAutocompleteOrigin"],[1,"tb-autocomplete",3,"displayWith","optionSelected"],["entitySubtypeAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[4,"ngIf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"mat-chip-list",1,2),r["\u0275\u0275template"](3,k,3,4,"mat-chip",3),r["\u0275\u0275elementStart"](4,"input",4,5),r["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()}))("matChipInputTokenEnd",(function(e){return t.chipAdd(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mat-autocomplete",6,7),r["\u0275\u0275listener"]("optionSelected",(function(e){return t.selected(e)})),r["\u0275\u0275template"](9,P,3,5,"mat-option",8),r["\u0275\u0275pipe"](10,"async"),r["\u0275\u0275template"](11,V,4,6,"mat-option",9),r["\u0275\u0275pipe"](12,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,F,3,3,"mat-error",10),r["\u0275\u0275elementEnd"]()),2&e){var n,i=r["\u0275\u0275reference"](2),a=r["\u0275\u0275reference"](6),o=r["\u0275\u0275reference"](8);r["\u0275\u0275property"]("formGroup",t.entitySubtypeListFormGroup),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",t.entitySubtypeList),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("placeholder",t.disabled?"":t.entitySubtypeList&&t.entitySubtypeList.length?t.secondaryPlaceholder:t.placeholder),r["\u0275\u0275property"]("matAutocompleteConnectedTo",a)("matAutocomplete",o)("matChipInputFor",i)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("displayWith",t.displayEntitySubtypeFn),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](10,11,t.filteredEntitySubtypeList)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!(null!=(n=r["\u0275\u0275pipeBind1"](12,13,t.filteredEntitySubtypeList))&&n.length)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.entitySubtypeListFormGroup.get("entitySubtypeList").hasError("required"))}},directives:[E.MatFormField,a.NgControlStatusGroup,a.FormGroupDirective,T.MatChipList,a.NgControlStatus,a.FormControlName,S.NgForOf,w.MatInput,a.DefaultValueAccessor,M.MatAutocompleteTrigger,T.MatChipInput,M.MatAutocompleteOrigin,M.MatAutocomplete,S.NgIf,T.MatChip,O.MatIcon,T.MatChipRemove,I.MatOption,E.MatError],pipes:[S.AsyncPipe,x.a,C.TranslatePipe],styles:["[_nghost-%COMP%]     .mat-form-field .mat-form-field-infix{border-top:none}"]}),e}();!function(){r["\u0275setClassMetadata"](L,[{type:r.Component,args:[{selector:"tb-entity-subtype-list",templateUrl:"./entity-subtype-list.component.html",styleUrls:["./entity-subtype-list.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return L})),multi:!0}]}]}],(function(){return[{type:v.Store},{type:g.a},{type:C.TranslateService},{type:f.a},{type:h.a},{type:y.a},{type:a.FormBuilder}]}),{required:[{type:r.Input}],disabled:[{type:r.Input}],entityType:[{type:r.Input}],entitySubtypeInput:[{type:r.ViewChild,args:["entitySubtypeInput"]}],entitySubtypeAutocomplete:[{type:r.ViewChild,args:["entitySubtypeAutocomplete"]}],chipList:[{type:r.ViewChild,args:["chipList",{static:!0}]}]})}()},"1wU7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("XiUz"),a=function(){function e(){this.logo="assets/logo_title_white.svg"}return e.prototype.gotoThingsboard=function(){window.open("https://thingsboard.io","_blank")},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-logo"]],decls:1,vars:1,consts:[["fxFlex","","aria-label","logo",1,"tb-logo-title",3,"src","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"img",0),i["\u0275\u0275listener"]("click",(function(){return t.gotoThingsboard()})),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("src",t.logo,i["\u0275\u0275sanitizeUrl"])},directives:[r.b],styles:[".login-logo[_nghost-%COMP%]   img.tb-logo-title[_ngcontent-%COMP%], .login-logo   [_nghost-%COMP%]   img.tb-logo-title[_ngcontent-%COMP%]{width:280px;height:60px;text-decoration:none;cursor:pointer;border:none;transform:none}.login-logo[_nghost-%COMP%]   img.tb-logo-title[_ngcontent-%COMP%]:focus, .login-logo   [_nghost-%COMP%]   img.tb-logo-title[_ngcontent-%COMP%]:focus{outline:0}"]}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Component,args:[{selector:"tb-logo",templateUrl:"./logo.component.html",styleUrls:["./logo.component.scss"]}]}],null,null)}()},"1y+p":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.getTenantAssetInfos=function(e,t,n){return void 0===t&&(t=""),this.http.get("/api/tenant/assetInfos"+e.toQuery()+"&type="+t,Object(r.b)(n))},e.prototype.getCustomerAssetInfos=function(e,t,n,i){return void 0===n&&(n=""),this.http.get("/api/customer/"+e+"/assetInfos"+t.toQuery()+"&type="+n,Object(r.b)(i))},e.prototype.getAsset=function(e,t){return this.http.get("/api/asset/"+e,Object(r.b)(t))},e.prototype.getAssets=function(e,t){return this.http.get("/api/assets?assetIds="+e.join(","),Object(r.b)(t))},e.prototype.getAssetInfo=function(e,t){return this.http.get("/api/asset/info/"+e,Object(r.b)(t))},e.prototype.saveAsset=function(e,t){return this.http.post("/api/asset",e,Object(r.b)(t))},e.prototype.deleteAsset=function(e,t){return this.http.delete("/api/asset/"+e,Object(r.b)(t))},e.prototype.getAssetTypes=function(e){return this.http.get("/api/asset/types",Object(r.b)(e))},e.prototype.makeAssetPublic=function(e,t){return this.http.post("/api/customer/public/asset/"+e,null,Object(r.b)(t))},e.prototype.assignAssetToCustomer=function(e,t,n){return this.http.post("/api/customer/"+e+"/asset/"+t,null,Object(r.b)(n))},e.prototype.unassignAssetFromCustomer=function(e,t){return this.http.delete("/api/customer/asset/"+e,Object(r.b)(t))},e.prototype.findByQuery=function(e,t){return this.http.post("/api/assets",e,Object(r.b)(t))},e.prototype.findByName=function(e,t){return this.http.get("/api/tenant/assets?assetName="+e,Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},"2+wj":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("A5z7"),a=function(){function e(e,t){this.chipsList=e,this.elementRef=t,this.chipDrop=new i.EventEmitter,this.draggableChips=[]}return e.prototype.onDocumentMouseUp=function(){this.draggableChips.forEach((function(e){e.preventDrag=!1}))},e.prototype.ngAfterViewInit=function(){var e=this;this.configureDraggableChipList(),this.chipsList.chips.changes.subscribe((function(){e.configureDraggableChipList()}))},e.prototype.configureDraggableChipList=function(){var e=this,t=[];this.chipsList.chips.forEach((function(t){e.draggableChips.find((function(e){return e.chip===t}))||e.draggableChips.push(new s(t,e.chipsList,e.elementRef.nativeElement,e.chipDrop))})),this.draggableChips.forEach((function(n){e.chipsList.chips.find((function(e){return e===n.chip}))||t.push(n)})),t.forEach((function(t){var n=e.draggableChips.indexOf(t);e.draggableChips.splice(n,1)}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.MatChipList),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["mat-chip-list","tb-chip-draggable",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("mouseup",(function(){return t.onDocumentMouseUp()}),!1,i["\u0275\u0275resolveDocument"])},outputs:{chipDrop:"chipDrop"}}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Directive,args:[{selector:"mat-chip-list[tb-chip-draggable]"}]}],(function(){return[{type:r.MatChipList},{type:i.ElementRef}]}),{chipDrop:[{type:i.Output}],onDocumentMouseUp:[{type:i.HostListener,args:["document:mouseup"]}]})}();var o=null,s=function(){function e(e,t,n,i){this.chip=e,this.chipsList=t,this.chipListElement=n,this.chipDrop=i,this.dragging=!1,this.counter=0,this.preventDrag=!1,this.dropHandler=this.onDrop.bind(this),this.dragOverHandler=this.onDragOver.bind(this),this.chipElement=e._elementRef.nativeElement,this.chipElement.setAttribute("draggable","true"),this.handle=this.chipElement.getElementsByClassName("tb-chip-drag-handle")[0],this.chipElement.addEventListener("mousedown",this.onMouseDown.bind(this)),this.chipElement.addEventListener("dragstart",this.onDragStart.bind(this)),this.chipElement.addEventListener("dragend",this.onDragEnd.bind(this)),this.chipElement.addEventListener("dragenter",this.onDragEnter.bind(this)),this.chipElement.addEventListener("dragleave",this.onDragLeave.bind(this))}return e.prototype.onMouseDown=function(e){e.target!==this.handle&&(this.preventDrag=!0)},e.prototype.onDragStart=function(e){if(this.preventDrag)e.preventDefault();else{e.stopPropagation(),this.dragging=!0,o=this.chipListElement.id,this.chipListElement.classList.add("dragging"),this.chipElement.classList.add("dragging");var t=(e=e.originalEvent||e).dataTransfer;t.effectAllowed="copyMove",t.dropEffect="move",t.setData("text",this.index()+"")}},e.prototype.onDragEnter=function(e){this.counter++,this.dragging||(this.chipElement.removeEventListener("dragover",this.dragOverHandler),this.chipElement.removeEventListener("drop",this.dropHandler),this.chipElement.addEventListener("dragover",this.dragOverHandler),this.chipElement.addEventListener("drop",this.dropHandler))},e.prototype.onDragLeave=function(e){this.counter--,this.counter<=0&&(this.counter=0,this.chipElement.classList.remove("dropping"),this.chipElement.classList.remove("dropping-after"),this.chipElement.classList.remove("dropping-before"))},e.prototype.onDragEnd=function(e){e.stopPropagation(),this.dragging=!1,o=null,this.chipListElement.classList.remove("dragging"),this.chipElement.classList.remove("dragging")},e.prototype.onDragOver=function(e){if(!this.dragging&&(e.preventDefault(),o===this.chipListElement.id)){var t=this.chipElement.getBoundingClientRect();e=e.originalEvent||e;var n={width:t.right-t.left,height:t.bottom-t.top,x:e.clientX-t.left,y:e.clientY-t.top},i=n.x,r=n.width/2,a=n.y,s=n.height/2;this.chipElement.classList.add("dropping"),this.chipElement.classList.remove("dropping-after"),this.chipElement.classList.remove("dropping-before"),i>=r||a>=s?(this.dropPosition="after",this.chipElement.classList.add("dropping-after")):(this.dropPosition="before",this.chipElement.classList.add("dropping-before"))}},e.prototype.onDrop=function(e){var t=this;if(this.counter=0,e.preventDefault(),o===this.chipListElement.id){e=e.originalEvent||e;var n,i=parseInt(e.dataTransfer.getData("text"),10),r=this.index();n="before"===this.dropPosition?i<r?r-1:r:i<r?r:r+1,this.dropTimeout&&clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout((function(){t.dropPosition=null,t.chipElement.classList.remove("dropping"),t.chipElement.classList.remove("dropping-after"),t.chipElement.classList.remove("dropping-before"),t.chipElement.removeEventListener("drop",t.dropHandler);var e={from:i,to:n};t.chipDrop.emit(e)}),62.5)}},e.prototype.index=function(){return this.chipsList.chips.toArray().indexOf(this.chip)},e}()},"21Fy":function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var i=n("mrSG"),r=n("fXoL"),a=n("z6cu"),o=n("cp0P"),s=n("EY2u"),l=n("LRne"),c=n("mbhL"),u=n("U3y+"),p=n("DaoB"),d=n("WNjs"),m=n("ktVl"),f=n("9D3k"),h=n("YnEf"),y=n("4r/P"),g=n("C/rb"),b=n("zp9Z"),v=n("lJxs"),C=n("FQpF"),E=n("bOdf"),T=n("IAdc"),S=n("5+tZ"),w=n("JIr8"),M=n("1y+p"),O=n("j37L"),I=n("3Tyt"),x=n("Y8nr"),j=n("C4fA"),A=n("0lYY"),R=n("OiFK"),N=n("MBk6"),k=n("6OOC"),P=n("Bjlt"),_=n("//Q6"),V=n("JIJk"),F=n("BsGH"),L=n("xw5a"),D=n("UZbx"),U=n("tk/3"),B=n("l7P3"),G=function(){function e(e,t,n,i,r,a,o,s,l,c,u,p,d){this.http=e,this.store=t,this.deviceService=n,this.assetService=i,this.entityViewService=r,this.tenantService=a,this.customerService=o,this.userService=s,this.ruleChainService=l,this.dashboardService=c,this.entityRelationService=u,this.attributeService=p,this.utils=d}return e.prototype.getEntityObservable=function(e,t,n){var i;switch(e){case u.b.DEVICE:i=this.deviceService.getDevice(t,n);break;case u.b.ASSET:i=this.assetService.getAsset(t,n);break;case u.b.ENTITY_VIEW:i=this.entityViewService.getEntityView(t,n);break;case u.b.TENANT:i=this.tenantService.getTenant(t,n);break;case u.b.CUSTOMER:i=this.customerService.getCustomer(t,n);break;case u.b.DASHBOARD:i=this.dashboardService.getDashboardInfo(t,n);break;case u.b.USER:i=this.userService.getUser(t,n);break;case u.b.RULE_CHAIN:i=this.ruleChainService.getRuleChain(t,n);break;case u.b.ALARM:console.error("Get Alarm Entity is not implemented!")}return i},e.prototype.getEntity=function(e,t,n){var i=this.getEntityObservable(e,t,n);return i||Object(a.a)(null)},e.prototype.getEntitiesByIdsObservable=function(e,t){var n=[];return t.forEach((function(t){n.push(e(t))})),Object(o.a)(n).pipe(Object(v.a)((function(e){return e?(e.sort((function(e,n){return t.indexOf(e.id.id)-t.indexOf(n.id.id)})),e):[]})))},e.prototype.getEntitiesObservable=function(e,t,n){var i,r=this;switch(e){case u.b.DEVICE:i=this.deviceService.getDevices(t,n);break;case u.b.ASSET:i=this.assetService.getAssets(t,n);break;case u.b.ENTITY_VIEW:i=this.getEntitiesByIdsObservable((function(e){return r.entityViewService.getEntityView(e,n)}),t);break;case u.b.TENANT:i=this.getEntitiesByIdsObservable((function(e){return r.tenantService.getTenant(e,n)}),t);break;case u.b.CUSTOMER:i=this.getEntitiesByIdsObservable((function(e){return r.customerService.getCustomer(e,n)}),t);break;case u.b.DASHBOARD:i=this.getEntitiesByIdsObservable((function(e){return r.dashboardService.getDashboardInfo(e,n)}),t);break;case u.b.USER:i=this.getEntitiesByIdsObservable((function(e){return r.userService.getUser(e,n)}),t);break;case u.b.ALARM:console.error("Get Alarm Entity is not implemented!")}return i},e.prototype.getEntities=function(e,t,n){var i=this.getEntitiesObservable(e,t,n);return i||Object(a.a)(null)},e.prototype.getSingleTenantByPageLinkObservable=function(e,t){var n=Object(g.b)(this.store).tenantId;return this.tenantService.getTenant(n,t).pipe(Object(v.a)((function(t){var n={data:[],totalPages:0,totalElements:0,hasNext:!1};return t.title.toLowerCase().startsWith(e.textSearch.toLowerCase())&&(n.data.push(t),n.totalPages=1,n.totalElements=1),n})))},e.prototype.getSingleCustomerByPageLinkObservable=function(e,t){var n=Object(g.b)(this.store).customerId;return this.customerService.getCustomer(n,t).pipe(Object(v.a)((function(t){var n={data:[],totalPages:0,totalElements:0,hasNext:!1};return t.title.toLowerCase().startsWith(e.textSearch.toLowerCase())&&(n.data.push(t),n.totalPages=1,n.totalElements=1),n})))},e.prototype.getEntitiesByPageLinkObservable=function(e,t,n,i){var r;void 0===n&&(n="");var a=Object(g.b)(this.store),o=a.customerId;switch(e){case u.b.DEVICE:t.sortOrder.property="name",r=a.authority===b.a.CUSTOMER_USER?this.deviceService.getCustomerDeviceInfos(o,t,n,i):this.deviceService.getTenantDeviceInfos(t,n,i);break;case u.b.ASSET:t.sortOrder.property="name",r=a.authority===b.a.CUSTOMER_USER?this.assetService.getCustomerAssetInfos(o,t,n,i):this.assetService.getTenantAssetInfos(t,n,i);break;case u.b.ENTITY_VIEW:t.sortOrder.property="name",r=a.authority===b.a.CUSTOMER_USER?this.entityViewService.getCustomerEntityViewInfos(o,t,n,i):this.entityViewService.getTenantEntityViewInfos(t,n,i);break;case u.b.TENANT:t.sortOrder.property="title",r=a.authority===b.a.TENANT_ADMIN?this.getSingleTenantByPageLinkObservable(t,i):this.tenantService.getTenants(t,i);break;case u.b.CUSTOMER:t.sortOrder.property="title",r=a.authority===b.a.CUSTOMER_USER?this.getSingleCustomerByPageLinkObservable(t,i):this.customerService.getCustomers(t,i);break;case u.b.RULE_CHAIN:t.sortOrder.property="name",r=this.ruleChainService.getRuleChains(t,i);break;case u.b.DASHBOARD:t.sortOrder.property="title",r=a.authority===b.a.CUSTOMER_USER?this.dashboardService.getCustomerDashboards(o,t,i):this.dashboardService.getTenantDashboards(t,i);break;case u.b.USER:t.sortOrder.property="email",r=this.userService.getUsers(t);break;case u.b.ALARM:console.error("Get Alarm Entities is not implemented!")}return r},e.prototype.getEntitiesByPageLink=function(e,t,n,i){var r=this;void 0===n&&(n="");var a=this.getEntitiesByPageLinkObservable(e,t,n,i);return a?a.pipe(Object(C.a)((function(a){return a.hasNext?(t.page+=1,r.getEntitiesByPageLinkObservable(e,t,n,i)):s.a})),Object(v.a)((function(e){return e.data})),Object(E.a)((function(e){return e})),Object(T.a)()):Object(l.a)(null)},e.prototype.getEntitiesByNameFilter=function(e,t,n,i,r){void 0===i&&(i="");var a=new c.b(n,0,t,{property:"name",direction:y.a.ASC});if(-1===n)return a.pageSize=100,this.getEntitiesByPageLink(e,a,i,r).pipe(Object(v.a)((function(e){return e&&e.length?e:null})));var o=this.getEntitiesByPageLinkObservable(e,a,i,r);return o?o.pipe(Object(v.a)((function(e){return e&&e.data.length?e.data:null}))):Object(l.a)(null)},e.prototype.findEntityDataByQuery=function(e,t){return this.http.post("/api/entitiesQuery/find",e,Object(x.b)(t))},e.prototype.findEntityKeysByQuery=function(e,t,n,i){return void 0===t&&(t=!0),void 0===n&&(n=!0),this.http.post("/api/entitiesQuery/find/keys?attributes="+t+"&timeseries="+n,e,Object(x.b)(i))},e.prototype.findAlarmDataByQuery=function(e,t){return this.http.post("/api/alarmsQuery/find",e,Object(x.b)(t))},e.prototype.findEntityInfosByFilterAndName=function(e,t,n){var i={type:L.e.ENTITY_FIELD,key:"name"},r={entityFilter:e,pageLink:{pageSize:10,page:0,sortOrder:{key:i,direction:y.a.ASC}},entityFields:L.u,keyFilters:t&&t.length?[{key:i,valueType:L.f.STRING,value:null,predicate:{type:L.g.STRING,operation:L.i.STARTS_WITH,ignoreCase:!0,value:{defaultValue:t}}}]:null};return this.findEntityDataByQuery(r,n).pipe(Object(v.a)((function(e){return{data:e.data.map((function(e){return Object(L.t)(e)})),hasNext:e.hasNext,totalElements:e.totalElements,totalPages:e.totalPages}})))},e.prototype.findSingleEntityInfoByEntityFilter=function(e,t){var n={entityFilter:e,pageLink:Object(L.l)(1),entityFields:L.u};return this.findEntityDataByQuery(n,t).pipe(Object(v.a)((function(e){if(e.data.length){var t=e.data[0];return Object(L.t)(t)}return null})))},e.prototype.getAliasFilterTypesByEntityTypes=function(e){var t=Object.keys(N.a).map((function(e){return N.a[e]}));if(!e||!e.length)return t;for(var n=[],i=0,r=t;i<r.length;i++){var a=r[i];this.filterAliasFilterTypeByEntityTypes(a,e)&&n.push(a)}return n},e.prototype.filterAliasByEntityTypes=function(e,t){var n=e.filter;if(this.filterAliasFilterTypeByEntityTypes(n.type,t))switch(n.type){case N.a.singleEntity:return t.indexOf(n.singleEntity.entityType)>-1;case N.a.entityList:case N.a.entityName:case N.a.entityType:return t.indexOf(n.entityType)>-1;case N.a.stateEntity:return!0;case N.a.assetType:return t.indexOf(u.b.ASSET)>-1;case N.a.deviceType:return t.indexOf(u.b.DEVICE)>-1;case N.a.entityViewType:return t.indexOf(u.b.ENTITY_VIEW)>-1;case N.a.relationsQuery:if(n.filters&&n.filters.length){for(var i=!1,r=0,a=n.filters;r<a.length;r++){var o=a[r];if(!o.entityTypes||!o.entityTypes.length){i=!0;break}for(var s=0,l=o.entityTypes;s<l.length;s++){var c=l[s];if(t.indexOf(c)>-1){i=!0;break}}}return i}return!0;case N.a.assetSearchQuery:return t.indexOf(u.b.ASSET)>-1;case N.a.deviceSearchQuery:return t.indexOf(u.b.DEVICE)>-1;case N.a.entityViewSearchQuery:return t.indexOf(u.b.ENTITY_VIEW)>-1}return!1},e.prototype.filterAliasFilterTypeByEntityTypes=function(e,t){var n=this;if(!t||!t.length)return!0;var i=!1;return t.forEach((function(t){i=i||n.filterAliasFilterTypeByEntityType(e,t)})),i},e.prototype.filterAliasFilterTypeByEntityType=function(e,t){switch(e){case N.a.singleEntity:case N.a.entityList:case N.a.entityName:case N.a.entityType:case N.a.stateEntity:return!0;case N.a.assetType:return t===u.b.ASSET;case N.a.deviceType:return t===u.b.DEVICE;case N.a.entityViewType:return t===u.b.ENTITY_VIEW;case N.a.relationsQuery:return!0;case N.a.assetSearchQuery:return t===u.b.ASSET;case N.a.deviceSearchQuery:return t===u.b.DEVICE;case N.a.entityViewSearchQuery:return t===u.b.ENTITY_VIEW}return!1},e.prototype.prepareAllowedEntityTypesList=function(e,t){var n=Object(g.b)(this.store),i=[];switch(n.authority){case b.a.SYS_ADMIN:i.push(u.b.TENANT);break;case b.a.TENANT_ADMIN:i.push(u.b.DEVICE),i.push(u.b.ASSET),i.push(u.b.ENTITY_VIEW),i.push(u.b.TENANT),i.push(u.b.CUSTOMER),i.push(u.b.USER),i.push(u.b.DASHBOARD),t&&(i.push(u.a.CURRENT_CUSTOMER),i.push(u.a.CURRENT_TENANT));break;case b.a.CUSTOMER_USER:i.push(u.b.DEVICE),i.push(u.b.ASSET),i.push(u.b.ENTITY_VIEW),i.push(u.b.CUSTOMER),i.push(u.b.USER),i.push(u.b.DASHBOARD),t&&i.push(u.a.CURRENT_CUSTOMER)}if(t&&(i.push(u.a.CURRENT_USER),n.authority!==b.a.SYS_ADMIN&&i.push(u.a.CURRENT_USER_OWNER)),e&&e.length)for(var r=i.length-1;r>=0;r--)-1===e.indexOf(i[r])&&i.splice(r,1);return i},e.prototype.getEntityFieldKeys=function(e,t){void 0===t&&(t="");var n=[k.a.createdTime.keyName],i=t.toLowerCase();switch(e){case u.b.USER:n.push(k.a.name.keyName),n.push(k.a.email.keyName),n.push(k.a.firstName.keyName),n.push(k.a.lastName.keyName);break;case u.b.TENANT:case u.b.CUSTOMER:n.push(k.a.title.keyName),n.push(k.a.email.keyName),n.push(k.a.country.keyName),n.push(k.a.state.keyName),n.push(k.a.city.keyName),n.push(k.a.address.keyName),n.push(k.a.address2.keyName),n.push(k.a.zip.keyName),n.push(k.a.phone.keyName);break;case u.b.ENTITY_VIEW:n.push(k.a.name.keyName),n.push(k.a.type.keyName);break;case u.b.DEVICE:case u.b.ASSET:n.push(k.a.name.keyName),n.push(k.a.type.keyName),n.push(k.a.label.keyName);break;case u.b.DASHBOARD:n.push(k.a.title.keyName);break;case u.b.API_USAGE_STATE:n.push(k.a.name.keyName)}return i?n.filter((function(e){return 0===e.toLowerCase().indexOf(i)})):n},e.prototype.getAlarmKeys=function(e){void 0===e&&(e="");var t=Object.keys(D.e),n=e.toLowerCase();return n?t.filter((function(e){return 0===e.toLowerCase().indexOf(n)})):t},e.prototype.getEntityKeys=function(e,t,n,i){if(n===I.h.entityField)return Object(l.a)(this.getEntityFieldKeys(e.entityType,t));if(n===I.h.alarm)return Object(l.a)(this.getAlarmKeys(t));var r="/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/keys/";return n===I.h.timeseries?r+="timeseries":n===I.h.attribute&&(r+="attributes"),this.http.get(r,Object(x.b)(i)).pipe(Object(v.a)((function(e){if(t){var n=t.toLowerCase();return e.filter((function(e){return 0===e.toLowerCase().indexOf(n)}))}return e})))},e.prototype.getEntityKeysByEntityFilter=function(e,t,n){var i,r=this;if(!t.length)return Object(l.a)([]);if(null!==e&&t.some((function(e){return[I.h.timeseries,I.h.attribute].includes(e)}))){var a={entityFilter:e,pageLink:Object(L.l)(100)};i=this.findEntityKeysByQuery(a,t.includes(I.h.attribute),t.includes(I.h.timeseries),n)}else i=Object(l.a)({attribute:[],timeseries:[],entityTypes:[]});return i.pipe(Object(v.a)((function(e){var n=[];return t.forEach((function(t){var i;switch(t){case I.h.entityField:if(e.entityTypes.length){var a=[];e.entityTypes.forEach((function(e){return a.push.apply(a,r.getEntityFieldKeys(e))})),i=Array.from(new Set(a))}break;case I.h.alarm:i=r.getAlarmKeys();break;case I.h.attribute:case I.h.timeseries:e[t].length&&(i=e[t])}i&&n.push.apply(n,i.map((function(e){return{name:e,type:t}})))})),n})))},e.prototype.createDatasourcesFromSubscriptionsInfo=function(e){var t=this,n=e.map((function(e){return t.createDatasourceFromSubscriptionInfo(e)}));return this.utils.generateColors(n),n},e.prototype.createAlarmSourceFromSubscriptionInfo=function(e){if(e.entityId&&e.entityType){var t=this.createDatasourceFromSubscriptionInfo(e);return this.utils.generateColors([t]),t}throw new Error("Can't crate alarm source without entityId information!")},e.prototype.resolveAlias=function(e,t){var n=this,i=e.filter;return this.resolveAliasFilter(i,t).pipe(Object(S.b)((function(t){var r={alias:e.alias,entityFilter:t.entityFilter,stateEntity:t.stateEntity,entityParamName:t.entityParamName,resolveMultiple:i.resolveMultiple,currentEntity:null};return!r.resolveMultiple&&r.entityFilter?n.findSingleEntityInfoByEntityFilter(r.entityFilter,{ignoreLoading:!0,ignoreErrors:!0}).pipe(Object(v.a)((function(e){return r.currentEntity=e,r}))):Object(l.a)(r)})))},e.prototype.resolveAliasFilter=function(e,t){var n={entityFilter:null,stateEntity:!1};e.stateEntityParamName&&e.stateEntityParamName.length&&(n.entityParamName=e.stateEntityParamName);var i=this.getStateEntityInfo(e,t).entityId;switch(e.type){case N.a.singleEntity:var r=this.resolveAliasEntityId(e.singleEntity.entityType,e.singleEntity.id);return n.entityFilter={type:N.a.singleEntity,singleEntity:r},Object(l.a)(n);case N.a.entityList:case N.a.entityName:case N.a.entityType:return n.entityFilter=Object(_.e)(e),Object(l.a)(n);case N.a.stateEntity:return n.stateEntity=!0,i&&(n.entityFilter={type:N.a.singleEntity,singleEntity:i}),Object(l.a)(n);case N.a.assetType:case N.a.deviceType:case N.a.entityViewType:case N.a.apiUsageState:return n.entityFilter=Object(_.e)(e),Object(l.a)(n);case N.a.relationsQuery:n.stateEntity=e.rootStateEntity;var a=void 0,o=void 0;if(n.stateEntity&&i?(a=i.entityType,o=i.id):n.stateEntity||(a=e.rootEntity.entityType,o=e.rootEntity.id),a&&o){var s=this.resolveAliasEntityId(a,o);return n.entityFilter=Object(_.e)(e),n.entityFilter.rootEntity=s,Object(l.a)(n)}return Object(l.a)(n);case N.a.assetSearchQuery:case N.a.deviceSearchQuery:case N.a.entityViewSearchQuery:if(n.stateEntity=e.rootStateEntity,n.stateEntity&&i?(a=i.entityType,o=i.id):n.stateEntity||(a=e.rootEntity.entityType,o=e.rootEntity.id),a&&o){var c=this.resolveAliasEntityId(a,o);return n.entityFilter=Object(_.e)(e),n.entityFilter.rootEntity=c,Object(l.a)(n)}return Object(l.a)(n)}},e.prototype.checkEntityAlias=function(e){return this.resolveAliasFilter(e.filter,null).pipe(Object(v.a)((function(e){return!!e.stateEntity||Object(_.o)(e.entityFilter)})),Object(w.a)((function(e){return Object(l.a)(!1)})))},e.prototype.saveEntityParameters=function(e,t,n,r){var a,s=this;switch(e){case u.b.DEVICE:var c={name:t.name,type:t.type,label:t.label,additionalInfo:{description:t.description}};null!==t.gateway&&(c.additionalInfo=Object(i.a)(Object(i.a)({},c.additionalInfo),{gateway:t.gateway})),a=this.deviceService.saveDevice(c,r);break;case u.b.ASSET:var p={name:t.name,type:t.type,label:t.label,additionalInfo:{description:t.description}};a=this.assetService.saveAsset(p,r)}return a.pipe(Object(S.b)((function(e){return s.saveEntityData(e.id,t,r).pipe(Object(v.a)((function(){return{create:{entity:1}}})),Object(w.a)((function(e){return Object(l.a)({error:{entity:1}})})))})),Object(w.a)((function(i){if(n){var a=void 0;switch(e){case u.b.DEVICE:a=s.deviceService.findByName(t.name,r);break;case u.b.ASSET:a=s.assetService.findByName(t.name,r)}return a.pipe(Object(S.b)((function(e){var n=[],i=e,a=i.additionalInfo||{};if(i.label!==t.label||i.type!==t.type||a.description!==t.description||i.id.entityType===u.b.DEVICE&&a.gateway!==t.gateway)switch(i.label=t.label,i.type=t.type,i.additionalInfo=a,i.additionalInfo.description=t.description,i.id.entityType===u.b.DEVICE&&(i.additionalInfo.gateway=t.gateway),i.id.entityType===u.b.DEVICE&&i.deviceProfileId&&delete i.deviceProfileId,i.id.entityType){case u.b.DEVICE:n.push(s.deviceService.saveDevice(i,r));break;case u.b.ASSET:n.push(s.assetService.saveAsset(i,r))}return n.push(s.saveEntityData(e.id,t,r)),Object(o.a)(n).pipe(Object(v.a)((function(){return{update:{entity:1}}})),Object(w.a)((function(e){return Object(l.a)({error:{entity:1}})})))})),Object(w.a)((function(e){return Object(l.a)({error:{entity:1}})})))}return Object(l.a)({error:{entity:1}})})))},e.prototype.saveEntityData=function(e,t,n){var i,r=this,a=[];return t.accessToken&&""!==t.accessToken&&(i=this.deviceService.getDeviceCredentials(e.id,!1,n).pipe(Object(S.b)((function(e){return e.credentialsId=t.accessToken,e.credentialsType=V.g.ACCESS_TOKEN,e.credentialsValue=null,r.deviceService.saveDeviceCredentials(e,n).pipe(Object(v.a)((function(){return"ok"})),Object(w.a)((function(e){return Object(l.a)("error")})))}))),a.push(i)),t.attributes.shared&&t.attributes.shared.length&&(i=this.attributeService.saveEntityAttributes(e,I.d.SHARED_SCOPE,t.attributes.shared,n).pipe(Object(v.a)((function(){return"ok"})),Object(w.a)((function(e){return Object(l.a)("error")}))),a.push(i)),t.attributes.server&&t.attributes.server.length&&(i=this.attributeService.saveEntityAttributes(e,I.d.SERVER_SCOPE,t.attributes.server,n).pipe(Object(v.a)((function(){return"ok"})),Object(w.a)((function(e){return Object(l.a)("error")}))),a.push(i)),t.timeseries&&t.timeseries.length&&(i=this.attributeService.saveEntityTimeseries(e,"time",t.timeseries,n).pipe(Object(v.a)((function(){return"ok"})),Object(w.a)((function(e){return Object(l.a)("error")}))),a.push(i)),a.length?Object(o.a)(a).pipe(Object(v.a)((function(e){if(e.filter((function(e){return"error"===e})).length>0)throw Error();return e}))):Object(l.a)(null)},e.prototype.getStateEntityInfo=function(e,t){var n=null;return t&&(e.stateEntityParamName&&e.stateEntityParamName.length?t[e.stateEntityParamName]&&(n=t[e.stateEntityParamName].entityId):n=t.entityId),n||(n=e.defaultStateEntity),n&&(n=this.resolveAliasEntityId(n.entityType,n.id)),{entityId:n}},e.prototype.resolveAliasEntityId=function(e,t){var n={entityType:e,id:t};if(e===u.a.CURRENT_CUSTOMER){var i=Object(g.b)(this.store);n.entityType=u.b.CUSTOMER,i.authority===b.a.CUSTOMER_USER&&(n.id=i.customerId)}else if(e===u.a.CURRENT_TENANT){i=Object(g.b)(this.store);n.entityType=u.b.TENANT,n.id=i.tenantId}else if(e===u.a.CURRENT_USER){i=Object(g.b)(this.store);n.entityType=u.b.USER,n.id=i.userId}else if(e===u.a.CURRENT_USER_OWNER){(i=Object(g.b)(this.store)).authority===b.a.TENANT_ADMIN?(n.entityType=u.b.TENANT,n.id=i.tenantId):i.authority===b.a.CUSTOMER_USER&&(n.entityType=u.b.CUSTOMER,n.id=i.customerId)}return n},e.prototype.createDatasourceFromSubscriptionInfo=function(e){var t=null;if((e=this.validateSubscriptionInfo(e)).type===A.a.entity?(t={type:e.type,entityName:e.entityName,name:e.entityName,entityType:e.entityType,entityId:e.entityId,dataKeys:[]},this.prepareEntityFilterFromSubscriptionInfo(t,e)):e.type!==A.a.function&&e.type!==A.a.entityCount||(t={type:e.type,name:e.name||e.type,dataKeys:[]}),null!==t&&(e.timeseries&&this.createDatasourceKeys(e.timeseries,I.h.timeseries,t),e.attributes&&this.createDatasourceKeys(e.attributes,I.h.attribute,t),e.functions&&this.createDatasourceKeys(e.functions,I.h.function,t),e.alarmFields&&this.createDatasourceKeys(e.alarmFields,I.h.alarm,t),e.type===A.a.entityCount)){var n=this.utils.createKey({name:"count"},I.h.count);t.dataKeys.push(n)}return t},e.prototype.validateSubscriptionInfo=function(e){return"device"===e.type&&(e.type=A.a.entity,e.entityType=u.b.DEVICE,e.deviceId?e.entityId=e.deviceId:e.deviceName?e.entityName=e.deviceName:e.deviceNamePrefix?e.entityNamePrefix=e.deviceNamePrefix:e.deviceIds&&(e.entityIds=e.deviceIds)),e},e.prototype.prepareEntityFilterFromSubscriptionInfo=function(e,t){if(t.entityId)e.entityFilter={type:N.a.singleEntity,singleEntity:{entityType:t.entityType,id:t.entityId}},e.pageLink=L.H;else if(t.entityName||t.entityNamePrefix){var n=void 0,i=void 0;Object(_.n)(t.entityName)&&t.entityName.length?(n=t.entityName,i=Object(_.e)(L.H)):(n=t.entityNamePrefix,i=Object(_.e)(L.q)),e.entityFilter={type:N.a.entityName,entityType:t.entityType,entityNameFilter:n},e.pageLink=i}else t.entityIds&&(e.entityFilter={type:N.a.entityList,entityType:t.entityType,entityList:t.entityIds},e.pageLink=Object(_.e)(L.q))},e.prototype.createDatasourceKeys=function(e,t,n){var i=this;e.forEach((function(e){var r=i.utils.createKey(e,t);n.dataKeys.push(r)}))},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](U.b),r["\u0275\u0275inject"](B.Store),r["\u0275\u0275inject"](p.a),r["\u0275\u0275inject"](M.a),r["\u0275\u0275inject"](O.a),r["\u0275\u0275inject"](d.a),r["\u0275\u0275inject"](m.a),r["\u0275\u0275inject"](f.a),r["\u0275\u0275inject"](j.a),r["\u0275\u0275inject"](h.a),r["\u0275\u0275inject"](P.a),r["\u0275\u0275inject"](F.a),r["\u0275\u0275inject"](R.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){r["\u0275setClassMetadata"](G,[{type:r.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:U.b},{type:B.Store},{type:p.a},{type:M.a},{type:O.a},{type:d.a},{type:m.a},{type:f.a},{type:j.a},{type:h.a},{type:P.a},{type:F.a},{type:R.a}]}),null)}()},"3Tyt":function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"r",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"u",(function(){return o})),n.d(t,"D",(function(){return f})),n.d(t,"C",(function(){return y})),n.d(t,"z",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"s",(function(){return v})),n.d(t,"e",(function(){return C})),n.d(t,"x",(function(){return E})),n.d(t,"q",(function(){return T})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return M})),n.d(t,"o",(function(){return O})),n.d(t,"l",(function(){return I})),n.d(t,"b",(function(){return x})),n.d(t,"v",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"B",(function(){return A})),n.d(t,"y",(function(){return R})),n.d(t,"A",(function(){return N})),n.d(t,"t",(function(){return k})),n.d(t,"f",(function(){return P})),n.d(t,"j",(function(){return _})),n.d(t,"p",(function(){return V})),n.d(t,"c",(function(){return F})),n.d(t,"m",(function(){return L})),n.d(t,"w",(function(){return D}));var i,r,a,o,s=n("mrSG"),l=n("jtHE"),c=n("XNiG"),u=n("lJxs"),p=n("UZbx"),d=n("6OOC"),m=n("//Q6");function f(e){return r[e]?r[e]:a[e]}!function(e){e.timeseries="timeseries",e.attribute="attribute",e.function="function",e.alarm="alarm",e.entityField="entityField",e.count="count"}(i||(i={})),function(e){e.LATEST_TELEMETRY="LATEST_TELEMETRY"}(r||(r={})),function(e){e.CLIENT_SCOPE="CLIENT_SCOPE",e.SERVER_SCOPE="SERVER_SCOPE",e.SHARED_SCOPE="SHARED_SCOPE"}(a||(a={})),function(e){e.ATTRIBUTES="ATTRIBUTES",e.TIMESERIES="TIMESERIES"}(o||(o={}));var h,y=new Map([[r.LATEST_TELEMETRY,"attribute.scope-latest-telemetry"],[a.CLIENT_SCOPE,"attribute.scope-client"],[a.SERVER_SCOPE,"attribute.scope-server"],[a.SHARED_SCOPE,"attribute.scope-shared"]]),g=new Map([[r.LATEST_TELEMETRY,!0],[a.CLIENT_SCOPE,!0],[a.SERVER_SCOPE,!1],[a.SHARED_SCOPE,!1]]);!function(e){e.ASC="ASC",e.DESC="DESC"}(h||(h={}));var b,v=function(){},C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.getType=function(){return o.ATTRIBUTES},t}(v),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.getType=function(){return o.TIMESERIES},t}(v),T=function(){},S=function(){function e(){}return e.prototype.isEmpty=function(){return!(this.query||this.historyCmd||this.latestCmd||this.tsCmd)},e}(),w=function(){},M=function(){function e(){}return e.prototype.isEmpty=function(){return!this.query},e}(),O=function(){},I=function(){},x=function(){},j=function(){function e(){this.attrSubCmds=[],this.tsSubCmds=[],this.historyCmds=[],this.entityDataCmds=[],this.entityDataUnsubscribeCmds=[],this.alarmDataCmds=[],this.alarmDataUnsubscribeCmds=[],this.entityCountCmds=[],this.entityCountUnsubscribeCmds=[]}return e.prototype.hasCommands=function(){return this.tsSubCmds.length>0||this.historyCmds.length>0||this.attrSubCmds.length>0||this.entityDataCmds.length>0||this.entityDataUnsubscribeCmds.length>0||this.alarmDataCmds.length>0||this.alarmDataUnsubscribeCmds.length>0||this.entityCountCmds.length>0||this.entityCountUnsubscribeCmds.length>0},e.prototype.clear=function(){this.attrSubCmds.length=0,this.tsSubCmds.length=0,this.historyCmds.length=0,this.entityDataCmds.length=0,this.entityDataUnsubscribeCmds.length=0,this.alarmDataCmds.length=0,this.alarmDataUnsubscribeCmds.length=0,this.entityCountCmds.length=0,this.entityCountUnsubscribeCmds.length=0},e.prototype.preparePublishCommands=function(t){var n=new e,i=t;return n.tsSubCmds=this.popCmds(this.tsSubCmds,i),i-=n.tsSubCmds.length,n.historyCmds=this.popCmds(this.historyCmds,i),i-=n.historyCmds.length,n.attrSubCmds=this.popCmds(this.attrSubCmds,i),i-=n.attrSubCmds.length,n.entityDataCmds=this.popCmds(this.entityDataCmds,i),i-=n.entityDataCmds.length,n.entityDataUnsubscribeCmds=this.popCmds(this.entityDataUnsubscribeCmds,i),i-=n.entityDataUnsubscribeCmds.length,n.alarmDataCmds=this.popCmds(this.alarmDataCmds,i),i-=n.alarmDataCmds.length,n.alarmDataUnsubscribeCmds=this.popCmds(this.alarmDataUnsubscribeCmds,i),i-=n.alarmDataUnsubscribeCmds.length,n.entityCountCmds=this.popCmds(this.entityCountCmds,i),i-=n.entityCountCmds.length,n.entityCountUnsubscribeCmds=this.popCmds(this.entityCountUnsubscribeCmds,i),n},e.prototype.popCmds=function(e,t){var n=Math.min(e.length,t);return n>0?e.splice(0,n):[]},e}();function A(e){var t=e;return void 0!==t.cmdId&&t.cmdUpdateType===b.ENTITY_DATA}function R(e){var t=e;return void 0!==t.cmdId&&t.cmdUpdateType===b.ALARM_DATA}function N(e){var t=e;return void 0!==t.cmdId&&t.cmdUpdateType===b.COUNT_DATA}!function(e){e.ENTITY_DATA="ENTITY_DATA",e.ALARM_DATA="ALARM_DATA",e.COUNT_DATA="COUNT_DATA"}(b||(b={}));var k=function(){function e(e){this.subscriptionId=e.subscriptionId,this.errorCode=e.errorCode,this.errorMsg=e.errorMsg,this.data=e.data}return e.prototype.prepareData=function(e){var t=this;this.data||(this.data={}),e&&e.forEach((function(e){t.data[e]||(t.data[e]=[])}))},e.prototype.updateAttributeData=function(e){for(var t=function(t){var i=n.data[t];if(i.length){var r=e.find((function(e){return e.key===t}));r?(r.lastUpdateTs=i[0][0],r.value=i[0][1]):e.push({key:t,lastUpdateTs:i[0][0],value:i[0][1]})}},n=this,i=0,r=Object.keys(this.data);i<r.length;i++){t(r[i])}return e},e}(),P=function(e){this.cmdId=e.cmdId,this.errorCode=e.errorCode,this.errorMsg=e.errorMsg,this.cmdUpdateType=e.cmdUpdateType},_=function(e){function t(t){var n=e.call(this,t)||this;return n.data=t.data,n.update=t.update,n}return Object(s.d)(t,e),t}(P),V=function(e){function t(t){return e.call(this,t)||this}return Object(s.d)(t,e),t.prototype.prepareData=function(e){this.data&&this.processEntityData(this.data.data,e),this.update&&this.processEntityData(this.update,e)},t.prototype.processEntityData=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.timeseries)for(var a=0,o=Object.keys(r.timeseries);a<o.length;a++)for(var s=o[a],l=0,c=r.timeseries[s];l<c.length;l++){(g=c[l]).ts&&(g.ts+=t)}if(r.latest)for(var u=0,p=Object.keys(r.latest);u<p.length;u++)for(var m=p[u],f=r.latest[m],h=0,y=Object.keys(f);h<y.length;h++){var g;(g=f[s=y[h]]).ts&&(g.ts+=t),s===d.a.createdTime.keyName&&g.value&&(g.value=Number(g.value)+t+"")}}},t}(_),F=function(e){function t(t){var n=e.call(this,t)||this;return n.allowedEntities=t.allowedEntities,n.totalEntities=t.totalEntities,n}return Object(s.d)(t,e),t.prototype.prepareData=function(e){this.data&&this.processAlarmData(this.data.data,e),this.update&&this.processAlarmData(this.update,e)},t.prototype.processAlarmData=function(e,t){for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r.createdTime+=t,r.ackTs&&(r.ackTs+=t),r.clearTs&&(r.clearTs+=t),r.endTs&&(r.endTs+=t),r.latest)for(var a=0,o=Object.keys(r.latest);a<o.length;a++)for(var s=o[a],l=r.latest[s],c=0,u=Object.keys(l);c<u.length;c++){var m=u[c],f=l[m];f.ts&&(f.ts+=t),m in[d.a.createdTime.keyName,p.e.startTime.keyName,p.e.endTime.keyName,p.e.ackTime.keyName,p.e.clearTime.keyName]&&f.value&&(f.value=Number(f.value)+t+"")}}},t}(_),L=function(e){function t(t){var n=e.call(this,t)||this;return n.count=t.count,n}return Object(s.d)(t,e),t}(P),D=function(){function e(e,t){this.telemetryService=e,this.zone=t,this.dataSubject=new l.a(1),this.entityDataSubject=new l.a(1),this.alarmDataSubject=new l.a(1),this.entityCountSubject=new l.a(1),this.reconnectSubject=new c.b,this.tsOffset=void 0,this.data$=this.dataSubject.asObservable(),this.entityData$=this.entityDataSubject.asObservable(),this.alarmData$=this.alarmDataSubject.asObservable(),this.entityCount$=this.entityCountSubject.asObservable(),this.reconnect$=this.reconnectSubject.asObservable(),this.subscriptionCommands=[]}return e.createEntityAttributesSubscription=function(t,n,i,a,o){var s;void 0===o&&(o=null),(s=i===r.LATEST_TELEMETRY?new E:new C).entityType=n.entityType,s.entityId=n.id,s.scope=i,o&&(s.keys=o.join(","));var l=new e(t,a);return l.subscriptionCommands.push(s),l},e.prototype.subscribe=function(){this.telemetryService.subscribe(this)},e.prototype.update=function(){this.telemetryService.update(this)},e.prototype.unsubscribe=function(){this.telemetryService.unsubscribe(this),this.complete()},e.prototype.complete=function(){this.dataSubject.complete(),this.entityDataSubject.complete(),this.alarmDataSubject.complete(),this.entityCountSubject.complete(),this.reconnectSubject.complete()},e.prototype.setTsOffset=function(e){if(this.tsOffset!==e){var t=!Object(m.z)(this.tsOffset);return this.tsOffset=e,t}return!1},e.prototype.onData=function(e){var t,n=this,i=e.subscriptionId,r=this.subscriptionCommands.find((function(e){return e.cmdId===i}));if(r){var a=r;a.keys&&a.keys.length&&(t=a.keys.split(","))}e.prepareData(t),this.zone?this.zone.run((function(){n.dataSubject.next(e)})):this.dataSubject.next(e)},e.prototype.onEntityData=function(e){var t=this;this.tsOffset&&e.prepareData(this.tsOffset),this.zone?this.zone.run((function(){t.entityDataSubject.next(e)})):this.entityDataSubject.next(e)},e.prototype.onAlarmData=function(e){var t=this;this.tsOffset&&e.prepareData(this.tsOffset),this.zone?this.zone.run((function(){t.alarmDataSubject.next(e)})):this.alarmDataSubject.next(e)},e.prototype.onEntityCount=function(e){var t=this;this.zone?this.zone.run((function(){t.entityCountSubject.next(e)})):this.entityCountSubject.next(e)},e.prototype.onReconnected=function(){this.reconnectSubject.next()},e.prototype.attributeData$=function(){var e=new Array;return this.data$.pipe(Object(u.a)((function(t){return t.updateAttributeData(e)})))},e}()},"3Zdl":function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.ENRICHMENT="ENRICHMENT",e.FILTER="FILTER",e.TRANSFORMATION="TRANSFORMATION",e.ACTION="ACTION",e.EXTERNAL="EXTERNAL"}(i||(i={})),function(e){e.SYSTEM="SYSTEM",e.TENANT="TENANT"}(r||(r={}))},"49Ji":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("yl57"),a=(n("imBb"),n("WEPN"),function(){function e(e){this.elementRef=e,this.hotkeys=[],this.hotkeysList=[],this.preventIn=["INPUT","SELECT","TEXTAREA"],this.mousetrap=new Mousetrap(this.elementRef.nativeElement),this.elementRef.nativeElement.tabIndex=-1,this.elementRef.nativeElement.style.outline="0"}return e.prototype.ngOnInit=function(){for(var e=this,t=0,n=this.hotkeys;t<n.length;t++){var i=n[t];this.hotkeysList.push(i),this.bindEvent(i)}if(this.cheatSheet){var a=new r.a("?",(function(t){return e.cheatSheet.toggleCheatSheet(),!1}),[],"Show / hide this help menu");this.hotkeysList.unshift(a),this.bindEvent(a),this.cheatSheet.setHotKeys(this.hotkeysList)}},e.prototype.bindEvent=function(e){var t=this;this.mousetrap.bind(e.combo,(function(n,i){var r=!0;if(n){var a=n.target||n.srcElement,o=a.nodeName.toUpperCase();(" "+a.className+" ").indexOf(" mousetrap ")>-1?r=!0:t.preventIn.indexOf(o)>-1&&-1===e.allowIn.map((function(e){return e.toUpperCase()})).indexOf(o)&&(r=!1)}if(r)return e.callback.apply(t,[n,i])}))},e.prototype.ngOnDestroy=function(){for(var e=0,t=this.hotkeysList;e<t.length;e++){var n=t[e];this.mousetrap.unbind(n.combo)}},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","tb-hotkeys",""]],inputs:{hotkeys:"hotkeys",cheatSheet:"cheatSheet"}}),e}());!function(){i["\u0275setClassMetadata"](a,[{type:i.Directive,args:[{selector:"[tb-hotkeys]"}]}],(function(){return[{type:i.ElementRef}]}),{hotkeys:[{type:i.Input}],cheatSheet:[{type:i.Input}]})}()},"4Th+":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("fXoL"),r=n("3Pt+"),a=n("8LU1"),o=n("FtGj"),s=n("LRne"),l=n("vkgz"),c=n("lJxs"),u=n("5+tZ"),p=n("w1tV"),d=n("21Fy"),m=n("U3y+"),f=n("S+vS"),h=n("DaoB"),y=n("C/rb"),g=n("zp9Z"),b=n("l7P3"),v=n("sYmb"),C=n("kmnG"),E=n("qFsG"),T=n("/1cH"),S=n("ofXK"),w=n("bTqV"),M=n("NFeN"),O=n("FKr1"),I=n("d5eY"),x=n("T4sd"),j=["deviceGatewayInput"];function A(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",10),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",11),i["\u0275\u0275element"](1,"span",12),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,n.name,r.searchText),i["\u0275\u0275sanitizeHtml"])}}function N(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"span",18),i["\u0275\u0275text"](2,"gateway.no-gateway-found"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}var k=function(e){return{item:e}};function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",19),i["\u0275\u0275pipe"](1,"truncate"),i["\u0275\u0275text"](2," gateway.no-gateway-matching "),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("translateParams",i["\u0275\u0275pureFunction1"](6,k,i["\u0275\u0275pipeBind4"](1,1,n.searchText,!0,6,"...")))}}function _(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-option",13),i["\u0275\u0275elementStart"](1,"div",14),i["\u0275\u0275listener"]("click",(function(e){return i["\u0275\u0275restoreView"](n),e.stopPropagation()})),i["\u0275\u0275template"](2,N,3,0,"div",15),i["\u0275\u0275template"](3,P,3,8,"ng-template",null,16,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementStart"](5,"span"),i["\u0275\u0275elementStart"](6,"a",17),i["\u0275\u0275listener"]("click",(function(e){i["\u0275\u0275restoreView"](n);var t=i["\u0275\u0275nextContext"]();return t.createGateway(e,t.searchText)})),i["\u0275\u0275text"](7,"gateway.create-new-gateway"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275reference"](4),a=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",null),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!a.textIsNotEmpty(a.searchText))("ngIfElse",r)}}function V(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"gateway.gateway-name-required")," "))}var F=function(){function e(e,t,n,r,a,o){this.store=e,this.entityService=t,this.dialogService=n,this.deviceService=r,this.translate=a,this.fb=o,this.gatewayNameExist=new i.EventEmitter,this.gatewayType="Gateway",this.searchText="",this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(a.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newGatewayType",{set:function(e){this.gatewayType=e},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.selectDeviceGatewayFormGroup=this.fb.group({gateway:this.fb.control({value:null,disabled:this.isStateForm})}),this.loadGatewayList(),this.filteredGateways=this.selectDeviceGatewayFormGroup.get("gateway").valueChanges.pipe(Object(l.a)((function(t){var n;n="string"!=typeof t&&t?t.id.id:null,e.updateView(n),null===t&&e.clear()})),Object(c.a)((function(e){return e?"string"==typeof e?e:e.name:""})),Object(u.b)((function(t){return e.fetchGateway(t)})),Object(p.a)())},e.prototype.fetchGateway=function(e){this.searchText=e;var t=[];return t=e&&e.length?this.gatewayList.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):this.gatewayList,Object(s.a)(t)},e.prototype.onFocus=function(){this.dirty&&(this.selectDeviceGatewayFormGroup.get("gateway").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.displayGatewayFn=function(e){return e?e.name:void 0},e.prototype.setDisabledState=function(e){},e.prototype.writeValue=function(e){null===e&&(this.searchText="",this.selectDeviceGatewayFormGroup.get("gateway").patchValue("",{emitEvent:!1}),this.dirty=!0)},e.prototype.clear=function(e,t){var n=this;void 0===e&&(e=""),this.searchText=e,this.selectDeviceGatewayFormGroup.get("gateway").patchValue(e,{emitEvent:!0}),t||setTimeout((function(){n.deviceGatewayInput.nativeElement.blur(),n.deviceGatewayInput.nativeElement.focus()}),0)},e.prototype.textIsNotEmpty=function(e){return!!e&&e.length>0},e.prototype.gatewayNameEnter=function(e){e.keyCode===o.ENTER&&(this.modelValue||this.createGateway(e,this.searchText))},e.prototype.createGateway=function(e,t){var n=this;e.preventDefault(),e.stopPropagation();var i=this.translate.instant("gateway.create-new-gateway"),r=this.translate.instant("gateway.create-new-gateway-text",{gatewayName:t});this.dialogService.confirm(i,r,null,null,!0).subscribe((function(e){e?n.createDeviceGateway(t):n.clear("",!0)}))},e.prototype.createDeviceGateway=function(e){var t=this;this.deviceService.findByName(e,{ignoreErrors:!0}).subscribe((function(n){t.gatewayNameExist.emit(e)}),(function(){var n={name:e,label:null,type:t.gatewayType,additionalInfo:{gateway:!0}};t.deviceService.saveDevice(n).subscribe((function(e){t.searchText="",t.gatewayList.push(e),t.selectDeviceGatewayFormGroup.get("gateway").patchValue(e,{emitEvent:!0})}))}))},e.prototype.loadGatewayList=function(){var e,t=this;if(Object(y.b)(this.store).authority===g.a.SYS_ADMIN)e=Object(s.a)([]);else{var n=this.isStateForm&&this.deviceName?this.deviceName:"";e=this.entityService.getEntitiesByNameFilter(m.b.DEVICE,n,-1,"",{ignoreLoading:!0})}e.pipe(Object(c.a)((function(e){return e?e.filter((function(e){var t,n;return null===(n=null===(t=e)||void 0===t?void 0:t.additionalInfo)||void 0===n?void 0:n.gateway})):[]}))).subscribe((function(e){if(t.gatewayList=e,!t.searchText&&t.gatewayList.length){var n=null;t.deviceName&&(n=t.gatewayList.find((function(e){return e.name===t.deviceName}))),n||(n=t.gatewayList[0]),n&&t.selectDeviceGatewayFormGroup.get("gateway").patchValue(n,{emitEvent:!0})}}))},e.prototype.updateView=function(e){this.propagateChange(e)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](b.Store),i["\u0275\u0275directiveInject"](d.a),i["\u0275\u0275directiveInject"](f.a),i["\u0275\u0275directiveInject"](h.a),i["\u0275\u0275directiveInject"](v.TranslateService),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-gateway-select"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](j,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.deviceGatewayInput=n.first))},inputs:{required:"required",newGatewayType:"newGatewayType",deviceName:"deviceName",isStateForm:"isStateForm"},outputs:{gatewayNameExist:"gatewayNameExist"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:12,vars:15,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","gateway",3,"placeholder","required","matAutocomplete","focusin","keydown","keypress"],["deviceGatewayInput",""],["type","button","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["gatewayAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","tb-not-found",3,"value",4,"ngIf"],[4,"ngIf"],["type","button","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"],[1,"tb-not-found",3,"value"],[1,"tb-not-found-content",3,"click"],[4,"ngIf","ngIfElse"],["searchNotEmpty",""],["translate","",3,"click"],["translate",""],["translate","",3,"translateParams"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"input",1,2),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()}))("keydown",(function(e){return t.gatewayNameEnter(e)}))("keypress",(function(e){return t.gatewayNameEnter(e)})),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,A,3,0,"button",3),i["\u0275\u0275elementStart"](5,"mat-autocomplete",4,5),i["\u0275\u0275template"](7,R,3,5,"mat-option",6),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,_,8,3,"mat-option",7),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,V,3,3,"mat-error",8),i["\u0275\u0275elementEnd"]()),2&e){var n,r=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("formGroup",t.selectDeviceGatewayFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](3,9,"gateway.gateway-name")),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",r),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.selectDeviceGatewayFormGroup.get("gateway").value&&!t.isStateForm),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayGatewayFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](8,11,t.filteredGateways)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!(null!=(n=i["\u0275\u0275pipeBind1"](10,13,t.filteredGateways))&&n.length)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectDeviceGatewayFormGroup.get("gateway").hasError("required"))}},directives:[C.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,E.MatInput,r.DefaultValueAccessor,T.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,S.NgIf,T.MatAutocomplete,S.NgForOf,w.MatButton,C.MatSuffix,M.MatIcon,O.MatOption,v.TranslateDirective,C.MatError],pipes:[v.TranslatePipe,S.AsyncPipe,I.a,x.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](F,[{type:i.Component,args:[{selector:"tb-entity-gateway-select",templateUrl:"./entity-gateway-select.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return F})),multi:!0}]}]}],(function(){return[{type:b.Store},{type:d.a},{type:f.a},{type:h.a},{type:v.TranslateService},{type:r.FormBuilder}]}),{required:[{type:i.Input}],newGatewayType:[{type:i.Input}],deviceName:[{type:i.Input}],isStateForm:[{type:i.Input}],gatewayNameExist:[{type:i.Output}],deviceGatewayInput:[{type:i.ViewChild,args:["deviceGatewayInput",{static:!0}]}]})}()},"4bh6":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("fXoL"),r=n("3Pt+"),a=n("XNiG"),o=n("z6cu"),s=n("JX91"),l=n("5+tZ"),c=n("lJxs"),u=n("vkgz"),p=n("05l1"),d=n("x+ZX"),m=n("DaoB"),f=n("U3y+"),h=n("gM18"),y=n("1y+p"),g=n("j37L"),b=n("l7P3"),v=n("sYmb"),C=n("kmnG"),E=n("ofXK"),T=n("d3UM"),S=n("znSr"),w=n("FKr1");function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-label"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,n.entitySubtypeTitle))}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",4),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",r.displaySubTypeFn(n)," ")}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.entitySubtypeRequiredText)," ")}}var x=function(){function e(e,t,n,i,r,o,s){this.store=e,this.broadcast=t,this.translate=n,this.deviceService=i,this.assetService=r,this.entityViewService=o,this.fb=s,this.modelValue="",this.subTypesOptionsSubject=new a.b,this.subTypesLoaded=!1,this.propagateChange=function(e){},this.subTypeFormGroup=this.fb.group({subType:[""]})}return e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;switch(this.entityType){case f.b.ASSET:this.entitySubtypeTitle="asset.asset-type",this.entitySubtypeRequiredText="asset.asset-type-required",this.broadcastSubscription=this.broadcast.on("assetSaved",(function(){e.subTypes=null,e.subTypesOptionsSubject.next("")}));break;case f.b.DEVICE:this.entitySubtypeTitle="device.device-type",this.entitySubtypeRequiredText="device.device-type-required",this.broadcastSubscription=this.broadcast.on("deviceSaved",(function(){e.subTypes=null,e.subTypesOptionsSubject.next("")}));break;case f.b.ENTITY_VIEW:this.entitySubtypeTitle="entity-view.entity-view-type",this.entitySubtypeRequiredText="entity-view.entity-view-type-required",this.broadcastSubscription=this.broadcast.on("entityViewSaved",(function(){e.subTypes=null,e.subTypesOptionsSubject.next("")}))}this.subTypesOptions=this.subTypesOptionsSubject.asObservable().pipe(Object(s.a)(""),Object(l.b)((function(){return e.getSubTypes()}))),this.subTypeFormGroup.get("subType").valueChanges.subscribe((function(t){var n;n=t&&""!==t?t.type:"",e.updateView(n)}))},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.broadcastSubscription&&this.broadcastSubscription.unsubscribe()},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.subTypeFormGroup.disable():this.subTypeFormGroup.enable()},e.prototype.writeValue=function(e){var t=this;null!=e&&""!==e?(this.modelValue=e,this.findSubTypes(e).subscribe((function(e){var n=e&&1===e.length?e[0]:"";t.subTypeFormGroup.get("subType").patchValue(n,{emitEvent:!0})}))):(this.modelValue="",this.subTypeFormGroup.get("subType").patchValue("",{emitEvent:!0}))},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displaySubTypeFn=function(e){return e&&"string"!=typeof e?this.typeTranslatePrefix?this.translate.instant(this.typeTranslatePrefix+"."+e.type):e.type:this.translate.instant("entity.all-subtypes")},e.prototype.findSubTypes=function(e){return this.getSubTypes().pipe(Object(c.a)((function(t){return t.filter((function(t){return!!e&&("string"!=typeof t&&t.type===e)}))})))},e.prototype.getSubTypes=function(){var e=this;if(!this.subTypes){switch(this.entityType){case f.b.ASSET:this.subTypes=this.assetService.getAssetTypes({ignoreLoading:!0});break;case f.b.DEVICE:this.subTypes=this.deviceService.getDeviceTypes({ignoreLoading:!0});break;case f.b.ENTITY_VIEW:this.subTypes=this.entityViewService.getEntityViewTypes({ignoreLoading:!0})}if(!this.subTypes)return Object(o.a)(null);this.subTypes=this.subTypes.pipe(Object(c.a)((function(t){return t.unshift(""),e.subTypesLoaded=!0,t})),Object(u.a)((function(t){var n=e.subTypeFormGroup.get("subType").value,i="string"==typeof n?n:n.type,r=t.find((function(e){return"string"==typeof e?e===n:e.type===i}));r&&e.subTypeFormGroup.get("subType").patchValue(r)})),Object(p.a)(1),Object(d.a)())}return this.subTypes},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](b.Store),i["\u0275\u0275directiveInject"](h.a),i["\u0275\u0275directiveInject"](v.TranslateService),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](g.a),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-subtype-select"]],inputs:{entityType:"entityType",showLabel:"showLabel",required:"required",disabled:"disabled",typeTranslatePrefix:"typeTranslatePrefix"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:6,vars:7,consts:[[1,"mat-block",3,"formGroup"],[4,"ngIf"],["formControlName","subType",1,"tb-entity-subtype-select",3,"fxShow"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275template"](1,M,3,3,"mat-label",1),i["\u0275\u0275elementStart"](2,"mat-select",2),i["\u0275\u0275template"](3,O,2,2,"mat-option",3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,I,3,3,"mat-error",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.subTypeFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",t.subTypesLoaded),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](4,5,t.subTypesOptions)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.subTypeFormGroup.get("subType").hasError("required")))},directives:[C.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,E.NgIf,T.MatSelect,r.NgControlStatus,r.FormControlName,S.d,E.NgForOf,C.MatLabel,w.MatOption,C.MatError],pipes:[E.AsyncPipe,v.TranslatePipe],styles:[""]}),e}();!function(){i["\u0275setClassMetadata"](x,[{type:i.Component,args:[{selector:"tb-entity-subtype-select",templateUrl:"./entity-subtype-select.component.html",styleUrls:["./entity-subtype-select.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return x})),multi:!0}]}]}],(function(){return[{type:b.Store},{type:h.a},{type:v.TranslateService},{type:m.a},{type:y.a},{type:g.a},{type:r.FormBuilder}]}),{entityType:[{type:i.Input}],showLabel:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}],typeTranslatePrefix:[{type:i.Input}]})}()},"4r/P":function(e,t,n){"use strict";var i;function r(e){var t,n=i.ASC;return e.startsWith("-")?(n=i.DESC,t=e.substring(1)):t=e.startsWith("+")?e.substring(1):e,{property:t,direction:n}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.ASC="ASC",e.DESC="DESC"}(i||(i={}))},"4t+N":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("fXoL"),r=n("3Pt+"),a=n("he9t"),o=n("//Q6"),s=n("HeHW"),l=n("0IaG"),c=n("XiUz"),u=n("kmnG"),p=n("sYmb"),d=n("d3UM"),m=n("NFeN"),f=n("ofXK"),h=n("FKr1"),y=n("qFsG"),g=n("bSwM"),b=n("ZI//"),v=n("bTqV"),C=["inputForm"];function E(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",10),i["\u0275\u0275element"](1,"mat-icon",5),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("svgIcon",r.valueTypes.get(r.valueTypeEnum[n]).icon),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,3,r.valueTypes.get(r.valueTypeEnum[n]).name))}}function T(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.requiredText?n.requiredText:"value.string-value-required")," ")}}function S(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-form-field",11),i["\u0275\u0275elementStart"](1,"mat-label",3),i["\u0275\u0275text"](2,"value.string-value"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",12,13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().modelValue=e}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onValueChanged()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,T,3,3,"mat-error",14),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275reference"](4),a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",a.disabled)("ngModel",a.modelValue),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",r.hasError("required"))}}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.requiredText?n.requiredText:"value.integer-value-required")," ")}}function M(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"value.invalid-integer-value")," "))}function O(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-form-field",11),i["\u0275\u0275elementStart"](1,"mat-label",3),i["\u0275\u0275text"](2,"value.integer-value"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",15,13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().modelValue=e}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onValueChanged()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,w,3,3,"mat-error",14),i["\u0275\u0275template"](6,M,3,3,"mat-error",14),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275reference"](4),a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",a.disabled)("ngModel",a.modelValue),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",r.hasError("required")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.hasError("pattern"))}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.requiredText?n.requiredText:"value.double-value-required")," ")}}function x(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-form-field",11),i["\u0275\u0275elementStart"](1,"mat-label",3),i["\u0275\u0275text"](2,"value.double-value"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",16,13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().modelValue=e}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onValueChanged()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,I,3,3,"mat-error",14),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275reference"](4),a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",a.disabled)("ngModel",a.modelValue),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",r.hasError("required"))}}function j(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",17),i["\u0275\u0275elementStart"](1,"mat-checkbox",18,13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().modelValue=e}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onValueChanged()})),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",r.disabled)("ngModel",r.modelValue),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,3,r.modelValue?"value.true":"value.false")," ")}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.requiredText?n.requiredText:"value.json-value-required")," ")}}function R(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"value.json-value-invalid")," "))}function N(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",19),i["\u0275\u0275elementStart"](1,"mat-form-field",20),i["\u0275\u0275elementStart"](2,"mat-label",3),i["\u0275\u0275text"](3,"value.json-value"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",21,13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().modelValue=e}))("ngModelChange",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().onValueChanged()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",22),i["\u0275\u0275listener"]("click",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().openEditJSONDialog(e)})),i["\u0275\u0275elementStart"](7,"mat-icon"),i["\u0275\u0275text"](8,"open_in_new"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,A,3,3,"mat-error",14),i["\u0275\u0275template"](10,R,3,3,"mat-error",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275reference"](5),a=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",a.disabled)("ngModel",a.modelValue),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",r.hasError("required")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.hasError("invalidJSON"))}}var k=function(){function e(e){this.dialog=e,this.valueTypeEnum=a.f,this.valueTypeKeys=Object.keys(a.f),this.valueTypes=a.j,this.propagateChange=null}return e.prototype.ngOnInit=function(){},e.prototype.openEditJSONDialog=function(e){var t=this;e&&e.stopPropagation(),this.dialog.open(s.a,{disableClose:!0,panelClass:["tb-dialog","tb-fullscreen-dialog"],data:{jsonValue:this.modelValue}}).afterClosed().subscribe((function(e){e&&(t.modelValue=e,t.inputForm.control.patchValue({value:t.modelValue}))}))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){this.modelValue=e,!0===this.modelValue||!1===this.modelValue?this.valueType=a.f.BOOLEAN:"number"==typeof this.modelValue?-1===this.modelValue.toString().indexOf(".")?this.valueType=a.f.INTEGER:this.valueType=a.f.DOUBLE:Object(o.x)(this.modelValue)?this.valueType=a.f.JSON:this.valueType=a.f.STRING},e.prototype.updateView=function(){this.inputForm.valid||this.valueType===a.f.BOOLEAN?this.propagateChange(this.modelValue):this.propagateChange(null)},e.prototype.onValueTypeChanged=function(){this.valueType===a.f.BOOLEAN&&(this.modelValue=!1),this.valueType===a.f.JSON?this.modelValue={}:this.modelValue=null,this.updateView()},e.prototype.onValueChanged=function(){this.updateView()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.MatDialog))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-value-input"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](C,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.inputForm=n.first))},inputs:{disabled:"disabled",requiredText:"requiredText"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:18,vars:12,consts:[["inputForm","ngForm"],["fxLayout","row","fxLayoutGap","8px"],["fxFlex","40",1,"mat-block","tb-value-type"],["translate",""],["matInput","","name","valueType",3,"disabled","ngModel","ngModelChange"],[3,"svgIcon"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","60","class","mat-block",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center","fxFlex","60",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center","fxFlex","60","class","mat-block",4,"ngIf"],[3,"value"],["fxFlex","60",1,"mat-block"],["matInput","","required","","name","value",3,"disabled","ngModel","ngModelChange"],["value","ngModel"],[4,"ngIf"],["matInput","","required","","name","value","type","number","step","1","pattern","^-?[0-9]+$",3,"disabled","ngModel","ngModelChange"],["matInput","","required","","name","value","type","number","step","any",3,"disabled","ngModel","ngModelChange"],["fxLayout","column","fxLayoutAlign","center","fxFlex","60"],["name","value",2,"margin-bottom","0",3,"disabled","ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","center","fxFlex","60",1,"mat-block"],["fxFlex","",1,"mat-block"],["matInput","","tb-json-to-string","","required","","name","value",3,"disabled","ngModel","ngModelChange"],["matSuffix","","mat-button","","mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"form",null,0),i["\u0275\u0275elementStart"](2,"section",1),i["\u0275\u0275elementStart"](3,"mat-form-field",2),i["\u0275\u0275elementStart"](4,"mat-label",3),i["\u0275\u0275text"](5,"value.type"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"mat-select",4),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.valueType=e}))("ngModelChange",(function(){return t.onValueTypeChanged()})),i["\u0275\u0275elementStart"](7,"mat-select-trigger"),i["\u0275\u0275element"](8,"mat-icon",5),i["\u0275\u0275elementStart"](9,"span"),i["\u0275\u0275text"](10),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,E,5,5,"mat-option",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,S,6,3,"mat-form-field",7),i["\u0275\u0275template"](14,O,7,4,"mat-form-field",7),i["\u0275\u0275template"](15,x,6,3,"mat-form-field",7),i["\u0275\u0275template"](16,j,5,5,"div",8),i["\u0275\u0275template"](17,N,11,4,"div",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.valueType),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("svgIcon",t.valueTypes.get(t.valueType).icon),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](11,10,t.valueTypes.get(t.valueType).name)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.valueTypeKeys),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.valueType===t.valueTypeEnum.STRING),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.valueType===t.valueTypeEnum.INTEGER),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.valueType===t.valueTypeEnum.DOUBLE),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.valueType===t.valueTypeEnum.BOOLEAN),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.valueType===t.valueTypeEnum.JSON))},directives:[r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.NgForm,c.f,c.g,u.MatFormField,c.b,u.MatLabel,p.TranslateDirective,d.MatSelect,r.NgControlStatus,r.NgModel,d.MatSelectTrigger,m.MatIcon,f.NgForOf,f.NgIf,h.MatOption,y.MatInput,r.DefaultValueAccessor,r.RequiredValidator,u.MatError,r.NumberValueAccessor,r.PatternValidator,c.e,g.MatCheckbox,b.a,v.MatButton,u.MatSuffix],pipes:[p.TranslatePipe],styles:["[_nghost-%COMP%]     mat-form-field.tb-value-type .mat-form-field-infix{padding-bottom:1px}[_nghost-%COMP%]     mat-form-field.tb-value-type mat-select-trigger .mat-icon{vertical-align:middle;margin-right:16px}"]}),e}();!function(){i["\u0275setClassMetadata"](k,[{type:i.Component,args:[{selector:"tb-value-input",templateUrl:"./value-input.component.html",styleUrls:["./value-input.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return k})),multi:!0}]}]}],(function(){return[{type:l.MatDialog}]}),{disabled:[{type:i.Input}],requiredText:[{type:i.Input}],inputForm:[{type:i.ViewChild,args:["inputForm",{static:!0}]}]})}()},"5U8l":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("fXoL"),r=n("3Pt+"),a=n("vkgz"),o=n("lJxs"),s=n("5+tZ"),l=n("05l1"),c=n("x+ZX"),u=n("8LU1"),p=n("IaQH"),d=(n("/3Pq"),n("l7P3")),m=n("sYmb"),f=n("kmnG"),h=n("qFsG"),y=n("/1cH"),g=n("ofXK"),b=n("znSr"),v=n("bTqV"),C=n("NFeN"),E=n("FKr1"),T=n("d5eY"),S=["queueInput"];function w(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",10),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",11),i["\u0275\u0275element"](1,"span",12),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,n,r.searchText),i["\u0275\u0275sanitizeHtml"])}}function O(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"queue.name_required")," "))}var I=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.queueService=n,this.fb=i,this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.queueFormGroup=this.fb.group({queue:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(u.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredQueues=this.queueFormGroup.get("queue").valueChanges.pipe(Object(a.a)((function(t){e.updateView(t)})),Object(o.a)((function(e){return e||""})),Object(s.b)((function(t){return e.fetchQueues(t)})))},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.queueFormGroup.disable({emitEvent:!1}):this.queueFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){this.searchText="",this.modelValue=e,this.queueFormGroup.get("queue").patchValue(e,{emitEvent:!1}),this.dirty=!0},e.prototype.onFocus=function(){this.dirty&&(this.queueFormGroup.get("queue").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displayQueueFn=function(e){return e||void 0},e.prototype.fetchQueues=function(e){return this.searchText=e,this.getQueues().pipe(Object(o.a)((function(t){var n=t.filter((function(t){return!e||t.toUpperCase().startsWith(e.toUpperCase())}));return n.length?(e&&e.length&&-1===n.indexOf(e)&&n.push(e),n.sort()):e&&e.length&&n.push(e),n})))},e.prototype.getQueues=function(){return this.queues||(this.queues=this.queueService.getTenantQueuesByServiceType(this.queueType,{ignoreLoading:!0}).pipe(Object(l.a)(1),Object(c.a)())),this.queues},e.prototype.clear=function(){var e=this;this.queueFormGroup.get("queue").patchValue(null,{emitEvent:!0}),setTimeout((function(){e.queueInput.nativeElement.blur(),e.queueInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d.Store),i["\u0275\u0275directiveInject"](m.TranslateService),i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-queue-type-list"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](S,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.queueInput=n.first))},inputs:{required:"required",disabled:"disabled",queueType:"queueType"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:15,vars:16,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","queue",3,"placeholder","required","matAutocomplete","focusin"],["queueInput",""],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["queueAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["translate","",1,"tb-hint",3,"fxShow"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",1,2),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,w,3,0,"button",3),i["\u0275\u0275elementStart"](8,"mat-autocomplete",4,5),i["\u0275\u0275template"](10,M,3,5,"mat-option",6),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,O,3,3,"mat-error",7),i["\u0275\u0275elementStart"](13,"mat-hint",8),i["\u0275\u0275text"](14,"device-profile.select-queue-hint"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](9);i["\u0275\u0275property"]("formGroup",t.queueFormGroup),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,10,"queue.name")),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](6,12,"queue.select_name")),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",n),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.queueFormGroup.get("queue").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayQueueFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](11,14,t.filteredQueues)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.queueFormGroup.get("queue").hasError("required")),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",!t.disabled)}},directives:[f.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,f.MatLabel,h.MatInput,r.DefaultValueAccessor,y.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,g.NgIf,y.MatAutocomplete,g.NgForOf,f.MatHint,m.TranslateDirective,b.d,v.MatButton,f.MatSuffix,C.MatIcon,E.MatOption,f.MatError],pipes:[m.TranslatePipe,g.AsyncPipe,T.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](I,[{type:i.Component,args:[{selector:"tb-queue-type-list",templateUrl:"./queue-type-list.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return I})),multi:!0}]}]}],(function(){return[{type:d.Store},{type:m.TranslateService},{type:p.a},{type:r.FormBuilder}]}),{required:[{type:i.Input}],disabled:[{type:i.Input}],queueType:[{type:i.Input}],queueInput:[{type:i.ViewChild,args:["queueInput",{static:!0}]}]})}()},"5xOD":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("fXoL"),r=n("Y8nr"),a=n("XNiG"),o=n("LRne"),s=n("jtHE"),l=n("0lYY"),c=n("OiFK"),u=n("OCOE"),p=n("0G7Z"),d=n("pLZG"),m=n("lJxs"),f=n("vkgz"),h=n("5+tZ"),y=n("oKkZ"),g=n("tyNb"),b=n("tk/3"),v=n("sYmb"),C=function(){function e(e,t,n,i,r){var o=this;this.http=e,this.utils=t,this.resources=n,this.translate=i,this.router=r,this.widgetTypeUpdatedSubject=new a.b,this.widgetsBundleDeletedSubject=new a.b,this.widgetTypeInfosCache=new Map,this.router.events.pipe(Object(d.a)((function(e){return e instanceof g.ActivationEnd}))).subscribe((function(){o.invalidateWidgetsBundleCache()}))}return e.prototype.getAllWidgetsBundles=function(e){var t=this;return this.loadWidgetsBundleCache(e).pipe(Object(m.a)((function(){return t.allWidgetsBundles})))},e.prototype.getSystemWidgetsBundles=function(e){var t=this;return this.loadWidgetsBundleCache(e).pipe(Object(m.a)((function(){return t.systemWidgetsBundles})))},e.prototype.getTenantWidgetsBundles=function(e){var t=this;return this.loadWidgetsBundleCache(e).pipe(Object(m.a)((function(){return t.tenantWidgetsBundles})))},e.prototype.getWidgetBundles=function(e,t){return this.http.get("/api/widgetsBundles"+e.toQuery(),Object(r.b)(t))},e.prototype.getWidgetsBundle=function(e,t){return this.http.get("/api/widgetsBundle/"+e,Object(r.b)(t))},e.prototype.saveWidgetsBundle=function(e,t){var n=this;return this.http.post("/api/widgetsBundle",e,Object(r.b)(t)).pipe(Object(f.a)((function(){n.invalidateWidgetsBundleCache()})))},e.prototype.deleteWidgetsBundle=function(e,t){var n=this;return this.getWidgetsBundle(e,t).pipe(Object(h.b)((function(i){return n.http.delete("/api/widgetsBundle/"+e,Object(r.b)(t)).pipe(Object(f.a)((function(){n.invalidateWidgetsBundleCache(),n.widgetsBundleDeletedSubject.next(i)})))})))},e.prototype.getBundleWidgetTypes=function(e,t,n){return this.http.get("/api/widgetTypes?isSystem="+t+"&bundleAlias="+e,Object(r.b)(n))},e.prototype.getBundleWidgetTypesDetails=function(e,t,n){return this.http.get("/api/widgetTypesDetails?isSystem="+t+"&bundleAlias="+e,Object(r.b)(n))},e.prototype.getBundleWidgetTypeInfos=function(e,t,n){var i=this,a=e+(t?"_sys":"");return this.widgetTypeInfosCache.has(a)?Object(o.a)(this.widgetTypeInfosCache.get(a)):this.http.get("/api/widgetTypesInfos?isSystem="+t+"&bundleAlias="+e,Object(r.b)(n)).pipe(Object(f.a)((function(e){return i.widgetTypeInfosCache.set(a,e)})))},e.prototype.loadBundleLibraryWidgets=function(e,t,n){return this.getBundleWidgetTypes(e,t,n).pipe(Object(m.a)((function(n){n=n.sort((function(e,t){var n=l.k[t.descriptor.type].localeCompare(l.k[e.descriptor.type]);return 0===n&&(n=t.createdTime-e.createdTime),n}));var i=new Array,r=0,a=[0,0,0],o=0,s=0;return n.forEach((function(n){var l=Object(p.e)(n),c=Math.floor(l.sizeY),u={typeId:n.id,isSystemType:t,bundleAlias:e,typeAlias:l.alias,type:l.type,title:l.widgetName,sizeX:8,sizeY:c,row:r,col:o,config:JSON.parse(l.defaultConfig)};u.config.title=l.widgetName,i.push(u),(r+=c)>a[s]+10&&(a[s]=r,++s>2&&(s=0),r=a[s],o=8*s)})),i})))},e.prototype.getWidgetType=function(e,t,n,i){return this.http.get("/api/widgetType?isSystem="+n+"&bundleAlias="+e+"&alias="+t,Object(r.b)(i))},e.prototype.saveWidgetTypeDetails=function(e,t,n,i,a){var o=this,s=Object(p.g)(e,t,void 0,n,i);return this.http.post("/api/widgetType",s,Object(r.b)(a)).pipe(Object(f.a)((function(e){o.widgetTypeUpdatedSubject.next(e)})))},e.prototype.saveImportedWidgetTypeDetails=function(e,t){var n=this;return this.http.post("/api/widgetType",e,Object(r.b)(t)).pipe(Object(f.a)((function(e){n.widgetTypeUpdatedSubject.next(e)})))},e.prototype.deleteWidgetType=function(e,t,n,i){var a=this;return this.getWidgetType(e,t,n,i).pipe(Object(h.b)((function(e){return a.http.delete("/api/widgetType/"+e.id.id,Object(r.b)(i)).pipe(Object(f.a)((function(){a.widgetTypeUpdatedSubject.next(e)})))})))},e.prototype.getWidgetTypeById=function(e,t){return this.http.get("/api/widgetType/"+e,Object(r.b)(t))},e.prototype.getWidgetTemplate=function(e,t){var n=l.l.get(e);return this.getWidgetType(n.template.bundleAlias,n.template.alias,!0,t).pipe(Object(m.a)((function(e){var t=Object(p.e)(e);return t.alias=void 0,t})))},e.prototype.onWidgetTypeUpdated=function(){return this.widgetTypeUpdatedSubject.asObservable()},e.prototype.onWidgetBundleDeleted=function(){return this.widgetsBundleDeletedSubject.asObservable()},e.prototype.loadWidgetsBundleCache=function(e){var t=this;return this.allWidgetsBundles?Object(o.a)(null):(this.loadWidgetsBundleCacheSubject||(this.loadWidgetsBundleCacheSubject=new s.a,this.http.get("/api/widgetsBundles",Object(r.b)(e)).subscribe((function(e){t.allWidgetsBundles=e,t.systemWidgetsBundles=new Array,t.tenantWidgetsBundles=new Array,t.allWidgetsBundles=t.allWidgetsBundles.sort((function(e,t){var n=e.title.localeCompare(t.title);return 0===n&&(n=t.createdTime-e.createdTime),n})),t.allWidgetsBundles.forEach((function(e){e.tenantId.id===y.a?t.systemWidgetsBundles.push(e):t.tenantWidgetsBundles.push(e)})),t.loadWidgetsBundleCacheSubject.next(),t.loadWidgetsBundleCacheSubject.complete()}),(function(){t.loadWidgetsBundleCacheSubject.error(null)}))),this.loadWidgetsBundleCacheSubject.asObservable())},e.prototype.invalidateWidgetsBundleCache=function(){this.allWidgetsBundles=void 0,this.systemWidgetsBundles=void 0,this.tenantWidgetsBundles=void 0,this.loadWidgetsBundleCacheSubject=void 0,this.widgetTypeInfosCache.clear()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](b.b),i["\u0275\u0275inject"](c.a),i["\u0275\u0275inject"](u.a),i["\u0275\u0275inject"](v.TranslateService),i["\u0275\u0275inject"](g.Router))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](C,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:b.b},{type:c.a},{type:u.a},{type:v.TranslateService},{type:g.Router}]}),null)}()},"5yRj":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("fXoL"),r=n("//Q6"),a=n("XiUz"),o=n("znSr"),s=n("bTqV"),l=n("iQdX"),c=n("Qu3c"),u=n("NFeN"),p=n("sYmb"),d=function(){return{provider:"Facebook"}},m=function(){return{provider:"Twitter"}},f=function(){return{provider:"Linkedin"}},h=function(){return{provider:"Reddit"}},y=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.isShareLinkLocal=function(){return!(this.shareLink&&this.shareLink.length>0)||Object(r.t)(this.shareLink)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-social-share-panel"]],inputs:{shareTitle:"shareTitle",shareText:"shareText",shareLink:"shareLink",shareHashTags:"shareHashTags"},decls:13,vars:31,consts:[["fxLayout","row","fxLayoutGap","12px",3,"fxHide"],["mat-icon-button","","mat-raised-button","","shareButton","facebook","matTooltipPosition","above",1,"mat-primary",3,"title","description","url","matTooltip"],["svgIcon","mdi:facebook"],["mat-icon-button","","mat-raised-button","","shareButton","twitter","matTooltipPosition","above",1,"mat-primary",3,"title","tags","url","matTooltip"],["svgIcon","mdi:twitter"],["mat-icon-button","","mat-raised-button","","shareButton","linkedin","matTooltipPosition","above",1,"mat-primary",3,"title","url","matTooltip"],["svgIcon","mdi:linkedin"],["mat-icon-button","","mat-raised-button","","shareButton","reddit","matTooltipPosition","above",1,"mat-primary",3,"title","url","matTooltip"],["svgIcon","mdi:reddit"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"button",1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275element"](3,"mat-icon",2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275element"](6,"mat-icon",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"button",5),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275element"](9,"mat-icon",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"button",7),i["\u0275\u0275pipe"](11,"translate"),i["\u0275\u0275element"](12,"mat-icon",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("fxHide",t.isShareLinkLocal()),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("title",t.shareTitle),i["\u0275\u0275propertyInterpolate"]("description",t.shareText),i["\u0275\u0275propertyInterpolate"]("url",t.shareLink),i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind2"](2,15,"action.share-via",i["\u0275\u0275pureFunction0"](27,d))),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("title",t.shareTitle),i["\u0275\u0275propertyInterpolate"]("tags",t.shareHashTags),i["\u0275\u0275propertyInterpolate"]("url",t.shareLink),i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind2"](5,18,"action.share-via",i["\u0275\u0275pureFunction0"](28,m))),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("title",t.shareTitle),i["\u0275\u0275propertyInterpolate"]("url",t.shareLink),i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind2"](8,21,"action.share-via",i["\u0275\u0275pureFunction0"](29,f))),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("title",t.shareTitle),i["\u0275\u0275propertyInterpolate"]("url",t.shareLink),i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind2"](11,24,"action.share-via",i["\u0275\u0275pureFunction0"](30,h))))},directives:[a.f,a.g,o.d,s.MatButton,l.a,c.MatTooltip,u.MatIcon],pipes:[p.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}"]}),e}();!function(){i["\u0275setClassMetadata"](y,[{type:i.Component,args:[{selector:"tb-social-share-panel",templateUrl:"./socialshare-panel.component.html",styleUrls:["./socialshare-panel.component.scss"]}]}],(function(){return[]}),{shareTitle:[{type:i.Input}],shareText:[{type:i.Input}],shareLink:[{type:i.Input}],shareHashTags:[{type:i.Input}]})}()},"6OOC":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={createdTime:{keyName:"createdTime",name:"entity-field.created-time",value:"createdTime",time:!0},name:{keyName:"name",name:"entity-field.name",value:"name"},type:{keyName:"type",name:"entity-field.type",value:"type"},firstName:{keyName:"firstName",name:"entity-field.first-name",value:"firstName"},lastName:{keyName:"lastName",name:"entity-field.last-name",value:"lastName"},email:{keyName:"email",name:"entity-field.email",value:"email"},title:{keyName:"title",name:"entity-field.title",value:"title"},country:{keyName:"country",name:"entity-field.country",value:"country"},state:{keyName:"state",name:"entity-field.state",value:"state"},city:{keyName:"city",name:"entity-field.city",value:"city"},address:{keyName:"address",name:"entity-field.address",value:"address"},address2:{keyName:"address2",name:"entity-field.address2",value:"address2"},zip:{keyName:"zip",name:"entity-field.zip",value:"zip"},phone:{keyName:"phone",name:"entity-field.phone",value:"phone"},label:{keyName:"label",name:"entity-field.label",value:"label"}}},"6XAR":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n("fXoL"),r=n("3Pt+"),a=n("z6cu"),o=n("vkgz"),s=n("lJxs"),l=n("5+tZ"),c=n("05l1"),u=n("x+ZX"),p=n("DaoB"),d=n("U3y+"),m=n("gM18"),f=n("8LU1"),h=n("1y+p"),y=n("j37L"),g=n("l7P3"),b=n("sYmb"),v=n("kmnG"),C=n("qFsG"),E=n("/1cH"),T=n("ofXK"),S=n("bTqV"),w=n("NFeN"),M=n("FKr1"),O=n("d5eY"),I=["subTypeInput"];function x(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",9),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",10),i["\u0275\u0275element"](1,"span",11),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,n,r.searchText),i["\u0275\u0275sanitizeHtml"])}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.entitySubtypeRequiredText)," ")}}var R=function(){function e(e,t,n,i,r,a,o){this.store=e,this.broadcast=t,this.translate=n,this.deviceService=i,this.assetService=r,this.entityViewService=a,this.fb=o,this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.subTypeFormGroup=this.fb.group({subType:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(f.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;switch(this.entityType){case d.b.ASSET:this.selectEntitySubtypeText="asset.select-asset-type",this.entitySubtypeText="asset.asset-type",this.entitySubtypeRequiredText="asset.asset-type-required",this.broadcastSubscription=this.broadcast.on("assetSaved",(function(){e.subTypes=null}));break;case d.b.DEVICE:this.selectEntitySubtypeText="device.select-device-type",this.entitySubtypeText="device.device-type",this.entitySubtypeRequiredText="device.device-type-required",this.broadcastSubscription=this.broadcast.on("deviceSaved",(function(){e.subTypes=null}));break;case d.b.ENTITY_VIEW:this.selectEntitySubtypeText="entity-view.select-entity-view-type",this.entitySubtypeText="entity-view.entity-view-type",this.entitySubtypeRequiredText="entity-view.entity-view-type-required",this.broadcastSubscription=this.broadcast.on("entityViewSaved",(function(){e.subTypes=null}))}this.filteredSubTypes=this.subTypeFormGroup.get("subType").valueChanges.pipe(Object(o.a)((function(t){e.updateView(t)})),Object(s.a)((function(e){return e||""})),Object(l.b)((function(t){return e.fetchSubTypes(t)})))},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.broadcastSubscription&&this.broadcastSubscription.unsubscribe()},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.subTypeFormGroup.disable({emitEvent:!1}):this.subTypeFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){this.searchText="",this.modelValue=e,this.subTypeFormGroup.get("subType").patchValue(e,{emitEvent:!1}),this.dirty=!0},e.prototype.onFocus=function(){this.dirty&&(this.subTypeFormGroup.get("subType").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displaySubTypeFn=function(e){return e||void 0},e.prototype.fetchSubTypes=function(e,t){return void 0===t&&(t=!1),this.searchText=e,this.getSubTypes().pipe(Object(s.a)((function(n){return n.filter((function(n){return t?!!e&&n===e:!e||n.toUpperCase().startsWith(e.toUpperCase())}))})))},e.prototype.getSubTypes=function(){if(!this.subTypes){var e=void 0;switch(this.entityType){case d.b.ASSET:e=this.assetService.getAssetTypes({ignoreLoading:!0});break;case d.b.DEVICE:e=this.deviceService.getDeviceTypes({ignoreLoading:!0});break;case d.b.ENTITY_VIEW:e=this.entityViewService.getEntityViewTypes({ignoreLoading:!0})}if(!e)return Object(a.a)(null);this.subTypes=e.pipe(Object(s.a)((function(e){return e.map((function(e){return e.type}))})),Object(c.a)(1),Object(u.a)())}return this.subTypes},e.prototype.clear=function(){var e=this;this.subTypeFormGroup.get("subType").patchValue(null,{emitEvent:!0}),setTimeout((function(){e.subTypeInput.nativeElement.blur(),e.subTypeInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](g.Store),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](b.TranslateService),i["\u0275\u0275directiveInject"](p.a),i["\u0275\u0275directiveInject"](h.a),i["\u0275\u0275directiveInject"](y.a),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-subtype-autocomplete"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](I,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.subTypeInput=n.first))},inputs:{entityType:"entityType",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:13,vars:15,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","subType",3,"placeholder","required","matAutocomplete","focusin"],["subTypeInput",""],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["subTypeAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",1,2),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,x,3,0,"button",3),i["\u0275\u0275elementStart"](8,"mat-autocomplete",4,5),i["\u0275\u0275template"](10,j,3,5,"mat-option",6),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,A,3,3,"mat-error",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](9);i["\u0275\u0275property"]("formGroup",t.subTypeFormGroup),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,9,t.entitySubtypeText)),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](6,11,t.selectEntitySubtypeText)),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",n),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.subTypeFormGroup.get("subType").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displaySubTypeFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](11,13,t.filteredSubTypes)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.subTypeFormGroup.get("subType").hasError("required"))}},directives:[v.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,v.MatLabel,C.MatInput,r.DefaultValueAccessor,E.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,T.NgIf,E.MatAutocomplete,T.NgForOf,S.MatButton,v.MatSuffix,w.MatIcon,M.MatOption,v.MatError],pipes:[b.TranslatePipe,T.AsyncPipe,O.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](R,[{type:i.Component,args:[{selector:"tb-entity-subtype-autocomplete",templateUrl:"./entity-subtype-autocomplete.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return R})),multi:!0}]}]}],(function(){return[{type:g.Store},{type:m.a},{type:b.TranslateService},{type:p.a},{type:h.a},{type:y.a},{type:r.FormBuilder}]}),{entityType:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}],subTypeInput:[{type:i.ViewChild,args:["subTypeInput",{static:!0}]}]})}()},"7JTo":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c}));var i,r,a="Contains",o="Manages",s=[a,o];!function(e){e.COMMON="COMMON",e.ALARM="ALARM",e.DASHBOARD="DASHBOARD",e.RULE_CHAIN="RULE_CHAIN",e.RULE_NODE="RULE_NODE"}(i||(i={})),function(e){e.FROM="FROM",e.TO="TO"}(r||(r={}));var l=new Map([[r.FROM,"relation.search-direction.FROM"],[r.TO,"relation.search-direction.TO"]]),c=new Map([[r.FROM,"relation.direction-type.FROM"],[r.TO,"relation.direction-type.TO"]])},"7dgu":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));for(var i=n("Zss7"),r=i,a={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"}},o=new Array,s=["blue","green","red","amber","blue-grey","purple","light-green","indigo","pink","yellow","light-blue","orange","deep-purple","lime","teal","brown","cyan","deep-orange","grey"],l=["500","A700","600","700","800","900","300","400","A200","A400"],c=0,u=Object.keys(a);c<u.length;c++)for(var p=u[c],d=a[p],m=0,f=Object.keys(d);m<f.length;m++){var h=f[m];if(l.indexOf(h)>-1){var y=r(d[h]),g=y.isDark(),b={value:y.toHexString(),group:p,label:h,isDark:g};o.push(b)}}o.sort((function(e,t){var n=l.indexOf(e.label)-l.indexOf(t.label);0===n&&(n=s.indexOf(e.group)-s.indexOf(t.group));return n}))},"7qoW":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var i=n("fXoL"),r=n("XiUz"),a=n("kmnG"),o=n("d3UM"),s=n("3Pt+"),l=n("ofXK"),c=n("FKr1"),u=n("sYmb");function p(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",3),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n.id.id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.title," ")}}var d=new i.InjectionToken("DashboardSelectPanelData"),m=function(){function e(e){this.data=e,this.dashboards$=this.data.dashboards$,this.dashboardId=this.data.dashboardId}return e.prototype.dashboardSelected=function(e){this.data.onDashboardSelected(e)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-dashboard-select-panel"]],decls:8,vars:7,consts:[["fxLayout","column",1,"mat-content","mat-padding"],["matInput","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-form-field"),i["\u0275\u0275elementStart"](2,"mat-label"),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"mat-select",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.dashboardId=e}))("ngModelChange",(function(){return t.dashboardSelected(t.dashboardId)})),i["\u0275\u0275template"](6,p,2,2,"mat-option",2),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](4,3,"dashboard.select-dashboard")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",t.dashboardId),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](7,5,t.dashboards$)))},directives:[r.f,a.MatFormField,a.MatLabel,o.MatSelect,s.NgControlStatus,s.NgModel,l.NgForOf,c.MatOption],pipes:[u.TranslatePipe,l.AsyncPipe],styles:["[_nghost-%COMP%]{min-width:300px;max-width:320px;max-height:150px;overflow-x:hidden;overflow-y:auto;background:#fff;border-radius:4px;box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}@media (min-height:350px){[_nghost-%COMP%]{max-height:250px}}[_nghost-%COMP%]   .mat-content[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]     mat-form-field .mat-form-field-infix{width:100%}[_nghost-%COMP%]     mat-form-field .mat-form-field-infix mat-select .mat-select-value{max-width:100%}"]}),e}();!function(){i["\u0275setClassMetadata"](m,[{type:i.Component,args:[{selector:"tb-dashboard-select-panel",templateUrl:"./dashboard-select-panel.component.html",styleUrls:["./dashboard-select-panel.component.scss"]}]}],(function(){return[{type:void 0,decorators:[{type:i.Inject,args:[d]}]}]}),null)}()},"89S7":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),r=n("3Pt+"),a=n("U3y+"),o=n("21Fy"),s=n("8LU1"),l=n("oKkZ"),c=n("l7P3"),u=n("sYmb");function p(e,t){if(1&e&&i["\u0275\u0275element"](0,"tb-entity-type-select",3),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("showLabel",!0)("required",n.required)("useAliasEntityTypes",n.useAliasEntityTypes)("allowedEntityTypes",n.allowedEntityTypes)}}function d(e,t){if(1&e&&i["\u0275\u0275element"](0,"tb-entity-autocomplete",4),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("required",n.required)("entityType",n.modelValue.entityType)}}var m=function(){function e(e,t,n,i){this.store=e,this.entityService=t,this.translate=n,this.fb=i,this.modelValue={entityType:null,id:null},this.AliasEntityType=a.a,this.defaultEntityType=null,this.propagateChange=function(e){};var r=this.entityService.prepareAllowedEntityTypesList(this.allowedEntityTypes,this.useAliasEntityTypes);1===r.length?(this.displayEntityTypeSelect=!1,this.defaultEntityType=r[0]):this.displayEntityTypeSelect=!0,this.entitySelectFormGroup=this.fb.group({entityType:[this.defaultEntityType],entityId:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.entitySelectFormGroup.get("entityType").valueChanges.subscribe((function(t){e.updateView(t,e.modelValue.id)})),this.entitySelectFormGroup.get("entityId").valueChanges.subscribe((function(t){var n=t?"string"==typeof t?t:t.id:null;e.updateView(e.modelValue.entityType,n)}))},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.entitySelectFormGroup.disable():this.entitySelectFormGroup.enable()},e.prototype.writeValue=function(e){null!=e?(e.id===l.a&&(e.id=null),this.modelValue=e,this.entitySelectFormGroup.get("entityType").patchValue(e.entityType,{emitEvent:!0}),this.entitySelectFormGroup.get("entityId").patchValue(e,{emitEvent:!0})):(this.modelValue={entityType:this.defaultEntityType,id:null},this.entitySelectFormGroup.get("entityType").patchValue(this.defaultEntityType,{emitEvent:!0}),this.entitySelectFormGroup.get("entityId").patchValue(null,{emitEvent:!0}))},e.prototype.updateView=function(e,t){this.modelValue.entityType===e&&this.modelValue.id===t||(this.modelValue={entityType:e,id:this.modelValue.entityType!==e?null:t},this.modelValue.entityType===a.a.CURRENT_TENANT||this.modelValue.entityType===a.a.CURRENT_USER||this.modelValue.entityType===a.a.CURRENT_USER_OWNER?this.modelValue.id=l.a:this.modelValue.entityType!==a.a.CURRENT_CUSTOMER||this.modelValue.id||(this.modelValue.id=l.a),this.modelValue.entityType&&this.modelValue.id?this.propagateChange(this.modelValue):this.propagateChange(null))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](c.Store),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](u.TranslateService),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-select"]],inputs:{allowedEntityTypes:"allowedEntityTypes",useAliasEntityTypes:"useAliasEntityTypes",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:3,vars:3,consts:[["fxLayout","row",1,"tb-entity-select",3,"formGroup"],["style","min-width: 100px; padding-right: 8px;","formControlName","entityType",3,"showLabel","required","useAliasEntityTypes","allowedEntityTypes",4,"ngIf"],["fxFlex","","formControlName","entityId",3,"required","entityType",4,"ngIf"],["formControlName","entityType",2,"min-width","100px","padding-right","8px",3,"showLabel","required","useAliasEntityTypes","allowedEntityTypes"],["fxFlex","","formControlName","entityId",3,"required","entityType"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,p,1,4,"tb-entity-type-select",1),i["\u0275\u0275template"](2,d,1,2,"tb-entity-autocomplete",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.entitySelectFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.displayEntityTypeSelect),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.modelValue.entityType&&t.modelValue.entityType!==t.AliasEntityType.CURRENT_TENANT&&t.modelValue.entityType!==t.AliasEntityType.CURRENT_USER&&t.modelValue.entityType!==t.AliasEntityType.CURRENT_USER_OWNER))},styles:[""]}),e}();!function(){i["\u0275setClassMetadata"](m,[{type:i.Component,args:[{selector:"tb-entity-select",templateUrl:"./entity-select.component.html",styleUrls:["./entity-select.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return m})),multi:!0}]}]}],(function(){return[{type:c.Store},{type:o.a},{type:u.TranslateService},{type:r.FormBuilder}]}),{allowedEntityTypes:[{type:i.Input}],useAliasEntityTypes:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}]})}()},"8RXW":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("mrSG"),r=n("fXoL"),a=n("RxGS"),o=n("R0Ic"),s=[Object(o.trigger)("fabToggler",[Object(o.state)("inactive",Object(o.style)({transform:"rotate(0deg)"})),Object(o.state)("active",Object(o.style)({transform:"rotate(225deg)"})),Object(o.transition)("* <=> *",Object(o.animate)("200ms cubic-bezier(0.4, 0.0, 0.2, 1)"))]),Object(o.trigger)("speedDialStagger",[Object(o.transition)("* => *",[Object(o.query)(":enter",Object(o.style)({opacity:0}),{optional:!0}),Object(o.query)(":enter",Object(o.stagger)("40ms",[Object(o.animate)("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(o.keyframes)([Object(o.style)({opacity:0,transform:"translateY(10px)"}),Object(o.style)({opacity:1,transform:"translateY(0)"})]))]),{optional:!0}),Object(o.query)(":leave",Object(o.animate)("200ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(o.keyframes)([Object(o.style)({opacity:1}),Object(o.style)({opacity:0})])),{optional:!0})])])],l=n("8LU1"),c=n("l7P3"),u=n("XiUz"),p=n("ofXK"),d=n("znSr"),m=n("bTqV"),f=n("Qu3c"),h=n("NFeN"),y=n("sYmb");function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",4),r["\u0275\u0275listener"]("click",(function(e){return r["\u0275\u0275restoreView"](n),t.$implicit.onAction(e)})),r["\u0275\u0275pipe"](1,"translate"),r["\u0275\u0275elementStart"](2,"mat-icon"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](1,2,i.name)),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](i.icon)}}var b=function(e){return{"relative-buttons":e}},v=function(e){return{value:e}},C=function(e){function t(t){var n=e.call(this,t)||this;return n.store=t,n.buttons=[],n.fabTogglerState="inactive",n.closeTimeout=null,n}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"relative",{get:function(){return this.relativeValue},set:function(e){this.relativeValue=Object(l.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),t.prototype.onFocusOut=function(e){var t=this;this.closeTimeout||(this.closeTimeout=setTimeout((function(){t.hideItems()}),100))},t.prototype.onFocusIn=function(e){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},t.prototype.showItems=function(){this.fabTogglerState="active",this.buttons=this.footerFabButtons.buttons},t.prototype.hideItems=function(){this.fabTogglerState="inactive",this.buttons=[]},t.prototype.onToggleFab=function(){this.buttons.length?this.hideItems():this.showItems()},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](c.Store))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-footer-fab-buttons"]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("focusout",(function(e){return t.onFocusOut(e)}))("focusin",(function(e){return t.onFocusIn(e)}))},inputs:{footerFabButtons:"footerFabButtons",relative:"relative"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:15,consts:[["fxLayout","row",1,"layout-wrap","tb-footer-fab-buttons",3,"ngClass"],[1,"fab-container"],["mat-fab","","color","accent","matTooltipPosition","above",1,"fab-toggler","tb-btn-footer",3,"disabled","matTooltip","click"],["mat-fab","","color","accent","matTooltipPosition","above",3,"matTooltip","click",4,"ngFor","ngForOf"],["mat-fab","","color","accent","matTooltipPosition","above",3,"matTooltip","click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"button",2),r["\u0275\u0275listener"]("click",(function(){return t.onToggleFab()})),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementStart"](5,"mat-icon"),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div"),r["\u0275\u0275template"](8,g,4,4,"button",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](11,b,t.relative)),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](4,9,t.footerFabButtons.fabTogglerName)),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](3,7,t.isLoading$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("@fabToggler",r["\u0275\u0275pureFunction1"](13,v,t.fabTogglerState)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.footerFabButtons.fabTogglerIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("@speedDialStagger",t.buttons.length),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.buttons))},directives:[u.f,p.NgClass,d.b,m.MatButton,f.MatTooltip,h.MatIcon,p.NgForOf],pipes:[p.AsyncPipe,y.TranslatePipe],styles:["[_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]:not(.relative-buttons){position:fixed;right:20px;bottom:20px;z-index:30;pointer-events:none}[_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]   .fab-container[_ngcontent-%COMP%], [_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]   .fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]   .fab-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:17px}[_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]   .tb-btn-footer[_ngcontent-%COMP%]{position:relative!important;display:inline-block!important;-webkit-animation:tbMoveFromBottomFade .3s ease both;animation:tbMoveFromBottomFade .3s ease both}[_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]   .tb-btn-footer.fab-toggler[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   section.tb-footer-fab-buttons[_ngcontent-%COMP%]   .tb-btn-footer.tb-hide[_ngcontent-%COMP%]{-webkit-animation:tbMoveToBottomFade .3s ease both;animation:tbMoveToBottomFade .3s ease both}"],data:{animation:s}}),t}(a.a);!function(){r["\u0275setClassMetadata"](C,[{type:r.Component,args:[{selector:"tb-footer-fab-buttons",templateUrl:"./footer-fab-buttons.component.html",styleUrls:["./footer-fab-buttons.component.scss"],animations:s}]}],(function(){return[{type:c.Store}]}),{footerFabButtons:[{type:r.Input}],relative:[{type:r.Input}],onFocusOut:[{type:r.HostListener,args:["focusout",["$event"]]}],onFocusIn:[{type:r.HostListener,args:["focusin",["$event"]]}]})}()},"8km5":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n("+5dr"),r=n("3Zdl"),a=[r.b.FILTER,r.b.ENRICHMENT,r.b.TRANSFORMATION,r.b.ACTION,r.b.EXTERNAL],o={type:i.c.RULE_CHAIN,name:"rule chain",clazz:"tb.internal.RuleChain",configurationDescriptor:{nodeDefinition:{description:"",details:"Forwards incoming messages to specified Rule Chain",inEnabled:!0,outEnabled:!1,relationTypes:[],customRelations:!1,defaultConfiguration:{}}}},s={type:i.c.UNKNOWN,name:"unknown",clazz:"tb.internal.Unknown",configurationDescriptor:{nodeDefinition:{description:"",details:"",inEnabled:!0,outEnabled:!0,relationTypes:[],customRelations:!1,defaultConfiguration:{}}}},l={type:i.c.INPUT,name:"Input",clazz:"tb.internal.Input"}},"8lD5":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("fXoL"),r=n("3Pt+"),a=n("U3y+"),o=n("21Fy"),s=n("8LU1"),l=n("l7P3"),c=n("sYmb"),u=n("kmnG"),p=n("ofXK"),d=n("d3UM"),m=n("FKr1");function f(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-label"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"entity.type")))}function h(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",4),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",r.displayEntityTypeFn(n)," ")}}function y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"entity.type-required")," "))}var g=function(){function e(e,t,n,i){this.store=e,this.entityService=t,this.translate=n,this.fb=i,this.propagateChange=function(e){},this.entityTypeFormGroup=this.fb.group({entityType:[null]})}return Object.defineProperty(e.prototype,"showLabel",{get:function(){return this.showLabelValue},set:function(e){this.showLabelValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.entityTypes=this.entityService.prepareAllowedEntityTypesList(this.allowedEntityTypes,this.useAliasEntityTypes),this.entityTypeFormGroup.get("entityType").valueChanges.subscribe((function(t){var n;n=t&&""!==t?t:null,e.updateView(n)}))},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.entityTypeFormGroup.disable():this.entityTypeFormGroup.enable()},e.prototype.writeValue=function(e){null!=e?(this.modelValue=e,this.entityTypeFormGroup.get("entityType").patchValue(e,{emitEvent:!0})):(this.modelValue=null,this.entityTypeFormGroup.get("entityType").patchValue(null,{emitEvent:!0}))},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displayEntityTypeFn=function(e){return e?this.translate.instant(a.d.get(e).type):""},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.Store),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](c.TranslateService),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-type-select"]],inputs:{allowedEntityTypes:"allowedEntityTypes",useAliasEntityTypes:"useAliasEntityTypes",showLabel:"showLabel",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["matInput","","formControlName","entityType",1,"tb-entity-type-select",3,"required"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275template"](1,f,3,3,"mat-label",1),i["\u0275\u0275elementStart"](2,"mat-select",2),i["\u0275\u0275template"](3,h,2,2,"mat-option",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,y,3,3,"mat-error",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.entityTypeFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("required",t.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.entityTypes),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.entityTypeFormGroup.get("entityType").hasError("required")))},directives:[u.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,p.NgIf,d.MatSelect,r.NgControlStatus,r.FormControlName,r.RequiredValidator,p.NgForOf,u.MatLabel,m.MatOption,u.MatError],pipes:[c.TranslatePipe],styles:["[_nghost-%COMP%]     .mat-form-field-infix{width:100%}[_nghost-%COMP%]     .mat-select-value{max-width:200px;min-width:100px}"]}),e}();!function(){i["\u0275setClassMetadata"](g,[{type:i.Component,args:[{selector:"tb-entity-type-select",templateUrl:"./entity-type-select.component.html",styleUrls:["./entity-type-select.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return g})),multi:!0}]}]}],(function(){return[{type:l.Store},{type:o.a},{type:c.TranslateService},{type:r.FormBuilder}]}),{allowedEntityTypes:[{type:i.Input}],useAliasEntityTypes:[{type:i.Input}],showLabel:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}]})}()},"8m5z":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("fXoL"),a=n("rDax"),o=n("+rOU"),s=n("HnHJ"),l=n("jhN1"),c=function(){function e(e,t,n,i,a){this.elementRef=e,this.renderer=t,this.sanitizer=n,this.viewContainerRef=i,this.overlay=a,this.fullscreenValue=!1,this.fullscreenChanged=new r.EventEmitter}return e.prototype.ngOnChanges=function(e){for(var t=!1,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],a=e[r];a.firstChange||a.currentValue===a.previousValue||"fullscreen"===r&&(t=!0)}t&&(this.fullscreen?this.enterFullscreen():this.exitFullscreen())},e.prototype.ngOnDestroy=function(){this.fullscreen&&this.exitFullscreen()},e.prototype.enterFullscreen=function(){var e=this.fullscreenElement||this.elementRef.nativeElement;this.parentElement=e.parentElement,this.parentElement.removeChild(e),e.classList.add("tb-fullscreen");var t=this.overlay.position(),n=new a.OverlayConfig({hasBackdrop:!1,panelClass:"tb-fullscreen-parent"});if(n.minWidth="100%",n.minHeight="100%",n.positionStrategy=t.global().top("0%").left("0%").right("0%").bottom("0%"),this.overlayRef=this.overlay.create(n),this.overlayRef.attach(new u),this.fullscreenBackgroundStyle)for(var i=0,r=Object.keys(this.fullscreenBackgroundStyle);i<r.length;i++){var o=r[i];this.setStyle(this.overlayRef.overlayElement,o,this.fullscreenBackgroundStyle[o])}this.fullscreenBackgroundImage&&this.setStyle(this.overlayRef.overlayElement,"backgroundImage",this.fullscreenBackgroundImage),this.overlayRef.overlayElement.appendChild(e),this.fullscreenChanged.emit(!0)},e.prototype.setStyle=function(e,t,n){var i=t.split("."),a=i[0],o=i[1],s=this.sanitizer.sanitize(r.SecurityContext.STYLE,n);null!=s&&(s=s.toString()),null!=(s=null!=s&&o?""+s+o:s)?this.renderer.setStyle(this.overlayRef.overlayElement,a,s):this.renderer.removeStyle(this.overlayRef.overlayElement,a)},e.prototype.exitFullscreen=function(){var e=this.fullscreenElement||this.elementRef.nativeElement;this.parentElement&&(this.overlayRef.overlayElement.removeChild(e),this.parentElement.appendChild(e),this.parentElement=null),e.classList.remove("tb-fullscreen"),this.elementRef&&this.elementRef.nativeElement.classList.remove("tb-fullscreen"),this.overlayRef&&this.overlayRef.dispose(),this.fullscreenChanged.emit(!1)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2),r["\u0275\u0275directiveInject"](l.DomSanitizer),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](a.Overlay))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","tb-fullscreen",""]],inputs:{fullscreen:"fullscreen",fullscreenElement:"fullscreenElement",fullscreenBackgroundStyle:"fullscreenBackgroundStyle",fullscreenBackgroundImage:"fullscreenBackgroundImage"},outputs:{fullscreenChanged:"fullscreenChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e}();!function(){r["\u0275setClassMetadata"](c,[{type:r.Directive,args:[{selector:"[tb-fullscreen]"}]}],(function(){return[{type:r.ElementRef},{type:r.Renderer2},{type:l.DomSanitizer},{type:r.ViewContainerRef},{type:a.Overlay}]}),{fullscreen:[{type:r.Input}],fullscreenElement:[{type:r.Input}],fullscreenBackgroundStyle:[{type:r.Input}],fullscreenBackgroundImage:[{type:r.Input}],fullscreenChanged:[{type:r.Output}]})}();var u=function(e){function t(){return e.call(this,s.a)||this}return Object(i.d)(t,e),t}(o.ComponentPortal)},"91Tk":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("21Fy"),s=n("8LU1"),l=n("l7P3"),c=n("sYmb");function u(e,t){if(1&e&&r["\u0275\u0275element"](0,"tb-entity-type-select",3),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("showLabel",!0)("required",n.required)("useAliasEntityTypes",n.useAliasEntityTypes)("allowedEntityTypes",n.allowedEntityTypes)}}var p=function(e){return{"tb-not-empty":e}};function d(e,t){if(1&e&&r["\u0275\u0275element"](0,"tb-entity-list",4),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](3,p,(null==n.modelValue.ids?null:n.modelValue.ids.length)>0))("required",n.required)("entityType",n.modelValue.entityType)}}var m=function(){function e(e,t,n,i){this.store=e,this.entityService=t,this.translate=n,this.fb=i,this.modelValue={entityType:null,ids:[]},this.defaultEntityType=null,this.propagateChange=function(e){};var r=this.entityService.prepareAllowedEntityTypesList(this.allowedEntityTypes,this.useAliasEntityTypes);1===r.length?(this.displayEntityTypeSelect=!1,this.defaultEntityType=r[0]):this.displayEntityTypeSelect=!0,this.entityListSelectFormGroup=this.fb.group({entityType:[this.defaultEntityType],entityIds:[[]]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.entityListSelectFormGroup.get("entityType").valueChanges.subscribe((function(t){e.updateView(t,e.modelValue.ids)})),this.entityListSelectFormGroup.get("entityIds").valueChanges.subscribe((function(t){e.updateView(e.modelValue.entityType,t)}))},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.entityListSelectFormGroup.disable():this.entityListSelectFormGroup.enable()},e.prototype.writeValue=function(e){if(null!=e&&e.length>0){var t=e[0];this.modelValue={entityType:t.entityType,ids:e.map((function(e){return e.id}))}}else this.modelValue={entityType:this.defaultEntityType,ids:[]};this.entityListSelectFormGroup.get("entityType").patchValue(this.modelValue.entityType,{emitEvent:!0}),this.entityListSelectFormGroup.get("entityIds").patchValue(Object(i.g)(this.modelValue.ids),{emitEvent:!0})},e.prototype.updateView=function(e,t){this.modelValue.entityType===e&&this.compareIds(this.modelValue.ids,t)||(this.modelValue={entityType:e,ids:this.modelValue.entityType===e&&t?Object(i.g)(t):[]},this.propagateChange(this.toEntityIds(this.modelValue)))},e.prototype.compareIds=function(e,t){return null!==e&&null!==t?JSON.stringify(e)===JSON.stringify(t):e===t},e.prototype.toEntityIds=function(e){if(null!==e&&e.entityType&&e.ids&&e.ids.length>0){var t=e.entityType;return e.ids.map((function(e){return{entityType:t,id:e}}))}return null},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.Store),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](c.TranslateService),r["\u0275\u0275directiveInject"](a.FormBuilder))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-list-select"]],inputs:{allowedEntityTypes:"allowedEntityTypes",useAliasEntityTypes:"useAliasEntityTypes",required:"required",disabled:"disabled"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}])],decls:3,vars:3,consts:[["fxLayout","row",1,"tb-entity-list-select",3,"formGroup"],["style","min-width: 100px; padding-right: 8px;","formControlName","entityType",3,"showLabel","required","useAliasEntityTypes","allowedEntityTypes",4,"ngIf"],["fxFlex","","formControlName","entityIds",3,"ngClass","required","entityType",4,"ngIf"],["formControlName","entityType",2,"min-width","100px","padding-right","8px",3,"showLabel","required","useAliasEntityTypes","allowedEntityTypes"],["fxFlex","","formControlName","entityIds",3,"ngClass","required","entityType"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,u,1,4,"tb-entity-type-select",1),r["\u0275\u0275template"](2,d,1,5,"tb-entity-list",2),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.entityListSelectFormGroup),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.displayEntityTypeSelect),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.modelValue.entityType))},styles:["[_nghost-%COMP%]     tb-entity-list.tb-not-empty .mat-form-field-flex{padding-top:0}"]}),e}();!function(){r["\u0275setClassMetadata"](m,[{type:r.Component,args:[{selector:"tb-entity-list-select",templateUrl:"./entity-list-select.component.html",styleUrls:["./entity-list-select.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return m})),multi:!0}]}]}],(function(){return[{type:l.Store},{type:o.a},{type:c.TranslateService},{type:a.FormBuilder}]}),{allowedEntityTypes:[{type:r.Input}],useAliasEntityTypes:[{type:r.Input}],required:[{type:r.Input}],disabled:[{type:r.Input}]})}()},"9D3k":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("fXoL"),a=n("Y8nr"),o=n("//Q6"),s=n("tk/3"),l=function(){function e(e){this.http=e}return e.prototype.getUsers=function(e,t){return this.http.get("/api/users"+e.toQuery(),Object(a.b)(t))},e.prototype.getTenantAdmins=function(e,t,n){return this.http.get("/api/tenant/"+e+"/users"+t.toQuery(),Object(a.b)(n))},e.prototype.getCustomerUsers=function(e,t,n){return this.http.get("/api/customer/"+e+"/users"+t.toQuery(),Object(a.b)(n))},e.prototype.getUser=function(e,t){return this.http.get("/api/user/"+e,Object(a.b)(t))},e.prototype.saveUser=function(e,t,n){void 0===t&&(t=!1);var i="/api/user";return i+="?sendActivationMail="+t,this.http.post(i,e,Object(a.b)(n))},e.prototype.deleteUser=function(e,t){return this.http.delete("/api/user/"+e,Object(a.b)(t))},e.prototype.getActivationLink=function(e,t){return this.http.get("/api/user/"+e+"/activationLink",Object(i.a)({responseType:"text"},Object(a.b)(t)))},e.prototype.sendActivationEmail=function(e,t){var n=encodeURIComponent(e);return this.http.post("/api/user/sendActivationMail?email="+n,null,Object(a.b)(t))},e.prototype.setUserCredentialsEnabled=function(e,t,n){var i="/api/user/"+e+"/userCredentialsEnabled";return Object(o.n)(t)&&(i+="?userCredentialsEnabled="+t),this.http.post(i,null,Object(a.b)(n))},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](s.b))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){r["\u0275setClassMetadata"](l,[{type:r.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:s.b}]}),null)}()},"9DSm":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r={bytes:0,KB:0,MB:1,GB:1,TB:2,PB:2},a=function(){function e(){this.units=["bytes","KB","MB","GB","TB","PB"]}return e.prototype.transform=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=r),isNaN(parseFloat(String(e)))||!isFinite(e))return"?";for(var n=0;e>=1024;)e/=1024,n++;var i=this.units[n];return"number"==typeof t?e.toFixed(+t)+" "+i:e.toFixed(t[i])+" "+i},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"fileSize",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Pipe,args:[{name:"fileSize"}]}],null,null)}()},"9n8L":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),r=n("Y8nr"),a=n("LRne"),o=n("lJxs"),s=n("tk/3"),l=function(){function e(e){this.http=e,this.componentsByType=new Map,this.componentsByClazz=new Map}return e.prototype.getComponentDescriptorsByType=function(e,t){var n=this,i=this.componentsByType.get(e);return i?Object(a.a)(i):this.http.get("/api/components/"+e,Object(r.b)(t)).pipe(Object(o.a)((function(t){return n.componentsByType.set(e,t),t.forEach((function(e){n.componentsByClazz.set(e.clazz,e)})),t})))},e.prototype.getComponentDescriptorsByTypes=function(e,t){for(var n=this,i=[],s=e.length-1;s>=0;s--){var l=e[s],c=this.componentsByType.get(l);c&&(i=i.concat(c),e.splice(s,1))}return e.length?this.http.get("/api/components?componentTypes="+e.join(","),Object(r.b)(t)).pipe(Object(o.a)((function(e){return e.forEach((function(e){var t=n.componentsByType.get(e.type);t||(t=new Array,n.componentsByType.set(e.type,t)),t.push(e),n.componentsByClazz.set(e.clazz,e)})),i=i.concat(e)}))):Object(a.a)(i)},e.prototype.getComponentDescriptorByClazz=function(e,t){var n=this,i=this.componentsByClazz.get(e);return i?Object(a.a)(i):this.http.get("/api/component/"+e,Object(r.b)(t)).pipe(Object(o.a)((function(t){return n.componentsByClazz.set(e,t),t})))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](l,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:s.b}]}),null)}()},AytR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={appTitle:"ThingsBoard",production:!0,tbVersion:"3.2.2",supportedLangs:["cs_CZ","de_DE","el_GR","en_US","es_ES","fa_IR","fr_FR","it_IT","ja_JA","ka_GE","ko_KR","lv_LV","pt_BR","ro_RO","ru_RU","sl_SI","tr_TR","uk_UA","zh_CN","zh_TW"],defaultLang:"en_US"}},B8ns:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var i=n("fXoL"),r=n("8LU1"),a=n("Zss7"),o=n("ofXK"),s=n("znSr"),l=function(e,t){return{width:e,height:t}},c=a,u=function(){function t(e){this.elementRef=e}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this.enabledValue},set:function(e){this.enabledValue=Object(r.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.offOpacity=this.offOpacity||.4,this.glowColor=c(this.colorOn).lighten().toHexString()},t.prototype.ngAfterViewInit=function(){this.update()},t.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];r.firstChange||r.currentValue===r.previousValue||("enabled"===i?this.draw():"size"===i&&this.update())}},t.prototype.update=function(){var t=this;this.size=this.size||50,this.canvasSize=this.size,this.radius=this.canvasSize/4,this.glowSize=this.radius/5,this.paper&&this.paper.remove(),n.e(52).then(n.t.bind(null,"RS8Z",7)).then((function(n){t.paper=n.default(e("#canvas_container",t.elementRef.nativeElement)[0],t.canvasSize,t.canvasSize);var i=t.canvasSize/2;t.circleElement=t.paper.circle(i,i,t.radius),t.draw()}))},t.prototype.draw=function(){this.enabled?(this.circleElement.attr("fill",this.colorOn),this.circleElement.attr("stroke",this.colorOn),this.circleElement.attr("opacity",1),this.circleElement.theGlow&&this.circleElement.theGlow.remove(),this.circleElement.theGlow=this.circleElement.glow({color:this.glowColor,width:this.radius+this.glowSize,opacity:.8,fill:!0})):(this.circleElement.theGlow&&this.circleElement.theGlow.remove(),this.circleElement.attr("fill",this.colorOff),this.circleElement.attr("stroke",this.colorOff),this.circleElement.attr("opacity",this.offOpacity))},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-led-light"]],inputs:{size:"size",colorOn:"colorOn",colorOff:"colorOff",offOpacity:"offOpacity",enabled:"enabled"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:4,consts:[["id","canvas_container",3,"ngStyle"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0),2&e&&i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction2"](1,l,t.size+"px",t.size+"px"))},directives:[o.NgStyle,s.e],encapsulation:2}),t}();!function(){i["\u0275setClassMetadata"](u,[{type:i.Component,args:[{selector:"tb-led-light",templateUrl:"./led-light.component.html",styleUrls:[]}]}],(function(){return[{type:i.ElementRef}]}),{size:[{type:i.Input}],colorOn:[{type:i.Input}],colorOff:[{type:i.Input}],offOpacity:[{type:i.Input}],enabled:[{type:i.Input}]})}()}).call(this,n("xexB"))},Bjlt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.saveRelation=function(e,t){return this.http.post("/api/relation",e,Object(r.b)(t))},e.prototype.deleteRelation=function(e,t,n,i){return this.http.delete("/api/relation?fromId="+e.id+"&fromType="+e.entityType+"&relationType="+t+"&toId="+n.id+"&toType="+n.entityType,Object(r.b)(i))},e.prototype.deleteRelations=function(e,t){return this.http.delete("/api/relations?entityId="+e.id+"&entityType="+e.entityType,Object(r.b)(t))},e.prototype.getRelation=function(e,t,n,i){return this.http.get("/api/relation?fromId="+e.id+"&fromType="+e.entityType+"&relationType="+t+"&toId="+n.id+"&toType="+n.entityType,Object(r.b)(i))},e.prototype.findByFrom=function(e,t){return this.http.get("/api/relations?fromId="+e.id+"&fromType="+e.entityType,Object(r.b)(t))},e.prototype.findInfoByFrom=function(e,t){return this.http.get("/api/relations/info?fromId="+e.id+"&fromType="+e.entityType,Object(r.b)(t))},e.prototype.findByFromAndType=function(e,t,n){return this.http.get("/api/relations?fromId="+e.id+"&fromType="+e.entityType+"&relationType="+t,Object(r.b)(n))},e.prototype.findByTo=function(e,t){return this.http.get("/api/relations?toId="+e.id+"&toType="+e.entityType,Object(r.b)(t))},e.prototype.findInfoByTo=function(e,t){return this.http.get("/api/relations/info?toId="+e.id+"&toType="+e.entityType,Object(r.b)(t))},e.prototype.findByToAndType=function(e,t,n){return this.http.get("/api/relations?toId="+e.id+"&toType="+e.entityType+"&relationType="+t,Object(r.b)(n))},e.prototype.findByQuery=function(e,t){return this.http.post("/api/relations",e,Object(r.b)(t))},e.prototype.findInfoByQuery=function(e,t){return this.http.post("/api/relations/info",e,Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},BnVf:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.CHANGE_LANGUAGE="[Settings] Change Language"}(i||(i={}));var r=function(e){this.payload=e,this.type=i.CHANGE_LANGUAGE}},BsGH:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),r=n("Y8nr"),a=n("LRne"),o=n("cp0P"),s=n("3Tyt"),l=n("//Q6"),c=n("aX2P"),u=n("tk/3"),p=function(){function e(e){this.http=e}return e.prototype.getEntityAttributes=function(e,t,n,i){var a="/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/values/attributes/"+t;return n&&n.length&&(a+="?keys="+n.join(",")),this.http.get(a,Object(r.b)(i))},e.prototype.deleteEntityAttributes=function(e,t,n,i){var a=n.map((function(e){return encodeURI(e.key)})).join(",");return this.http.delete("/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/"+t+"?keys="+a,Object(r.b)(i))},e.prototype.deleteEntityTimeseries=function(e,t,n,i){void 0===n&&(n=!1);var a=t.map((function(e){return encodeURI(e.key)})).join(",");return this.http.delete("/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/timeseries/delete?keys="+a+"&deleteAllDataForKeys="+n,Object(r.b)(i))},e.prototype.saveEntityAttributes=function(e,t,n,i){var s,c,u={},p=[];return n.forEach((function(e){Object(l.o)(e.value)?u[e.key]=e.value:p.push(e)})),s=p.length?this.deleteEntityAttributes(e,t,p,i):Object(a.a)(null),c=Object.keys(u).length?this.http.post("/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/"+t,u,Object(r.b)(i)):Object(a.a)(null),Object(o.a)([c,s])},e.prototype.saveEntityTimeseries=function(e,t,n,i){var s,c,u={},p=[];return n.forEach((function(e){Object(l.o)(e.value)?u[e.key]=e.value:p.push(e)})),s=p.length?this.deleteEntityTimeseries(e,p,!0,i):Object(a.a)(null),c=Object.keys(u).length?this.http.post("/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/timeseries/"+t,u,Object(r.b)(i)):Object(a.a)(null),Object(o.a)([c,s])},e.prototype.getEntityTimeseries=function(e,t,n,i,a,o,u,p,d,m){void 0===a&&(a=100),void 0===o&&(o=c.a.NONE),void 0===p&&(p=s.i.DESC),void 0===d&&(d=!1);var f="/api/plugins/telemetry/"+e.entityType+"/"+e.id+"/values/timeseries?keys="+t.join(",")+"&startTs="+n+"&endTs="+i;return Object(l.o)(a)&&(f+="&limit="+a),Object(l.o)(o)&&(f+="&agg="+o),Object(l.o)(u)&&(f+="&interval="+u),Object(l.o)(p)&&(f+="&orderBy="+p),Object(l.o)(d)&&(f+="&useStrictDataTypes="+d),this.http.get(f,Object(r.b)(m))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](u.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](p,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:u.b}]}),null)}()},Bwpe:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fXoL"),r=n("3Pt+"),a=n("k9IB"),o=n("8LU1"),s=n("XiUz"),l=n("znSr"),c=n("sYmb"),u=n("bSwM"),p=n("kmnG"),d=n("qFsG"),m=n("d3UM"),f=n("ofXK"),h=n("1jcm"),y=n("FKr1");function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",18),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n.value),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](2,2,n.name,n.translateParams)," ")}}var b=function(){function e(e){this.timeService=e,this.isEditValue=!1,this.hideFlagValue=!1,this.hideFlagChange=new i.EventEmitter,this.days=0,this.hours=0,this.mins=1,this.secs=0,this.intervalMs=0,this.advanced=!1,this.rendered=!1,this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"min",{set:function(e){void 0!==e&&e!==this.minValue&&(this.minValue=e,this.maxValue=Math.max(this.maxValue,this.minValue),this.updateView())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{set:function(e){void 0!==e&&e!==this.maxValue&&(this.maxValue=e,this.minValue=Math.min(this.minValue,this.maxValue),this.updateView())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEdit",{get:function(){return this.isEditValue},set:function(e){this.isEditValue=Object(o.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hideFlag",{get:function(){return this.hideFlagValue},set:function(e){this.hideFlagValue=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.boundInterval()},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){if(this.modelValue=e,this.rendered=!0,void 0!==this.modelValue){var t=this.timeService.boundMinInterval(this.minValue),n=this.timeService.boundMaxInterval(this.maxValue);this.modelValue>=t&&this.modelValue<=n?(this.advanced=!this.timeService.matchesExistingInterval(this.minValue,this.maxValue,this.modelValue),this.setIntervalMs(this.modelValue)):this.boundInterval()}},e.prototype.setIntervalMs=function(e){this.advanced||(this.intervalMs=e);var t=Math.floor(e/1e3);this.days=Math.floor(t/86400),this.hours=Math.floor(t%86400/3600),this.mins=Math.floor(t%86400%3600/60),this.secs=t%60},e.prototype.boundInterval=function(){var e=this.timeService.boundMinInterval(this.minValue),t=this.timeService.boundMaxInterval(this.maxValue);if(this.intervals=this.timeService.getIntervals(this.minValue,this.maxValue),this.rendered){var n=this.modelValue;n<e?n=e:n>t&&(n=t),this.advanced||(n=this.timeService.boundToPredefinedInterval(e,t,n)),n!==this.modelValue&&(this.setIntervalMs(n),this.updateView())}},e.prototype.updateView=function(){if(this.rendered){var e,t=null;this.advanced?e=this.calculateIntervalMs():(e=this.intervalMs)&&!isNaN(e)||(e=this.calculateIntervalMs()),!isNaN(e)&&e>0&&(t=e),this.modelValue=t,this.propagateChange(this.modelValue),this.boundInterval()}},e.prototype.calculateIntervalMs=function(){return 1e3*(86400*this.days+3600*this.hours+60*this.mins+this.secs)},e.prototype.onIntervalMsChange=function(){this.updateView()},e.prototype.onAdvancedChange=function(){if(this.advanced){var e=this.intervalMs;e&&!isNaN(e)||(e=this.calculateIntervalMs()),this.setIntervalMs(e)}else this.intervalMs=this.calculateIntervalMs();this.updateView()},e.prototype.onHideFlagChange=function(){this.hideFlagChange.emit(this.hideFlagValue)},e.prototype.onTimeInputChange=function(e){var t=this;switch(e){case"secs":setTimeout((function(){return t.onSecsChange()}),0);break;case"mins":setTimeout((function(){return t.onMinsChange()}),0);break;case"hours":setTimeout((function(){return t.onHoursChange()}),0);break;case"days":setTimeout((function(){return t.onDaysChange()}),0)}},e.prototype.onSecsChange=function(){void 0!==this.secs&&(this.secs<0?this.days+this.hours+this.mins>0?(this.secs=this.secs+60,this.mins--,this.onMinsChange()):this.secs=0:this.secs>=60&&(this.secs=this.secs-60,this.mins++,this.onMinsChange()),this.updateView())},e.prototype.onMinsChange=function(){void 0!==this.mins&&(this.mins<0?this.days+this.hours>0?(this.mins=this.mins+60,this.hours--,this.onHoursChange()):this.mins=0:this.mins>=60&&(this.mins=this.mins-60,this.hours++,this.onHoursChange()),this.updateView())},e.prototype.onHoursChange=function(){void 0!==this.hours&&(this.hours<0?this.days>0?(this.hours=this.hours+24,this.days--,this.onDaysChange()):this.hours=0:this.hours>=24&&(this.hours=this.hours-24,this.days++,this.onDaysChange()),this.updateView())},e.prototype.onDaysChange=function(){void 0!==this.days&&(this.days<0&&(this.days=0),this.updateView())},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-timeinterval"]],inputs:{min:"min",max:"max",predefinedName:"predefinedName",isEdit:"isEdit",hideFlag:"hideFlag",disabled:"disabled"},outputs:{hideFlagChange:"hideFlagChange"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:35,vars:20,consts:[["fxLayout","row"],["fxLayout","column",3,"fxShow"],["translate","",1,"tb-small","hide-label"],[3,"ngModel","ngModelChange"],["fxLayout","column","fxFlex","",1,"interval-section",3,"fxShow"],["translate","",1,"tb-small","interval-label"],["fxLayout","row wrap","fxLayoutAlign","start start","fxFlex","","fxLayoutGap","6px"],[1,"number-input"],["translate",""],["matInput","","type","number","step","1","min","0",3,"disabled","ngModel","ngModelChange"],["matInput","","type","number","step","1",3,"disabled","ngModel","ngModelChange"],["fxLayout","row","fxFlex","",1,"interval-section",3,"fxShow"],["fxFlex",""],[2,"min-width","150px",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",3,"fxShow"],["translate","",1,"tb-small","advanced-label"],[1,"advanced-switch",3,"disabled","ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"section",1),i["\u0275\u0275elementStart"](2,"label",2),i["\u0275\u0275text"](3,"timewindow.hide"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"mat-checkbox",3),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.hideFlag=e}))("ngModelChange",(function(){return t.onHideFlagChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"section",4),i["\u0275\u0275elementStart"](6,"label",5),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"section",6),i["\u0275\u0275elementStart"](9,"mat-form-field",7),i["\u0275\u0275elementStart"](10,"mat-label",8),i["\u0275\u0275text"](11,"timeinterval.days"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"input",9),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.days=e}))("ngModelChange",(function(){return t.onTimeInputChange("days")})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"mat-form-field",7),i["\u0275\u0275elementStart"](14,"mat-label",8),i["\u0275\u0275text"](15,"timeinterval.hours"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"input",10),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.hours=e}))("ngModelChange",(function(){return t.onTimeInputChange("hours")})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"mat-form-field",7),i["\u0275\u0275elementStart"](18,"mat-label",8),i["\u0275\u0275text"](19,"timeinterval.minutes"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"input",10),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.mins=e}))("ngModelChange",(function(){return t.onTimeInputChange("mins")})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"mat-form-field",7),i["\u0275\u0275elementStart"](22,"mat-label",8),i["\u0275\u0275text"](23,"timeinterval.seconds"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"input",10),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.secs=e}))("ngModelChange",(function(){return t.onTimeInputChange("secs")})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"section",11),i["\u0275\u0275elementStart"](26,"mat-form-field",12),i["\u0275\u0275elementStart"](27,"mat-label",8),i["\u0275\u0275text"](28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"mat-select",13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.intervalMs=e}))("ngModelChange",(function(){return t.onIntervalMsChange()})),i["\u0275\u0275template"](30,g,3,5,"mat-option",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"section",15),i["\u0275\u0275elementStart"](32,"label",16),i["\u0275\u0275text"](33,"timeinterval.advanced"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](34,"mat-slide-toggle",17),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.advanced=e}))("ngModelChange",(function(){return t.onAdvancedChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",t.isEdit),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.hideFlag),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",t.advanced&&(t.isEdit||!t.hideFlag)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.predefinedName),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("disabled",t.hideFlag||t.disabled)("ngModel",t.days),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",t.hideFlag||t.disabled)("ngModel",t.hours),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",t.hideFlag||t.disabled)("ngModel",t.mins),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",t.hideFlag||t.disabled)("ngModel",t.secs),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",!t.advanced&&(t.isEdit||!t.hideFlag)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.predefinedName),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",t.hideFlag||t.disabled)("ngModel",t.intervalMs),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.intervals),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",t.isEdit||!t.hideFlag),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",t.hideFlag||t.disabled)("ngModel",t.advanced))},directives:[s.f,l.d,c.TranslateDirective,u.MatCheckbox,r.NgControlStatus,r.NgModel,s.b,s.e,s.g,p.MatFormField,p.MatLabel,d.MatInput,r.NumberValueAccessor,r.DefaultValueAccessor,m.MatSelect,f.NgForOf,h.MatSlideToggle,y.MatOption],pipes:[c.TranslatePipe],styles:["[_nghost-%COMP%]{min-width:355px}[_nghost-%COMP%]   .advanced-switch[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .advanced-label[_ngcontent-%COMP%]{margin:5px 0}[_nghost-%COMP%]   .hide-label[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px}[_nghost-%COMP%]   .interval-section[_ngcontent-%COMP%]{min-height:66px}[_nghost-%COMP%]   .interval-section[_ngcontent-%COMP%]   .interval-label[_ngcontent-%COMP%]{margin-bottom:7px;margin-top:-1px}@media screen and (max-width:599px){[_nghost-%COMP%]{min-width:0;width:100%}}[_nghost-%COMP%]     .number-input .mat-form-field-infix{width:70px}"]}),e}();!function(){i["\u0275setClassMetadata"](b,[{type:i.Component,args:[{selector:"tb-timeinterval",templateUrl:"./timeinterval.component.html",styleUrls:["./timeinterval.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return b})),multi:!0}]}]}],(function(){return[{type:a.a}]}),{min:[{type:i.Input}],max:[{type:i.Input}],predefinedName:[{type:i.Input}],isEdit:[{type:i.Input}],hideFlag:[{type:i.Input}],hideFlagChange:[{type:i.Output}],disabled:[{type:i.Input}]})}()},"C/rb":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var i=n("l7P3"),r=n("IzEk"),a=Object(i.createFeatureSelector)("auth"),o=Object(i.createSelector)(a,(function(e){return e})),s=Object(i.createSelector)(a,(function(e){return e.isAuthenticated})),l=Object(i.createSelector)(a,(function(e){return e.isUserLoaded})),c=Object(i.createSelector)(a,(function(e){return e.authUser})),u=Object(i.createSelector)(a,(function(e){return e.userDetails}));Object(i.createSelector)(a,(function(e){return e.userTokenAccessEnabled}));function p(e){var t;return e.pipe(Object(i.select)(o),Object(r.a)(1)).subscribe((function(e){return t=e})),t}function d(e){var t;return e.pipe(Object(i.select)(c),Object(r.a)(1)).subscribe((function(e){return t=e})),t}},C4fA:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("mrSG"),r=n("fXoL"),a=n("Y8nr"),o=n("LRne"),s=n("cp0P"),l=n("8km5"),c=n("9n8L"),u=n("OCOE"),p=n("5+tZ"),d=n("lJxs"),m=n("JIr8"),f=n("U3y+"),h=n("//Q6"),y=n("tk/3"),g=n("sYmb"),b=function(){function e(e,t,n,i){this.http=e,this.componentDescriptorService=t,this.resourcesService=n,this.translate=i,this.ruleNodeConfigFactories={}}return e.prototype.getRuleChains=function(e,t){return this.http.get("/api/ruleChains"+e.toQuery(),Object(a.b)(t))},e.prototype.getRuleChain=function(e,t){return this.http.get("/api/ruleChain/"+e,Object(a.b)(t))},e.prototype.createDefaultRuleChain=function(e,t){return this.http.post("/api/ruleChain/device/default",{name:e},Object(a.b)(t))},e.prototype.saveRuleChain=function(e,t){return this.http.post("/api/ruleChain",e,Object(a.b)(t))},e.prototype.deleteRuleChain=function(e,t){return this.http.delete("/api/ruleChain/"+e,Object(a.b)(t))},e.prototype.setRootRuleChain=function(e,t){return this.http.post("/api/ruleChain/"+e+"/root",null,Object(a.b)(t))},e.prototype.getRuleChainMetadata=function(e,t){return this.http.get("/api/ruleChain/"+e+"/metadata",Object(a.b)(t))},e.prototype.getResolvedRuleChainMetadata=function(e,t){var n=this;return this.getRuleChainMetadata(e,t).pipe(Object(p.b)((function(e){return n.resolveRuleChainMetadata(e)})))},e.prototype.saveRuleChainMetadata=function(e,t){return this.http.post("/api/ruleChain/metadata",e,Object(a.b)(t))},e.prototype.saveAndGetResolvedRuleChainMetadata=function(e,t){var n=this;return this.saveRuleChainMetadata(e,t).pipe(Object(p.b)((function(e){return n.resolveRuleChainMetadata(e)})))},e.prototype.resolveRuleChainMetadata=function(e){return this.resolveTargetRuleChains(e.ruleChainConnections).pipe(Object(d.a)((function(t){return Object(i.a)(Object(i.a)({},e),{targetRuleChainsMap:t})})))},e.prototype.getRuleNodeComponents=function(e,t){var n=this;return this.ruleNodeComponents?Object(o.a)(this.ruleNodeComponents):this.loadRuleNodeComponents(t).pipe(Object(p.b)((function(t){return n.resolveRuleNodeComponentsUiResources(t,e).pipe(Object(d.a)((function(e){return n.ruleNodeComponents=e,n.ruleNodeComponents.push(l.b),n.ruleNodeComponents.sort((function(e,t){var n=e.type.toString().localeCompare(t.type.toString());return 0===n&&(n=e.name.localeCompare(t.name)),n})),n.ruleNodeComponents})))})))},e.prototype.getRuleNodeConfigFactory=function(e){return this.ruleNodeConfigFactories[e]},e.prototype.getRuleNodeComponentByClazz=function(e){var t=this.ruleNodeComponents.filter((function(t){return t.clazz===e}));if(t&&t.length)return t[0];var n=Object(h.e)(l.d);return n.clazz=e,n.configurationDescriptor.nodeDefinition.details="Unknown Rule Node class: "+e,n},e.prototype.getRuleNodeSupportedLinks=function(e){var t=e.configurationDescriptor.nodeDefinition.relationTypes,n={};return t.forEach((function(e){n[e]={name:e,value:e}})),n},e.prototype.ruleNodeAllowCustomLinks=function(e){return e.configurationDescriptor.nodeDefinition.customRelations},e.prototype.getLatestRuleNodeDebugInput=function(e,t){return this.http.get("/api/ruleNode/"+e+"/debugIn",Object(a.b)(t))},e.prototype.testScript=function(e,t){return this.http.post("/api/ruleChain/testScript",e,Object(a.b)(t))},e.prototype.resolveTargetRuleChains=function(e){var t=this;if(e&&e.length){var n=[];return e.forEach((function(e){n.push(t.resolveRuleChain(e.targetRuleChainId.id))})),Object(s.a)(n).pipe(Object(d.a)((function(e){var t={};return e.forEach((function(e){t[e.id.id]=e})),t})))}return Object(o.a)({})},e.prototype.loadRuleNodeComponents=function(e){return this.componentDescriptorService.getComponentDescriptorsByTypes(l.c,e).pipe(Object(d.a)((function(e){var t=[];return e.forEach((function(e){t.push(e)})),t})))},e.prototype.resolveRuleNodeComponentsUiResources=function(e,t){var n=this,i=[];return e.forEach((function(e){i.push(n.resolveRuleNodeComponentUiResources(e,t))})),Object(s.a)(i).pipe(Object(m.a)((function(t){return Object(o.a)(e)})))},e.prototype.resolveRuleNodeComponentUiResources=function(e,t){var n=this,i=e.configurationDescriptor.nodeDefinition,r=i.uiResources;if(r&&r.length){var a=r.filter((function(e){return!e.endsWith(".js")})),l=r.find((function(e){return e.endsWith(".js")})),c=[];return a&&a.length&&a.forEach((function(e){c.push(n.resourcesService.loadResource(e))})),l&&c.push(this.resourcesService.loadFactories(l,t).pipe(Object(d.a)((function(t){if(i.configDirective&&i.configDirective.length){var r=Object(h.I)(i.configDirective,"-"),a=t.find((function(e){return e.selector===r}));a?n.ruleNodeConfigFactories[i.configDirective]=a:e.configurationDescriptor.nodeDefinition.uiResourceLoadError=n.translate.instant("rulenode.directive-is-not-loaded",{directiveName:i.configDirective})}return Object(o.a)(e)})))),Object(s.a)(c).pipe(Object(d.a)((function(t){return e})),Object(m.a)((function(){return e.configurationDescriptor.nodeDefinition.uiResourceLoadError=n.translate.instant("rulenode.ui-resources-load-error"),Object(o.a)(e)})))}return Object(o.a)(e)},e.prototype.resolveRuleChain=function(e){return this.getRuleChain(e,{ignoreErrors:!0}).pipe(Object(d.a)((function(e){return e})),Object(m.a)((function(t){var n={id:{entityType:f.b.RULE_CHAIN,id:e}};return Object(o.a)(n)})))},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](y.b),r["\u0275\u0275inject"](c.a),r["\u0275\u0275inject"](u.a),r["\u0275\u0275inject"](g.TranslateService))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){r["\u0275setClassMetadata"](b,[{type:r.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:y.b},{type:c.a},{type:u.a},{type:g.TranslateService}]}),null)}()},C60G:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("mrSG"),r=function(e){function t(t,n){var i=e.call(this,{fromObject:n})||this;return i.interceptorConfig=t,i}return Object(i.d)(t,e),t}(n("tk/3").f)},DaoB:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),r=n("Y8nr"),a=n("jtHE"),o=n("Vurf"),s=n("tk/3"),l=function(){function e(e){this.http=e}return e.prototype.getTenantDeviceInfos=function(e,t,n){return void 0===t&&(t=""),this.http.get("/api/tenant/deviceInfos"+e.toQuery()+"&type="+t,Object(r.b)(n))},e.prototype.getTenantDeviceInfosByDeviceProfileId=function(e,t,n){return void 0===t&&(t=""),this.http.get("/api/tenant/deviceInfos"+e.toQuery()+"&deviceProfileId="+t,Object(r.b)(n))},e.prototype.getCustomerDeviceInfos=function(e,t,n,i){return void 0===n&&(n=""),this.http.get("/api/customer/"+e+"/deviceInfos"+t.toQuery()+"&type="+n,Object(r.b)(i))},e.prototype.getCustomerDeviceInfosByDeviceProfileId=function(e,t,n,i){return void 0===n&&(n=""),this.http.get("/api/customer/"+e+"/deviceInfos"+t.toQuery()+"&deviceProfileId="+n,Object(r.b)(i))},e.prototype.getDevice=function(e,t){return this.http.get("/api/device/"+e,Object(r.b)(t))},e.prototype.getDevices=function(e,t){return this.http.get("/api/devices?deviceIds="+e.join(","),Object(r.b)(t))},e.prototype.getDeviceInfo=function(e,t){return this.http.get("/api/device/info/"+e,Object(r.b)(t))},e.prototype.saveDevice=function(e,t){return this.http.post("/api/device",e,Object(r.b)(t))},e.prototype.deleteDevice=function(e,t){return this.http.delete("/api/device/"+e,Object(r.b)(t))},e.prototype.getDeviceTypes=function(e){return this.http.get("/api/device/types",Object(r.b)(e))},e.prototype.getDeviceCredentials=function(e,t,n){void 0===t&&(t=!1);var i="/api/device/"+e+"/credentials";if(t){var s=new a.a,l=new XMLHttpRequest;l.open("GET",i,!1),l.setRequestHeader("Accept","application/json, text/plain, */*");var c=o.a.getJwtToken();if(c&&l.setRequestHeader("X-Authorization","Bearer "+c),l.send(null),200===l.status){var u=JSON.parse(l.responseText);s.next(u)}else s.error(null);return s.asObservable()}return this.http.get(i,Object(r.b)(n))},e.prototype.saveDeviceCredentials=function(e,t){return this.http.post("/api/device/credentials",e,Object(r.b)(t))},e.prototype.makeDevicePublic=function(e,t){return this.http.post("/api/customer/public/device/"+e,null,Object(r.b)(t))},e.prototype.assignDeviceToCustomer=function(e,t,n){return this.http.post("/api/customer/"+e+"/device/"+t,null,Object(r.b)(n))},e.prototype.unassignDeviceFromCustomer=function(e,t){return this.http.delete("/api/customer/device/"+e,Object(r.b)(t))},e.prototype.sendOneWayRpcCommand=function(e,t,n){return this.http.post("/api/plugins/rpc/oneway/"+e,t,Object(r.b)(n))},e.prototype.sendTwoWayRpcCommand=function(e,t,n){return this.http.post("/api/plugins/rpc/twoway/"+e,t,Object(r.b)(n))},e.prototype.findByQuery=function(e,t){return this.http.post("/api/devices",e,Object(r.b)(t))},e.prototype.findByName=function(e,t){return this.http.get("/api/tenant/devices?deviceName="+e,Object(r.b)(t))},e.prototype.claimDevice=function(e,t,n){return this.http.post("/api/customer/device/"+e+"/claim",t,Object(r.b)(n))},e.prototype.unclaimDevice=function(e,t){return this.http.delete("/api/customer/device/"+e+"/claim",Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](l,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:s.b}]}),null)}()},Duvn:function(e,t,n){"use strict";function i(){return{data:[],totalPages:0,totalElements:0,hasNext:!1}}n.d(t,"a",(function(){return i}))},E9wx:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("8LU1"),s=n("xKAQ"),l=n("he9t"),c=n("nhHW"),u=n("//Q6"),p=n("HR/i"),d=n("jCow"),m=n("Uj2l"),f=n("l7P3"),h=n("8m5z"),y=n("XiUz"),g=n("ofXK"),b=n("znSr"),v=n("Qu3c"),C=n("bTqV"),E=n("NFeN"),T=n("rezs"),S=n("sYmb"),w=["jsonEditor"];function M(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",12),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().beautifyJSON()})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"js-func.tidy")," "))}function O(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",12),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().minifyJSON()})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"js-func.mini")," "))}var I=function(e){return{"fill-height":e}},x=function(e){return{"tb-error":e}},j=function(){function e(e,t,n){this.elementRef=e,this.store=t,this.raf=n,this.ignoreChange=!1,this.toastTargetId="jsonContentEditor-"+Object(u.k)(),this.fullscreen=!1,this.errorShowed=!1,this.propagateChange=null}return Object.defineProperty(e.prototype,"readonly",{get:function(){return this.readonlyValue},set:function(e){this.readonlyValue=Object(o.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validateContent",{get:function(){return this.validateContentValue},set:function(e){this.validateContentValue=Object(o.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validateOnChange",{get:function(){return this.validateOnChangeValue},set:function(e){this.validateOnChangeValue=Object(o.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this,t=this.jsonEditorElmRef.nativeElement,n="text";this.contentType&&(n=l.g.get(this.contentType).code);var r={mode:"ace/mode/"+n,showGutter:!0,showPrintMargin:!1,readOnly:this.disabled||this.readonly};r=Object(i.a)(Object(i.a)({},r),{enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),Object(d.b)().subscribe((function(n){e.jsonEditor=n.edit(t,r),e.jsonEditor.session.setUseWrapMode(!0),e.jsonEditor.setValue(e.contentBody?e.contentBody:"",-1),e.jsonEditor.setReadOnly(e.disabled||e.readonly),e.jsonEditor.on("change",(function(){e.ignoreChange||(e.cleanupJsonErrors(),e.updateView())})),e.jsonEditor.on("blur",(function(){e.contentValid=!e.validateContent||e.doValidate(!0)})),e.editorResize$=new p.a((function(){e.onAceEditorResize()})),e.editorResize$.observe(t)}))},e.prototype.ngOnDestroy=function(){this.editorResize$&&this.editorResize$.disconnect()},e.prototype.onAceEditorResize=function(){var e=this;this.editorsResizeCaf&&(this.editorsResizeCaf(),this.editorsResizeCaf=null),this.editorsResizeCaf=this.raf.raf((function(){e.jsonEditor.resize(),e.jsonEditor.renderer.updateFull()}))},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];if(!r.firstChange&&r.currentValue!==r.previousValue&&"contentType"===i&&this.jsonEditor){var a="text";this.contentType&&(a=l.g.get(this.contentType).code),this.jsonEditor.session.setMode("ace/mode/"+a)}}},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e,this.jsonEditor&&this.jsonEditor.setReadOnly(this.disabled||this.readonly)},e.prototype.validate=function(e){return this.contentValid?null:{contentBody:{valid:!1}}},e.prototype.validateOnSubmit=function(){this.disabled||this.readonly||(this.cleanupJsonErrors(),this.contentValid=!0,this.propagateChange(this.contentBody),this.contentValid=this.doValidate(!0),this.propagateChange(this.contentBody))},e.prototype.doValidate=function(e){void 0===e&&(e=!1);try{return this.validateContent&&this.contentType===l.b.JSON&&JSON.parse(this.contentBody),!0}catch(n){if(e){var t="Error:";n.name&&(t+=" "+n.name+":"),n.message&&(t+=" "+n.message),this.store.dispatch(new s.b({message:t,type:"error",target:this.toastTargetId,verticalPosition:"bottom",horizontalPosition:"left"})),this.errorShowed=!0}return!1}},e.prototype.cleanupJsonErrors=function(){this.errorShowed&&(this.store.dispatch(new s.a({target:this.toastTargetId})),this.errorShowed=!1)},e.prototype.writeValue=function(e){this.contentBody=e,this.contentValid=!0,this.jsonEditor&&(this.ignoreChange=!0,this.jsonEditor.setValue(this.contentBody?this.contentBody:"",-1),this.ignoreChange=!1)},e.prototype.updateView=function(){var e=this.jsonEditor.getValue();this.contentBody!==e&&(this.contentBody=e,this.contentValid=!this.validateOnChange||this.doValidate(),this.propagateChange(this.contentBody))},e.prototype.beautifyJSON=function(){var e=this;Object(m.c)(this.contentBody,{indent_size:4,wrap_line_length:60}).subscribe((function(t){e.jsonEditor.setValue(t||"",-1),e.updateView()}))},e.prototype.minifyJSON=function(){var e=JSON.stringify(this.contentBody);this.jsonEditor.setValue(e||"",-1),this.updateView()},e.prototype.onFullscreen=function(){var e=this;this.jsonEditor&&setTimeout((function(){e.jsonEditor.resize()}),0)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](f.Store),r["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-json-content"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275staticViewQuery"](w,!0),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.jsonEditorElmRef=n.first))},inputs:{label:"label",contentType:"contentType",disabled:"disabled",fillHeight:"fillHeight",editorStyle:"editorStyle",readonly:"readonly",validateContent:"validateContent",validateOnChange:"validateOnChange"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}]),r["\u0275\u0275NgOnChangesFeature"]],decls:16,vars:19,consts:[["tb-fullscreen","","fxLayout","column",2,"background","#fff",3,"ngClass","fullscreen","fullscreenChanged"],["fxLayout","row","fxLayoutAlign","start center",1,"tb-json-content-toolbar",2,"height","40px"],[1,"tb-title","no-padding",3,"ngClass"],["fxFlex",""],["type","button","mat-button","","class","tidy",3,"click",4,"ngIf"],[2,"width","initial"],["matTooltipPosition","above",2,"border-radius","50%",3,"matTooltip","click"],["type","button","mat-button","","mat-icon-button","",1,"tb-mat-32"],[1,"material-icons"],["id","tb-json-panel","tb-toast","","fxLayout","column",1,"tb-json-content-panel",3,"toastTarget"],["id","tb-json-input",3,"ngStyle","ngClass"],["jsonEditor",""],["type","button","mat-button","",1,"tidy",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275listener"]("fullscreenChanged",(function(){return t.onFullscreen()})),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"label",2),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"span",3),r["\u0275\u0275template"](5,M,3,3,"button",4),r["\u0275\u0275template"](6,O,3,3,"button",4),r["\u0275\u0275elementStart"](7,"fieldset",5),r["\u0275\u0275elementStart"](8,"div",6),r["\u0275\u0275listener"]("click",(function(){return t.fullscreen=!t.fullscreen})),r["\u0275\u0275pipe"](9,"translate"),r["\u0275\u0275elementStart"](10,"button",7),r["\u0275\u0275elementStart"](11,"mat-icon",8),r["\u0275\u0275text"](12),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",9),r["\u0275\u0275element"](14,"div",10,11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](13,I,t.fillHeight))("fullscreen",t.fullscreen),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](15,x,!t.contentValid)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.label),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.readonly&&!t.disabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.readonly&&!t.disabled),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](9,11,t.fullscreen?"fullscreen.exit":"fullscreen.expand")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](t.fullscreen?"fullscreen_exit":"fullscreen"),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("toastTarget",t.toastTargetId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngStyle",t.editorStyle)("ngClass",r["\u0275\u0275pureFunction1"](17,I,t.fillHeight)))},directives:[h.a,y.f,g.NgClass,b.b,y.e,y.b,g.NgIf,v.MatTooltip,C.MatButton,E.MatIcon,T.b,g.NgStyle,b.e],pipes:[S.TranslatePipe],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   .fill-height[_ngcontent-%COMP%]{height:100%}.tb-json-content-toolbar[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%], .tb-json-content-toolbar[_ngcontent-%COMP%]   button.mat-icon-button[_ngcontent-%COMP%], .tb-json-content-toolbar[_ngcontent-%COMP%]   button.mat-icon-button.tb-mat-32[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center;vertical-align:middle;min-width:32px;min-height:15px;padding:4px;margin:0;font-size:.8rem;line-height:15px;color:#7b7b7b;background:hsla(0,0%,86.3%,.35)}.tb-json-content-toolbar[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]:not(:last-child), .tb-json-content-toolbar[_ngcontent-%COMP%]   button.mat-icon-button.tb-mat-32[_ngcontent-%COMP%]:not(:last-child), .tb-json-content-toolbar[_ngcontent-%COMP%]   button.mat-icon-button[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}.tb-json-content-panel[_ngcontent-%COMP%]{height:100%;margin-left:15px;border:1px solid silver}.tb-json-content-panel[_ngcontent-%COMP%]   #tb-json-input[_ngcontent-%COMP%]{width:100%;min-width:200px;height:100%}.tb-json-content-panel[_ngcontent-%COMP%]   #tb-json-input[_ngcontent-%COMP%]:not(.fill-height){min-height:200px}"]}),e}();!function(){r["\u0275setClassMetadata"](j,[{type:r.Component,args:[{selector:"tb-json-content",templateUrl:"./json-content.component.html",styleUrls:["./json-content.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return j})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return j})),multi:!0}]}]}],(function(){return[{type:r.ElementRef},{type:f.Store},{type:c.a}]}),{jsonEditorElmRef:[{type:r.ViewChild,args:["jsonEditor",{static:!0}]}],label:[{type:r.Input}],contentType:[{type:r.Input}],disabled:[{type:r.Input}],fillHeight:[{type:r.Input}],editorStyle:[{type:r.Input}],readonly:[{type:r.Input}],validateContent:[{type:r.Input}],validateOnChange:[{type:r.Input}]})}()},EP1h:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){function e(){}return e.loadInitialState=function(){return Object.keys(localStorage).reduce((function(e,t){if(t.includes("TB-")){var n=t.replace("TB-","").toLowerCase().split(".").map((function(e){return e.split("-").map((function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})).join("")})),i=e;n.forEach((function(e,r){if(r===n.length-1)return i[e]=JSON.parse(localStorage.getItem(t)),void 0;i[e]=i[e]||{},i=i[e]}))}return e}),{})},e.prototype.setItem=function(e,t){localStorage.setItem("TB-"+e,JSON.stringify(t))},e.prototype.getItem=function(e){return JSON.parse(localStorage.getItem("TB-"+e))},e.prototype.removeItem=function(e){localStorage.removeItem("TB-"+e)},e.prototype.testLocalStorage=function(){var e;if(this.setItem("testKey","testValue"),e=this.getItem("testKey"),this.removeItem("testKey"),"testValue"!==e)throw new Error("localStorage did not return expected value")},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](r,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null)}()},EbnC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("wtyh"),a=function(){function e(e){this.window=e}return e.prototype.transform=function(e){if(e){var t=e.split("-"),n=/Mac OS X/.test(this.window.navigator.userAgent),i=!n||t.length>2?"+":"",r={M:n?"\u2318":"Ctrl",A:n?"Option":"Alt",S:"Shift"};return t.map((function(e,n){return n===t.length-1?e:r[e]})).join(i)}},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.b))},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"keyboardShortcut",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Pipe,args:[{name:"keyboardShortcut"}]}],(function(){return[{type:Window,decorators:[{type:i.Inject,args:[r.b]}]}]}),null)}()},EdYI:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("vkgz"),s=n("pLZG"),l=n("lJxs"),c=n("5+tZ"),u=n("w1tV"),p=(n("U3y+"),n("21Fy")),d=n("8LU1"),m=n("l7P3"),f=n("sYmb"),h=n("kmnG"),y=n("A5z7"),g=n("ofXK"),b=n("qFsG"),v=n("/1cH"),C=n("NFeN"),E=n("FKr1"),T=n("d5eY"),S=["entityInput"],w=["entityAutocomplete"],M=["chipList"];function O(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",13),r["\u0275\u0275text"](1,"close"),r["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-chip",11),r["\u0275\u0275listener"]("removed",(function(){r["\u0275\u0275restoreView"](n);var e=t.$implicit;return r["\u0275\u0275nextContext"]().remove(e)})),r["\u0275\u0275text"](1),r["\u0275\u0275template"](2,O,2,0,"mat-icon",12),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("selectable",!a.disabled)("removable",!a.disabled),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i.name," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!a.disabled)}}function x(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",14),r["\u0275\u0275element"](1,"span",15),r["\u0275\u0275pipe"](2,"highlight"),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("innerHTML",r["\u0275\u0275pipeBind2"](2,2,n.name,i.searchText),r["\u0275\u0275sanitizeHtml"])}}var j=function(e){return{entity:e}};function A(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",14),r["\u0275\u0275elementStart"](1,"span"),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",null),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](3,2,n.translate.get("entity.no-entities-matching",r["\u0275\u0275pureFunction1"](4,j,n.searchText)))," ")}}function R(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"entity.entity-list-empty")," "))}var N=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.entityService=n,this.fb=i,this.entities=[],this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.entityListFormGroup=this.fb.group({entities:[this.entities,this.required?[a.Validators.required]:[]],entity:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){var t=Object(d.coerceBooleanProperty)(e);this.requiredValue!==t&&(this.requiredValue=t,this.updateValidators())},enumerable:!1,configurable:!0}),e.prototype.updateValidators=function(){this.entityListFormGroup.get("entities").setValidators(this.required?[a.Validators.required]:[]),this.entityListFormGroup.get("entities").updateValueAndValidity()},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredEntities=this.entityListFormGroup.get("entity").valueChanges.pipe(Object(o.a)((function(t){t&&"string"!=typeof t?e.add(t):null===t&&e.clear(e.entityInput.nativeElement.value)})),Object(s.a)((function(e){return"string"==typeof e})),Object(l.a)((function(e){return e?"string"==typeof e?e:e.name:""})),Object(c.b)((function(t){return e.fetchEntities(t)})),Object(u.a)())},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];r.firstChange||r.currentValue===r.previousValue||"entityType"===i&&this.reset()}},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,e?this.entityListFormGroup.disable({emitEvent:!1}):this.entityListFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){var t=this;this.searchText="",null!=e&&e.length>0?(this.modelValue=Object(i.g)(e),this.entityService.getEntities(this.entityType,e).subscribe((function(e){t.entities=e,t.entityListFormGroup.get("entities").setValue(t.entities)}))):(this.entities=[],this.entityListFormGroup.get("entities").setValue(this.entities),this.modelValue=null),this.dirty=!0},e.prototype.reset=function(){this.entities=[],this.entityListFormGroup.get("entities").setValue(this.entities),this.modelValue=null,this.entityInput&&(this.entityInput.nativeElement.value=""),this.entityListFormGroup.get("entity").patchValue("",{emitEvent:!1}),this.propagateChange(this.modelValue),this.dirty=!0},e.prototype.add=function(e){this.modelValue&&-1!==this.modelValue.indexOf(e.id.id)||(this.modelValue||(this.modelValue=[]),this.modelValue.push(e.id.id),this.entities.push(e),this.entityListFormGroup.get("entities").setValue(this.entities)),this.propagateChange(this.modelValue),this.clear()},e.prototype.remove=function(e){var t=this.entities.indexOf(e);t>=0&&(this.entities.splice(t,1),this.entityListFormGroup.get("entities").setValue(this.entities),t=this.modelValue.indexOf(e.id.id),this.modelValue.splice(t,1),this.modelValue.length||(this.modelValue=null),this.propagateChange(this.modelValue),this.clear())},e.prototype.displayEntityFn=function(e){return e?e.name:void 0},e.prototype.fetchEntities=function(e){return this.searchText=e,this.entityService.getEntitiesByNameFilter(this.entityType,e,50,"",{ignoreLoading:!0}).pipe(Object(l.a)((function(e){return e||[]})))},e.prototype.onFocus=function(){this.dirty&&(this.entityListFormGroup.get("entity").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.clear=function(e){var t=this;void 0===e&&(e=""),this.entityInput.nativeElement.value=e,this.entityListFormGroup.get("entity").patchValue(e,{emitEvent:!0}),setTimeout((function(){t.entityInput.nativeElement.blur(),t.entityInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](m.Store),r["\u0275\u0275directiveInject"](f.TranslateService),r["\u0275\u0275directiveInject"](p.a),r["\u0275\u0275directiveInject"](a.FormBuilder))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-list"]],viewQuery:function(e,t){var n;(1&e&&(r["\u0275\u0275viewQuery"](S,!0),r["\u0275\u0275viewQuery"](w,!0),r["\u0275\u0275staticViewQuery"](M,!0)),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.entityInput=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.matAutocomplete=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.chipList=n.first))},inputs:{entityType:"entityType",required:"required",disabled:"disabled"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}]),r["\u0275\u0275NgOnChangesFeature"]],decls:15,vars:16,consts:[["appearance","standard",1,"mat-block",3,"formGroup"],["formControlName","entities"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","entity","matAutocompleteOrigin","",2,"max-width","200px",3,"placeholder","matAutocompleteConnectedTo","matAutocomplete","matChipInputFor","focusin"],["entityInput","","origin","matAutocompleteOrigin"],[1,"tb-autocomplete",3,"displayWith"],["entityAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[4,"ngIf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"mat-chip-list",1,2),r["\u0275\u0275template"](3,I,3,4,"mat-chip",3),r["\u0275\u0275elementStart"](4,"input",4,5),r["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),r["\u0275\u0275pipe"](7,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"mat-autocomplete",6,7),r["\u0275\u0275template"](10,x,3,5,"mat-option",8),r["\u0275\u0275pipe"](11,"async"),r["\u0275\u0275template"](12,A,4,6,"mat-option",9),r["\u0275\u0275pipe"](13,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](14,R,3,3,"mat-error",10),r["\u0275\u0275elementEnd"]()),2&e){var n,i=r["\u0275\u0275reference"](2),a=r["\u0275\u0275reference"](6),o=r["\u0275\u0275reference"](9);r["\u0275\u0275property"]("formGroup",t.entityListFormGroup),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",t.entities),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("placeholder",t.disabled?"":r["\u0275\u0275pipeBind1"](7,10,"entity.entity-list")),r["\u0275\u0275property"]("matAutocompleteConnectedTo",a)("matAutocomplete",o)("matChipInputFor",i),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("displayWith",t.displayEntityFn),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](11,12,t.filteredEntities)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!(null!=(n=r["\u0275\u0275pipeBind1"](13,14,t.filteredEntities))&&n.length)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.entityListFormGroup.get("entities").hasError("required"))}},directives:[h.MatFormField,a.NgControlStatusGroup,a.FormGroupDirective,y.MatChipList,a.NgControlStatus,a.FormControlName,g.NgForOf,b.MatInput,a.DefaultValueAccessor,v.MatAutocompleteTrigger,y.MatChipInput,v.MatAutocompleteOrigin,v.MatAutocomplete,g.NgIf,y.MatChip,C.MatIcon,y.MatChipRemove,E.MatOption,h.MatError],pipes:[f.TranslatePipe,g.AsyncPipe,T.a],styles:["[_nghost-%COMP%]     .mat-form-field .mat-form-field-infix{border-top:none}"]}),e}();!function(){r["\u0275setClassMetadata"](N,[{type:r.Component,args:[{selector:"tb-entity-list",templateUrl:"./entity-list.component.html",styleUrls:["./entity-list.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return N})),multi:!0}]}]}],(function(){return[{type:m.Store},{type:f.TranslateService},{type:p.a},{type:a.FormBuilder}]}),{entityType:[{type:r.Input}],required:[{type:r.Input}],disabled:[{type:r.Input}],entityInput:[{type:r.ViewChild,args:["entityInput"]}],matAutocomplete:[{type:r.ViewChild,args:["entityAutocomplete"]}],chipList:[{type:r.ViewChild,args:["chipList",{static:!0}]}]})}()},FEiE:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("RxGS"),s=n("l7P3"),l=n("XiUz"),c=n("sYmb"),u=n("ofXK"),p=n("znSr"),d=n("bTqV"),m=n("Qu3c"),f=n("kmnG"),h=n("qFsG"),y=n("NFeN");function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",6),r["\u0275\u0275elementStart"](1,"mat-form-field",7),r["\u0275\u0275element"](2,"mat-label"),r["\u0275\u0275element"](3,"input",8),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-form-field",7),r["\u0275\u0275element"](6,"mat-label"),r["\u0275\u0275element"](7,"input",8),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"button",9),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](n);var e=t.index;return r["\u0275\u0275nextContext"]().removeKeyVal(e)})),r["\u0275\u0275pipe"](10,"async"),r["\u0275\u0275pipe"](11,"translate"),r["\u0275\u0275elementStart"](12,"mat-icon"),r["\u0275\u0275text"](13,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](4,7,a.keyPlaceholderText?a.keyPlaceholderText:"key-val.key")),r["\u0275\u0275property"]("formControl",i.get("key")),r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate"]("placeholder",r["\u0275\u0275pipeBind1"](8,9,a.valuePlaceholderText?a.valuePlaceholderText:"key-val.value")),r["\u0275\u0275property"]("formControl",i.get("value")),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](11,13,"key-val.remove-entry")),r["\u0275\u0275property"]("fxShow",!a.disabled)("disabled",r["\u0275\u0275pipeBind1"](10,11,a.isLoading$))}}var b=function(e){return{disabled:e}},v=function(e){function t(t,n){var i=e.call(this,t)||this;return i.store=t,i.fb=n,i.propagateChange=null,i.valueChangeSubscription=null,i}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){this.kvListFormGroup=this.fb.group({}),this.kvListFormGroup.addControl("keyVals",this.fb.array([]))},t.prototype.keyValsFormArray=function(){return this.kvListFormGroup.get("keyVals")},t.prototype.registerOnChange=function(e){this.propagateChange=e},t.prototype.registerOnTouched=function(e){},t.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.kvListFormGroup.disable({emitEvent:!1}):this.kvListFormGroup.enable({emitEvent:!1})},t.prototype.writeValue=function(e){var t=this;this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe();var n=[];if(e)for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i];Object.prototype.hasOwnProperty.call(e,o)&&n.push(this.fb.group({key:[o,[a.Validators.required]],value:[e[o],[a.Validators.required]]}))}this.kvListFormGroup.setControl("keyVals",this.fb.array(n)),this.valueChangeSubscription=this.kvListFormGroup.valueChanges.subscribe((function(){t.updateModel()})),this.disabled?this.kvListFormGroup.disable({emitEvent:!1}):this.kvListFormGroup.enable({emitEvent:!1})},t.prototype.removeKeyVal=function(e){this.kvListFormGroup.get("keyVals").removeAt(e)},t.prototype.addKeyVal=function(){this.kvListFormGroup.get("keyVals").push(this.fb.group({key:["",[a.Validators.required]],value:["",[a.Validators.required]]}))},t.prototype.validate=function(e){for(var t=!0,n=0,i=this.kvListFormGroup.get("keyVals").value;n<i.length;n++){var r=i[n];if(!r.key||!r.value){t=!1;break}}return t?null:{keyVals:{valid:!1}}},t.prototype.updateModel=function(){var e=this.kvListFormGroup.get("keyVals").value,t={};e.forEach((function(e){t[e.key]=e.value})),this.propagateChange(t)},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](s.Store),r["\u0275\u0275directiveInject"](a.FormBuilder))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-key-val-map"]],inputs:{disabled:"disabled",titleText:"titleText",keyPlaceholderText:"keyPlaceholderText",valuePlaceholderText:"valuePlaceholderText",noDataText:"noDataText"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return t})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return t})),multi:!0}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:12,vars:18,consts:[["fxLayout","column",1,"tb-kv-map",3,"formGroup"],["translate","",1,"tb-title","no-padding"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","style","max-height: 40px;","formArrayName","keyVals",4,"ngFor","ngForOf"],["fxLayoutAlign","center center","translate","",1,"no-data-found",3,"fxShow","ngClass"],[2,"margin-top","8px"],["mat-button","","mat-raised-button","","color","primary","type","button","matTooltipPosition","above",3,"fxShow","disabled","matTooltip","click"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","formArrayName","keyVals",2,"max-height","40px"],["fxFlex","","floatLabel","always","hideRequiredMarker","",1,"mat-block",2,"max-height","40px"],["matInput","","required","",3,"formControl","placeholder"],["mat-button","","mat-icon-button","","color","primary","type","button","matTooltipPosition","above",3,"fxShow","disabled","matTooltip","click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"label",1),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,g,14,15,"div",2),r["\u0275\u0275elementStart"](4,"span",3),r["\u0275\u0275text"](5),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"div",4),r["\u0275\u0275elementStart"](7,"button",5),r["\u0275\u0275listener"]("click",(function(){return t.addKeyVal()})),r["\u0275\u0275pipe"](8,"async"),r["\u0275\u0275pipe"](9,"translate"),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.kvListFormGroup),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.titleText),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.keyValsFormArray().controls),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",!t.keyValsFormArray().length)("ngClass",r["\u0275\u0275pureFunction1"](16,b,t.disabled)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.noDataText?t.noDataText:"key-val.no-data"),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](9,12,"key-val.add-entry")),r["\u0275\u0275property"]("fxShow",!t.disabled)("disabled",r["\u0275\u0275pipeBind1"](8,10,t.isLoading$)),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](11,14,"action.add")," "))},directives:[l.f,a.NgControlStatusGroup,a.FormGroupDirective,c.TranslateDirective,u.NgForOf,l.e,p.d,u.NgClass,p.b,d.MatButton,m.MatTooltip,l.g,a.FormArrayName,f.MatFormField,l.b,f.MatLabel,h.MatInput,a.DefaultValueAccessor,a.RequiredValidator,a.NgControlStatus,a.FormControlDirective,y.MatIcon],pipes:[u.AsyncPipe,c.TranslatePipe],styles:["[_nghost-%COMP%]   .tb-kv-map[_ngcontent-%COMP%]   span.no-data-found[_ngcontent-%COMP%]{position:relative;display:-ms-flexbox;display:flex;height:40px}[_nghost-%COMP%]   .tb-kv-map[_ngcontent-%COMP%]   span.no-data-found.disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.38)}[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .mat-form-field-infix{border-top:0}[_nghost-%COMP%]     .mat-form-field-underline{bottom:0}"]}),t}(o.a);!function(){r["\u0275setClassMetadata"](v,[{type:r.Component,args:[{selector:"tb-key-val-map",templateUrl:"./kv-map.component.html",styleUrls:["./kv-map.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return v})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return v})),multi:!0}]}]}],(function(){return[{type:s.Store},{type:a.FormBuilder}]}),{disabled:[{type:r.Input}],titleText:[{type:r.Input}],keyPlaceholderText:[{type:r.Input}],valuePlaceholderText:[{type:r.Input}],noDataText:[{type:r.Input}]})}()},H3So:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("8LU1"),s=n("xKAQ"),l=n("nhHW"),c=n("//Q6"),u=n("HR/i"),p=n("jCow"),d=n("l7P3"),m=n("8m5z"),f=n("XiUz"),h=n("ofXK"),y=n("znSr"),g=n("bTqV"),b=n("Qu3c"),v=n("NFeN"),C=n("rezs"),E=n("sYmb"),T=["jsonEditor"];function S(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",10),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().beautifyJSON()})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"js-func.tidy")," "))}function w(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",10),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().minifyJSON()})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"js-func.mini")," "))}var M=function(e){return{"fill-height":e}},O=function(e,t,n){return{"tb-required":e,"tb-readonly":t,"tb-error":n}},I=function(){function e(e,t,n){this.elementRef=e,this.store=t,this.raf=n,this.toastTargetId="jsonObjectEditor-"+Object(c.k)(),this.fullscreen=!1,this.errorShowed=!1,this.ignoreChange=!1,this.propagateChange=null}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(o.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this.readonlyValue},set:function(e){this.readonlyValue=Object(o.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this,t=this.jsonEditorElmRef.nativeElement,n={mode:"ace/mode/json",showGutter:!0,showPrintMargin:!1,readOnly:this.disabled||this.readonly};n=Object(i.a)(Object(i.a)({},n),{enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),Object(p.b)().subscribe((function(i){e.jsonEditor=i.edit(t,n),e.jsonEditor.session.setUseWrapMode(!1),e.jsonEditor.setValue(e.contentValue?e.contentValue:"",-1),e.jsonEditor.setReadOnly(e.disabled||e.readonly),e.jsonEditor.on("change",(function(){e.ignoreChange||(e.cleanupJsonErrors(),e.updateView())})),e.editorResize$=new u.a((function(){e.onAceEditorResize()})),e.editorResize$.observe(t)}))},e.prototype.ngOnDestroy=function(){this.editorResize$&&this.editorResize$.disconnect()},e.prototype.onAceEditorResize=function(){var e=this;this.editorsResizeCaf&&(this.editorsResizeCaf(),this.editorsResizeCaf=null),this.editorsResizeCaf=this.raf.raf((function(){e.jsonEditor.resize(),e.jsonEditor.renderer.updateFull()}))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e,this.jsonEditor&&this.jsonEditor.setReadOnly(this.disabled||this.readonly)},e.prototype.validate=function(e){return this.objectValid?null:{jsonParseError:{valid:!1}}},e.prototype.validateOnSubmit=function(){this.disabled||this.readonly||(this.cleanupJsonErrors(),this.objectValid||(this.store.dispatch(new s.b({message:this.validationError,type:"error",target:this.toastTargetId,verticalPosition:"bottom",horizontalPosition:"left"})),this.errorShowed=!0))},e.prototype.cleanupJsonErrors=function(){this.errorShowed&&(this.store.dispatch(new s.a({target:this.toastTargetId})),this.errorShowed=!1)},e.prototype.beautifyJSON=function(){if(this.jsonEditor&&this.objectValid){var e=JSON.stringify(this.modelValue,null,2);this.jsonEditor.setValue(e||"",-1),this.updateView()}},e.prototype.minifyJSON=function(){if(this.jsonEditor&&this.objectValid){var e=JSON.stringify(this.modelValue);this.jsonEditor.setValue(e||"",-1),this.updateView()}},e.prototype.writeValue=function(e){this.modelValue=e,this.contentValue="",this.objectValid=!1;try{this.modelValue?(this.contentValue=JSON.stringify(this.modelValue,void 0,2),this.objectValid=!0):(this.objectValid=!this.required,this.validationError="Json object is required.")}catch(t){}this.jsonEditor&&(this.ignoreChange=!0,this.jsonEditor.setValue(this.contentValue?this.contentValue:"",-1),this.ignoreChange=!1)},e.prototype.updateView=function(){var e=this.jsonEditor.getValue();if(this.contentValue!==e){this.contentValue=e;var t=null;if(this.objectValid=!1,this.contentValue&&this.contentValue.length>0)try{t=JSON.parse(this.contentValue),this.objectValid=!0,this.validationError=""}catch(i){var n="Error:";i.name&&(n+=" "+i.name+":"),i.message&&(n+=" "+i.message),this.validationError=n}else this.objectValid=!this.required,this.validationError=this.required?"Json object is required.":"";this.modelValue=t,this.propagateChange(t)}},e.prototype.onFullscreen=function(){var e=this;this.jsonEditor&&setTimeout((function(){e.jsonEditor.resize()}),0)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](d.Store),r["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-json-object-edit"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275staticViewQuery"](T,!0),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.jsonEditorElmRef=n.first))},inputs:{label:"label",disabled:"disabled",fillHeight:"fillHeight",editorStyle:"editorStyle",required:"required",readonly:"readonly"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}])],decls:14,vars:21,consts:[["tb-fullscreen","","fxLayout","column",2,"background","#fff",3,"ngClass","fullscreen","fullscreenChanged"],["fxLayout","row","fxLayoutAlign","start center",1,"tb-json-object-toolbar"],[1,"tb-title","no-padding",3,"ngClass"],["fxFlex",""],["type","button","mat-button","","class","tidy",3,"click",4,"ngIf"],["mat-button","","mat-icon-button","","matTooltipPosition","above",3,"matTooltip","click"],[1,"material-icons"],["id","tb-json-panel","tb-toast","","fxLayout","column",1,"tb-json-object-panel",3,"toastTarget"],["id","tb-json-input",3,"ngStyle","ngClass"],["jsonEditor",""],["type","button","mat-button","",1,"tidy",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275listener"]("fullscreenChanged",(function(){return t.onFullscreen()})),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"label",2),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"span",3),r["\u0275\u0275template"](5,S,3,3,"button",4),r["\u0275\u0275template"](6,w,3,3,"button",4),r["\u0275\u0275elementStart"](7,"button",5),r["\u0275\u0275listener"]("click",(function(){return t.fullscreen=!t.fullscreen})),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementStart"](9,"mat-icon",6),r["\u0275\u0275text"](10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",7),r["\u0275\u0275element"](12,"div",8,9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](13,M,t.fillHeight))("fullscreen",t.fullscreen),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction3"](15,O,t.required,t.readonly,!t.objectValid)),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.label),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.readonly&&!t.disabled),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.readonly&&!t.disabled),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](8,11,t.fullscreen?"fullscreen.exit":"fullscreen.expand")),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](t.fullscreen?"fullscreen_exit":"fullscreen"),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("toastTarget",t.toastTargetId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngStyle",t.editorStyle)("ngClass",r["\u0275\u0275pureFunction1"](19,M,t.fillHeight)))},directives:[m.a,f.f,h.NgClass,y.b,f.e,f.b,h.NgIf,g.MatButton,b.MatTooltip,v.MatIcon,C.b,h.NgStyle,y.e],pipes:[E.TranslatePipe],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   .fill-height[_ngcontent-%COMP%]{height:100%}.tb-json-object-toolbar[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%], .tb-json-object-toolbar[_ngcontent-%COMP%]   button.mat-icon-button[_ngcontent-%COMP%], .tb-json-object-toolbar[_ngcontent-%COMP%]   button.mat-icon-button.tb-mat-32[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center;vertical-align:middle;min-width:32px;min-height:15px;padding:4px;margin:0;font-size:.8rem;line-height:15px;color:#7b7b7b;background:hsla(0,0%,86.3%,.35)}.tb-json-object-toolbar[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%]:not(:last-child), .tb-json-object-toolbar[_ngcontent-%COMP%]   button.mat-icon-button.tb-mat-32[_ngcontent-%COMP%]:not(:last-child), .tb-json-object-toolbar[_ngcontent-%COMP%]   button.mat-icon-button[_ngcontent-%COMP%]:not(:last-child){margin-right:4px}.tb-json-object-panel[_ngcontent-%COMP%]{height:100%;margin-left:15px;border:1px solid silver}.tb-json-object-panel[_ngcontent-%COMP%]   #tb-json-input[_ngcontent-%COMP%]{width:100%;min-width:200px;height:100%}.tb-json-object-panel[_ngcontent-%COMP%]   #tb-json-input[_ngcontent-%COMP%]:not(.fill-height){min-height:200px}"]}),e}();!function(){r["\u0275setClassMetadata"](I,[{type:r.Component,args:[{selector:"tb-json-object-edit",templateUrl:"./json-object-edit.component.html",styleUrls:["./json-object-edit.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return I})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return I})),multi:!0}]}]}],(function(){return[{type:r.ElementRef},{type:d.Store},{type:l.a}]}),{jsonEditorElmRef:[{type:r.ViewChild,args:["jsonEditor",{static:!0}]}],label:[{type:r.Input}],disabled:[{type:r.Input}],fillHeight:[{type:r.Input}],editorStyle:[{type:r.Input}],required:[{type:r.Input}],readonly:[{type:r.Input}]})}()},HKgb:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var i=n("mrSG"),r=n("fXoL"),a=n("2Vo4"),o=n("tyNb"),s=n("pLZG"),l=n("/uUt"),c=n("lJxs"),u=n("//Q6"),p=n("sYmb"),d=n("XiUz"),m=n("ofXK"),f=n("znSr"),h=n("NFeN");function y(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"h1",3),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.ignoreTranslate?n.labelFunction?n.labelFunction():n.label:r["\u0275\u0275pipeBind1"](2,1,n.label)," ")}}function g(e,t){if(1&e&&r["\u0275\u0275element"](0,"mat-icon",11),2&e){var n=r["\u0275\u0275nextContext"](2).$implicit;r["\u0275\u0275property"]("svgIcon",n.icon)}}function b(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",12),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](2).$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.icon," ")}}function v(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"a",8),r["\u0275\u0275template"](1,g,1,1,"mat-icon",9),r["\u0275\u0275template"](2,b,2,1,"mat-icon",10),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275property"]("routerLink",n.link)("queryParams",n.queryParams),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.isMdiIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!n.isMdiIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.ignoreTranslate?n.labelFunction?n.labelFunction():n.label:r["\u0275\u0275pipeBind1"](4,5,n.label)," ")}}function C(e,t){if(1&e&&r["\u0275\u0275element"](0,"mat-icon",11),2&e){var n=r["\u0275\u0275nextContext"](2).$implicit;r["\u0275\u0275property"]("svgIcon",n.icon)}}function E(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",12),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](2).$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.icon," ")}}function T(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275template"](1,C,1,1,"mat-icon",9),r["\u0275\u0275template"](2,E,2,1,"mat-icon",10),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.isMdiIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!n.isMdiIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.ignoreTranslate?n.labelFunction?n.labelFunction():n.label:r["\u0275\u0275pipeBind1"](4,3,n.label)," ")}}function S(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span",4),r["\u0275\u0275template"](1,v,5,7,"a",5),r["\u0275\u0275template"](2,T,5,5,"span",6),r["\u0275\u0275elementStart"](3,"span",7),r["\u0275\u0275text"](4," > "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=t.last;r["\u0275\u0275property"]("ngSwitch",n),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!1),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngSwitchCase",!0),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxHide",n)}}var w=function(){function e(e,t,n){var i=this;this.router=e,this.activatedRoute=t,this.translate=n,this.breadcrumbs$=new a.a(this.buildBreadCrumbs(this.activatedRoute.snapshot)),this.routerEventsSubscription=this.router.events.pipe(Object(s.a)((function(e){return e instanceof o.NavigationEnd})),Object(l.a)(),Object(c.a)((function(){return i.buildBreadCrumbs(i.activatedRoute.snapshot)}))).subscribe((function(e){return i.breadcrumbs$.next(e)})),this.lastBreadcrumb$=this.breadcrumbs$.pipe(Object(c.a)((function(e){return e[e.length-1]})))}return Object.defineProperty(e.prototype,"activeComponent",{set:function(e){this.activeComponentValue=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe()},e.prototype.lastChild=function(e){for(var t=e;null!==t.firstChild;)t=t.firstChild;return t},e.prototype.buildBreadCrumbs=function(e,t,n){var r=this;void 0===t&&(t=[]),n||(n=this.lastChild(e));var a=t;if(e.routeConfig&&e.routeConfig.data){var o=e.routeConfig.data.breadcrumb;if(o&&!o.skip){var s=void 0,l=void 0,c=void 0;o.labelFunction?(l=function(){return o.labelFunction(e,r.translate,r.activeComponentValue,n.data)},c=!0):(s=o.label||"home.home",c=!1);var p=o.icon||"home",d=p.startsWith("mdi:"),m=[e.pathFromRoot.map((function(e){return e.url.map((function(e){return e.toString()})).join("/")})).join("/")],f={id:Object(u.k)(),label:s,labelFunction:l,ignoreTranslate:c,icon:p,isMdiIcon:d,link:m,queryParams:null};a=Object(i.g)(t,[f])}}return e.firstChild?this.buildBreadCrumbs(e.firstChild,a,n):a},e.prototype.trackByBreadcrumbs=function(e,t){return t.id},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](o.Router),r["\u0275\u0275directiveInject"](o.ActivatedRoute),r["\u0275\u0275directiveInject"](p.TranslateService))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-breadcrumb"]],inputs:{activeComponent:"activeComponent"},decls:5,vars:7,consts:[["fxFlex","","fxLayout","row",1,"tb-breadcrumb"],["fxFlex","","fxHide.gt-sm","",4,"ngIf"],["fxHide.lt-md","","fxLayout","row",3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["fxFlex","","fxHide.gt-sm",""],["fxHide.lt-md","","fxLayout","row",3,"ngSwitch"],[3,"routerLink","queryParams",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"divider",3,"fxHide"],[3,"routerLink","queryParams"],[3,"svgIcon",4,"ngIf"],["class","material-icons",4,"ngIf"],[3,"svgIcon"],[1,"material-icons"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,y,3,3,"h1",1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275template"](3,S,5,4,"span",2),r["\u0275\u0275pipe"](4,"async"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](2,3,t.lastBreadcrumb$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](4,5,t.breadcrumbs$))("ngForTrackBy",t.trackByBreadcrumbs))},directives:[d.b,d.f,m.NgIf,m.NgForOf,f.d,m.NgSwitch,m.NgSwitchCase,o.RouterLinkWithHref,h.MatIcon],pipes:[m.AsyncPipe,p.TranslatePipe],styles:["[_nghost-%COMP%]{min-width:0}[_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]{font-size:18px;font-weight:400;overflow:hidden}[_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.divider){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:400}[_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;opacity:.75;transition:opacity .35s;color:inherit;text-decoration:none;outline:none}[_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none!important;border:none;opacity:1}[_nghost-%COMP%]   .tb-breadcrumb[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{padding:0 20px}"]}),e}();!function(){r["\u0275setClassMetadata"](w,[{type:r.Component,args:[{selector:"tb-breadcrumb",templateUrl:"./breadcrumb.component.html",styleUrls:["./breadcrumb.component.scss"]}]}],(function(){return[{type:o.Router},{type:o.ActivatedRoute},{type:p.TranslateService}]}),{activeComponent:[{type:r.Input}]})}()},HeHW:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("fXoL"),a=n("gmuX"),o=n("0IaG"),s=n("l7P3"),l=n("tyNb"),c=n("3Pt+"),u=n("sYmb");function p(e,t){1&e&&r["\u0275\u0275element"](0,"mat-progress-bar",13)}function d(e,t){1&e&&r["\u0275\u0275element"](0,"div",14)}var m=function(e){function t(t,n,i,r,a,o){var s=e.call(this,t,n,r)||this;return s.store=t,s.router=n,s.data=i,s.dialogRef=r,s.fb=a,s.translate=o,s.submitted=!1,s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){this.title=this.data.title?this.data.title:this.translate.instant("details.edit-json"),this.jsonFormGroup=this.fb.group({json:[this.data.jsonValue,[]]})},t.prototype.cancel=function(){this.dialogRef.close(void 0)},t.prototype.add=function(){this.dialogRef.close(this.jsonFormGroup.get("json").value)},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](s.Store),r["\u0275\u0275directiveInject"](l.Router),r["\u0275\u0275directiveInject"](o.MAT_DIALOG_DATA),r["\u0275\u0275directiveInject"](o.MatDialogRef),r["\u0275\u0275directiveInject"](c.FormBuilder),r["\u0275\u0275directiveInject"](u.TranslateService))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-object-edit-dialog"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:27,vars:28,consts:[[2,"min-width","400px",3,"formGroup","ngSubmit"],["fxLayout","row","color","primary"],["fxFlex",""],["mat-button","","mat-icon-button","","type","button",3,"click"],[1,"material-icons"],["color","warn","mode","indeterminate",4,"ngIf"],["style","height: 4px;",4,"ngIf"],["mat-dialog-content",""],[3,"disabled"],["formControlName","json","validateContent","true",3,"label","required","fillHeight"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center"],["mat-button","","color","primary","type","button","cdkFocusInitial","",3,"disabled","click"],["mat-button","","mat-raised-button","","color","primary","type","submit",3,"disabled"],["color","warn","mode","indeterminate"],[2,"height","4px"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.add()})),r["\u0275\u0275elementStart"](1,"mat-toolbar",1),r["\u0275\u0275elementStart"](2,"h2"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"span",2),r["\u0275\u0275elementStart"](5,"button",3),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275elementStart"](6,"mat-icon",4),r["\u0275\u0275text"](7,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,p,1,0,"mat-progress-bar",5),r["\u0275\u0275pipe"](9,"async"),r["\u0275\u0275template"](10,d,1,0,"div",6),r["\u0275\u0275pipe"](11,"async"),r["\u0275\u0275elementStart"](12,"div",7),r["\u0275\u0275elementStart"](13,"fieldset",8),r["\u0275\u0275pipe"](14,"async"),r["\u0275\u0275element"](15,"tb-json-object-edit",9),r["\u0275\u0275pipe"](16,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"div",10),r["\u0275\u0275element"](18,"span",2),r["\u0275\u0275elementStart"](19,"button",11),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275pipe"](20,"async"),r["\u0275\u0275text"](21),r["\u0275\u0275pipe"](22,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"button",12),r["\u0275\u0275pipe"](24,"async"),r["\u0275\u0275text"](25),r["\u0275\u0275pipe"](26,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.jsonFormGroup),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](t.title),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](9,12,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](11,14,t.isLoading$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](14,16,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("label",r["\u0275\u0275pipeBind1"](16,18,"value.json-value")),r["\u0275\u0275property"]("required",!0)("fillHeight",!1),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](20,20,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](22,22,"action.cancel")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](24,24,t.isLoading$)||t.jsonFormGroup.invalid||!t.jsonFormGroup.dirty),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](26,26,"action.save")," "))},encapsulation:2}),t}(a.a);!function(){r["\u0275setClassMetadata"](m,[{type:r.Component,args:[{selector:"tb-object-edit-dialog",templateUrl:"./json-object-edit-dialog.component.html",styleUrls:[]}]}],(function(){return[{type:s.Store},{type:l.Router},{type:void 0,decorators:[{type:r.Inject,args:[o.MAT_DIALOG_DATA]}]},{type:o.MatDialogRef},{type:c.FormBuilder},{type:u.TranslateService}]}),null)}()},HlBW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){function e(){this.year=(new Date).getFullYear()}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-footer"]],decls:3,vars:1,consts:[[1,"footer-text"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"small"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("Copyright \xa9 ",t.year," The ThingsBoard Authors"))},styles:[".footer-text[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px;margin:0;left:0;line-height:20px;text-align:center}.footer-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px;color:#98a6ad}"]}),e}();!function(){i["\u0275setClassMetadata"](r,[{type:i.Component,args:[{selector:"tb-footer",templateUrl:"./footer.component.html",styleUrls:["./footer.component.scss"]}]}],null,null)}()},HnHJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL");function r(e,t){}var a=function(){function e(e){this.viewContainerRef=e}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ViewContainerRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-anchor"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275template"](0,r,0,0,"ng-template")},encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Component,args:[{selector:"tb-anchor",template:"<ng-template></ng-template>"}]}],(function(){return[{type:i.ViewContainerRef}]}),null)}()},IVsW:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("fXoL"),r=n("3Pt+"),a=n("LRne"),o=n("vkgz"),s=n("lJxs"),l=n("5+tZ"),c=n("gM18"),u=n("8LU1"),p=n("7JTo"),d=n("l7P3"),m=n("sYmb"),f=n("kmnG"),h=n("qFsG"),y=n("/1cH"),g=n("ofXK"),b=n("bTqV"),v=n("NFeN"),C=n("FKr1"),E=n("d5eY"),T=["relationTypeInput"];function S(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",9),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",10),i["\u0275\u0275element"](1,"span",11),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,n,r.searchText),i["\u0275\u0275sanitizeHtml"])}}function M(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"relation.relation-type-required")," "))}var O=function(){function e(e,t,n,i){this.store=e,this.broadcast=t,this.translate=n,this.fb=i,this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.relationTypeFormGroup=this.fb.group({relationType:[null,this.required?[r.Validators.required]:[]]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(u.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredRelationTypes=this.relationTypeFormGroup.get("relationType").valueChanges.pipe(Object(o.a)((function(t){e.updateView(t)})),Object(s.a)((function(e){return e||""})),Object(l.b)((function(t){return e.fetchRelationTypes(t)})))},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.relationTypeFormGroup.disable({emitEvent:!1}):this.relationTypeFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){this.searchText="",this.modelValue=e,this.relationTypeFormGroup.get("relationType").patchValue(e,{emitEvent:!1}),this.dirty=!0},e.prototype.onFocus=function(){this.dirty&&(this.relationTypeFormGroup.get("relationType").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displayRelationTypeFn=function(e){return e||void 0},e.prototype.fetchRelationTypes=function(e,t){return void 0===t&&(t=!1),this.searchText=e,Object(a.a)(p.e).pipe(Object(s.a)((function(n){return n.filter((function(n){return t?!!e&&n===e:!e||n.toUpperCase().startsWith(e.toUpperCase())}))})))},e.prototype.clear=function(){var e=this;this.relationTypeFormGroup.get("relationType").patchValue(null,{emitEvent:!0}),setTimeout((function(){e.relationTypeInput.nativeElement.blur(),e.relationTypeInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d.Store),i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](m.TranslateService),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-relation-type-autocomplete"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](T,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.relationTypeInput=n.first))},inputs:{required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:11,vars:14,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","relationType",3,"placeholder","required","matAutocomplete","focusin"],["relationTypeInput",""],["type","button","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["relationTypeAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"input",1,2),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,S,3,0,"button",3),i["\u0275\u0275elementStart"](6,"mat-autocomplete",4,5),i["\u0275\u0275template"](8,w,3,5,"mat-option",6),i["\u0275\u0275pipe"](9,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,M,3,3,"mat-error",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](7);i["\u0275\u0275property"]("formGroup",t.relationTypeFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("placeholder",t.required?i["\u0275\u0275pipeBind1"](3,8,"relation.relation-type"):t.modelValue?" ":i["\u0275\u0275pipeBind1"](4,10,"relation.any-relation-type")),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",n),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",t.relationTypeFormGroup.get("relationType").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayRelationTypeFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](9,12,t.filteredRelationTypes)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.relationTypeFormGroup.get("relationType").hasError("required"))}},directives:[f.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,h.MatInput,r.DefaultValueAccessor,y.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,g.NgIf,y.MatAutocomplete,g.NgForOf,b.MatButton,f.MatSuffix,v.MatIcon,C.MatOption,f.MatError],pipes:[m.TranslatePipe,g.AsyncPipe,E.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](O,[{type:i.Component,args:[{selector:"tb-relation-type-autocomplete",templateUrl:"./relation-type-autocomplete.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return O})),multi:!0}]}]}],(function(){return[{type:d.Store},{type:c.a},{type:m.TranslateService},{type:r.FormBuilder}]}),{required:[{type:i.Input}],disabled:[{type:i.Input}],relationTypeInput:[{type:i.ViewChild,args:["relationTypeInput",{static:!0}]}]})}()},IaQH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.getTenantQueuesByServiceType=function(e,t){return this.http.get("/api/tenant/queues?serviceType="+e,Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},JIJk:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"j",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"x",(function(){return p})),n.d(t,"w",(function(){return d})),n.d(t,"B",(function(){return m})),n.d(t,"y",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"F",(function(){return y})),n.d(t,"u",(function(){return g})),n.d(t,"t",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"z",(function(){return C})),n.d(t,"o",(function(){return E})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return w})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return x})),n.d(t,"l",(function(){return j})),n.d(t,"v",(function(){return R})),n.d(t,"g",(function(){return I})),n.d(t,"r",(function(){return k})),n.d(t,"e",(function(){return N})),n.d(t,"s",(function(){return P})),n.d(t,"D",(function(){return _})),n.d(t,"E",(function(){return V})),n.d(t,"G",(function(){return F})),n.d(t,"C",(function(){return D}));var i,r,a,o,s,l=n("mrSG"),c=n("wd/R");!function(e){e.DEFAULT="DEFAULT"}(i||(i={})),function(e){e.DEFAULT="DEFAULT",e.MQTT="MQTT",e.COAP="COAP"}(r||(r={})),function(e){e.JSON="JSON",e.PROTOBUF="PROTOBUF"}(a||(a={})),function(e){e.DEFAULT="DEFAULT",e.EFENTO="EFENTO"}(o||(o={})),function(e){e.DISABLED="DISABLED",e.ALLOW_CREATE_NEW_DEVICES="ALLOW_CREATE_NEW_DEVICES",e.CHECK_PRE_PROVISIONED_DEVICES="CHECK_PRE_PROVISIONED_DEVICES"}(s||(s={}));var u,p=new Map([[i.DEFAULT,"device-profile.type-default"]]),d=new Map([[i.DEFAULT,{hasProfileConfiguration:!1,hasDeviceConfiguration:!1}]]),m=new Map([[r.DEFAULT,"device-profile.transport-type-default"],[r.MQTT,"device-profile.transport-type-mqtt"],[r.COAP,"device-profile.transport-type-coap"]]),f=new Map([[s.DISABLED,"device-profile.provision-strategy-disabled"],[s.ALLOW_CREATE_NEW_DEVICES,"device-profile.provision-strategy-created-new"],[s.CHECK_PRE_PROVISIONED_DEVICES,"device-profile.provision-strategy-check-pre-provisioned"]]),h=new Map([[r.DEFAULT,"device-profile.transport-type-default-hint"],[r.MQTT,"device-profile.transport-type-mqtt-hint"],[r.COAP,"device-profile.transport-type-coap-hint"]]),y=new Map([[a.JSON,"device-profile.transport-device-payload-type-json"],[a.PROTOBUF,"device-profile.transport-device-payload-type-proto"]]),g='syntax ="proto3";\npackage telemetry;\n\nmessage SensorDataReading {\n\n  double temperature = 1;\n  double humidity = 2;\n  InnerObject innerObject = 3;\n\n  message InnerObject {\n    string key1 = 1;\n    bool key2 = 2;\n    double key3 = 3;\n    int32 key4 = 4;\n    string key5 = 5;\n  }\n}\n',b='syntax ="proto3";\npackage attributes;\n\nmessage SensorConfiguration {\n  string firmwareVersion = 1;\n  string serialNumber = 2;\n}',v=new Map([[o.DEFAULT,"device-profile.coap-device-type-default"],[o.EFENTO,"device-profile.coap-device-type-efento"]]),C=new Map([[r.DEFAULT,{hasProfileConfiguration:!1,hasDeviceConfiguration:!1}],[r.MQTT,{hasProfileConfiguration:!0,hasDeviceConfiguration:!1}],[r.COAP,{hasProfileConfiguration:!0,hasDeviceConfiguration:!1}]]);function E(e){var t=null;if(e)switch(e){case i.DEFAULT:t=Object(l.a)(Object(l.a)({},{}),{type:i.DEFAULT})}return t}function T(e){var t=null;if(e)switch(e){case i.DEFAULT:t=Object(l.a)(Object(l.a)({},{}),{type:i.DEFAULT})}return t}function S(e){var t=null;if(e)switch(e){case r.DEFAULT:t=Object(l.a)(Object(l.a)({},{}),{type:r.DEFAULT});break;case r.MQTT:var n={deviceTelemetryTopic:"v1/devices/me/telemetry",deviceAttributesTopic:"v1/devices/me/attributes",transportPayloadTypeConfiguration:{transportPayloadType:a.JSON}};t=Object(l.a)(Object(l.a)({},n),{type:r.MQTT});break;case r.COAP:var i={coapDeviceTypeConfiguration:{coapDeviceType:o.DEFAULT,transportPayloadTypeConfiguration:{transportPayloadType:a.JSON}}};t=Object(l.a)(Object(l.a)({},i),{type:r.COAP})}return t}function w(e){var t=null;if(e)switch(e){case r.DEFAULT:t=Object(l.a)(Object(l.a)({},{}),{type:r.DEFAULT});break;case r.MQTT:t=Object(l.a)(Object(l.a)({},{}),{type:r.MQTT});break;case r.COAP:t=Object(l.a)(Object(l.a)({},{}),{type:r.COAP})}return t}!function(e){e.SIMPLE="SIMPLE",e.DURATION="DURATION",e.REPEATING="REPEATING"}(u||(u={}));var M,O=new Map([[u.SIMPLE,"device-profile.condition-type-simple"],[u.DURATION,"device-profile.condition-type-duration"],[u.REPEATING,"device-profile.condition-type-repeating"]]);!function(e){e.ANY_TIME="ANY_TIME",e.SPECIFIC_TIME="SPECIFIC_TIME",e.CUSTOM="CUSTOM"}(M||(M={}));var I,x=new Map([[M.ANY_TIME,"device-profile.schedule-any-time"],[M.SPECIFIC_TIME,"device-profile.schedule-specific-time"],[M.CUSTOM,"device-profile.schedule-custom"]]);function j(e){return A(e.value)?null:{alarmRule:!0}}function A(e){return!!(e&&e.condition&&e.condition.condition&&e.condition.condition.length)}function R(e){var t=e.value;if(t&&t.id&&t.alarmType&&t.createRules){var n=Object.keys(t.createRules);if(n.length){for(var i=!0,r=0,a=n;r<a.length;r++){var o=a[r];if(!A(t.createRules[o])){i=!1;break}}if(i&&t.clearRule&&!A(t.clearRule)&&(i=!1),i)return null}}return{deviceProfileAlarm:!0}}!function(e){e.ACCESS_TOKEN="ACCESS_TOKEN",e.X509_CERTIFICATE="X509_CERTIFICATE",e.MQTT_BASIC="MQTT_BASIC"}(I||(I={}));var N,k=new Map([[I.ACCESS_TOKEN,"Access token"],[I.X509_CERTIFICATE,"MQTT X.509"],[I.MQTT_BASIC,"MQTT Basic"]]);!function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.CLAIMED="CLAIMED"}(N||(N={}));var P=new Array("device-profile.schedule-day.monday","device-profile.schedule-day.tuesday","device-profile.schedule-day.wednesday","device-profile.schedule-day.thursday","device-profile.schedule-day.friday","device-profile.schedule-day.saturday","device-profile.schedule-day.sunday");function _(e){switch(e){case 0:return"device-profile.schedule-day.monday";case 1:return this.translate.instant("device-profile.schedule-day.tuesday");case 2:return this.translate.instant("device-profile.schedule-day.wednesday");case 3:return this.translate.instant("device-profile.schedule-day.thursday");case 4:return this.translate.instant("device-profile.schedule-day.friday");case 5:return this.translate.instant("device-profile.schedule-day.saturday");case 6:return this.translate.instant("device-profile.schedule-day.sunday")}}function V(e){return"number"==typeof e||null===e?0:c.utc([1970,0,1,e.getHours(),e.getMinutes(),e.getSeconds(),0]).valueOf()}function F(e){return void 0===e&&(e=0),new Date(e+60*new Date(e).getTimezoneOffset()*1e3)}function L(e){return c("number"==typeof e||null===e?[1970,0,1,0,0,0,0]:[1970,0,1,e.getHours(),e.getMinutes(),0,0])}function D(e,t){var n=L(e),i=L(t);return n<i?'<span><span class="nowrap">'+n.format("hh:mm A")+'</span> \u2013 <span class="nowrap">'+i.format("hh:mm A")+"</span></span>":0===n.valueOf()&&0===i.valueOf()||n.isSame(c([1970,0]))&&i.isSame(c([1970,0]))?'<span><span class="nowrap">12:00 AM</span> \u2013 <span class="nowrap">12:00 PM</span></span>':'<span><span class="nowrap">12:00 AM</span> \u2013 <span class="nowrap">'+i.format("hh:mm A")+'</span> and <span class="nowrap">'+n.format("hh:mm A")+'</span> \u2013 <span class="nowrap">12:00 PM</span></span>'}},KEZ6:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("fXoL"),r=n("3Pt+"),a=n("vkgz"),o=n("w1tV"),s=n("8LU1"),l=n("5xOD"),c=n("//Q6"),u=n("oKkZ"),p=n("l7P3"),d=n("kmnG"),m=n("d3UM"),f=n("ofXK"),h=n("sYmb"),y=n("FKr1");function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",5),i["\u0275\u0275text"](1,"widgets-bundle.system"),i["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",5),i["\u0275\u0275text"](1,"widgets-bundle.system"),i["\u0275\u0275elementEnd"]())}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",6),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275elementStart"](2,"span"),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,b,2,0,"span",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](n.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",r.isSystem(n))}}var C=function(){function e(e,t){this.store=e,this.widgetService=t,this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.widgetsBundles$=this.getWidgetsBundles().pipe(Object(a.a)((function(t){e.widgetsBundles=t,e.selectFirstBundle&&t.length>0&&(e.widgetsBundle!==t[0]?(e.widgetsBundle=t[0],e.updateView()):Object(c.n)(e.selectBundleAlias)&&e.selectWidgetsBundleByAlias(e.selectBundleAlias))})),Object(o.a)())},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];r.firstChange||r.currentValue===r.previousValue||"selectBundleAlias"===i&&this.selectWidgetsBundleByAlias(this.selectBundleAlias)}},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){this.widgetsBundle=e},e.prototype.widgetsBundleChanged=function(){this.updateView()},e.prototype.isSystem=function(e){return e&&e.tenantId.id===u.a},e.prototype.selectWidgetsBundleByAlias=function(e){if(this.widgetsBundles&&e){var t=this.widgetsBundles.find((function(t){return t.alias===e}));t&&this.widgetsBundle!==t&&(this.widgetsBundle=t,this.updateView())}},e.prototype.updateView=function(){this.propagateChange(this.widgetsBundle)},e.prototype.getWidgetsBundles=function(){var e;return this.bundlesScope?"system"===this.bundlesScope?e=this.widgetService.getSystemWidgetsBundles():"tenant"===this.bundlesScope&&(e=this.widgetService.getTenantWidgetsBundles()):e=this.widgetService.getAllWidgetsBundles(),e},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](p.Store),i["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-widgets-bundle-select"]],inputs:{bundlesScope:"bundlesScope",selectFirstBundle:"selectFirstBundle",selectBundleAlias:"selectBundleAlias",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}]),i["\u0275\u0275NgOnChangesFeature"]],decls:11,vars:11,consts:[["floatLabel","always","hideRequiredMarker","",1,"mat-block"],["matInput","","panelClass","tb-widgets-bundle-select",3,"required","disabled","ngModel","placeholder","ngModelChange"],[1,"tb-bundle-item"],["translate","","class","tb-bundle-system",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["translate","",1,"tb-bundle-system"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275element"](1,"mat-label"),i["\u0275\u0275elementStart"](2,"mat-select",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.widgetsBundle=e}))("ngModelChange",(function(){return t.widgetsBundleChanged()})),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementStart"](4,"mat-select-trigger"),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275elementStart"](6,"span"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,g,2,0,"span",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,v,5,3,"mat-option",4),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](3,7,"widget.select-widgets-bundle")),i["\u0275\u0275property"]("required",t.required)("disabled",t.disabled)("ngModel",t.widgetsBundle),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==t.widgetsBundle?null:t.widgetsBundle.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isSystem(t.widgetsBundle)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](10,9,t.widgetsBundles$)))},directives:[d.MatFormField,d.MatLabel,m.MatSelect,r.RequiredValidator,r.NgControlStatus,r.NgModel,m.MatSelectTrigger,f.NgIf,f.NgForOf,h.TranslateDirective,y.MatOption],pipes:[h.TranslatePipe,f.AsyncPipe],styles:["tb-widgets-bundle-select mat-select{margin:0}tb-widgets-bundle-select .tb-bundle-item{height:26px;line-height:26px}.tb-widgets-bundle-select .tb-bundle-item{height:48px;line-height:48px}.tb-widgets-bundle-select .mat-select-value-text,tb-widgets-bundle-select .mat-select-value-text{display:block;width:100%}.tb-widgets-bundle-select .tb-bundle-item,tb-widgets-bundle-select .tb-bundle-item{display:inline-block;width:100%}.tb-widgets-bundle-select .tb-bundle-item span,tb-widgets-bundle-select .tb-bundle-item span{display:inline-block;vertical-align:middle}.tb-widgets-bundle-select .tb-bundle-item .tb-bundle-system,tb-widgets-bundle-select .tb-bundle-item .tb-bundle-system{float:right;font-size:.8rem;opacity:.8}.tb-widgets-bundle-select mat-option,tb-widgets-bundle-select mat-option{height:auto!important;white-space:normal!important}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper{padding-bottom:0!important}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix{background:hsla(0,0%,100%,.2);padding:5px 20px!important;border:none}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-value-text{font-size:1.2rem;color:#fff}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-value-text span:first-child:after{color:#fff}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-value{vertical-align:middle;min-height:30px;height:30px;padding:2px 2px 1px}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-value .mat-select-placeholder{color:#fff;opacity:.8;line-height:26px}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix .mat-select.mat-select-invalid .mat-select-arrow{color:#fff!important}@media screen and (max-width:599px){mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-infix{width:auto}}mat-toolbar tb-widgets-bundle-select .mat-form-field-wrapper .mat-form-field-underline{display:none}"],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](C,[{type:i.Component,args:[{selector:"tb-widgets-bundle-select",templateUrl:"./widgets-bundle-select.component.html",styleUrls:["./widgets-bundle-select.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return C})),multi:!0}],encapsulation:i.ViewEncapsulation.None}]}],(function(){return[{type:p.Store},{type:l.a}]}),{bundlesScope:[{type:i.Input}],selectFirstBundle:[{type:i.Input}],selectBundleAlias:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}]})}()},KMMH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("U3y+"),r=function(e){this.entityType=i.b.TENANT,this.id=e}},Ki3a:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){function e(){}return e.prototype.transform=function(e,t){return e?e.replace(/ /g,""):""},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"nospace",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](r,[{type:i.Pipe,args:[{name:"nospace"}]}],null,null)}()},MBk6:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.singleEntity="singleEntity",e.entityList="entityList",e.entityName="entityName",e.entityType="entityType",e.stateEntity="stateEntity",e.assetType="assetType",e.deviceType="deviceType",e.entityViewType="entityViewType",e.apiUsageState="apiUsageState",e.relationsQuery="relationsQuery",e.assetSearchQuery="assetSearchQuery",e.deviceSearchQuery="deviceSearchQuery",e.entityViewSearchQuery="entityViewSearchQuery"}(i||(i={}));var r=new Map([[i.singleEntity,"alias.filter-type-single-entity"],[i.entityList,"alias.filter-type-entity-list"],[i.entityName,"alias.filter-type-entity-name"],[i.entityType,"alias.filter-type-entity-type"],[i.stateEntity,"alias.filter-type-state-entity"],[i.assetType,"alias.filter-type-asset-type"],[i.deviceType,"alias.filter-type-device-type"],[i.entityViewType,"alias.filter-type-entity-view-type"],[i.apiUsageState,"alias.filter-type-apiUsageState"],[i.relationsQuery,"alias.filter-type-relations-query"],[i.assetSearchQuery,"alias.filter-type-asset-search-query"],[i.deviceSearchQuery,"alias.filter-type-device-search-query"],[i.entityViewSearchQuery,"alias.filter-type-entity-view-search-query"]])},NOb7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("8LU1"),a=n("//Q6"),o=function(){function t(e,t){this.elementRef=e,this.ngZone=t}return Object.defineProperty(t.prototype,"enableSearch",{get:function(){return this.enableSearchValue},set:function(e){this.enableSearchValue=Object(r.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.initTree()},t.prototype.initTree=function(){var t=this,i={core:{worker:!1,multiple:!1,check_callback:!0,themes:{name:"proton",responsive:!0},data:function(e,n){var i=function(e){var t=[];e&&e.forEach((function(e){t.push(Object(a.e)(e,["data"]))})),n(t)};t.ngZone.runOutsideAngular((function(){t.loadNodes(e,i)}))},error:function(){console.error("Unexpected jstree error!")}},plugins:[]};this.enableSearch&&(i.plugins.push("search"),i.search={ajax:!1,fuzzy:!1,close_opened_onclear:!0,case_sensitive:!1,show_only_matches:!0,show_only_matches_children:!1,search_leaves_only:!1,search_callback:this.searchCallback}),n.e(50).then(n.t.bind(null,"bI4t",7)).then((function(){t.treeElement=e(".tb-nav-tree-container",t.elementRef.nativeElement).jstree(i),t.treeElement.on("changed.jstree",(function(e,n){var i=n.instance.get_selected(!0)[0];t.onNodeSelected&&t.ngZone.run((function(){return t.onNodeSelected(i,e)}))})),t.treeElement.on("model.jstree",(function(e,n){t.onNodesInserted&&t.ngZone.run((function(){return t.onNodesInserted(n.nodes,n.parent)}))})),t.editCallbacks&&(t.editCallbacks.selectNode=function(e){var n=t.treeElement.jstree("get_node",e);n&&(t.treeElement.jstree("deselect_all",!0),t.treeElement.jstree("select_node",n))},t.editCallbacks.deselectAll=function(){t.treeElement.jstree("deselect_all")},t.editCallbacks.getNode=function(e){return t.treeElement.jstree("get_node",e)},t.editCallbacks.getParentNodeId=function(e){var n=t.treeElement.jstree("get_node",e);if(n)return t.treeElement.jstree("get_parent",n)},t.editCallbacks.openNode=function(e,n){var i=t.treeElement.jstree("get_node",e);i&&t.treeElement.jstree("open_node",i,n)},t.editCallbacks.nodeIsOpen=function(e){var n=t.treeElement.jstree("get_node",e);return!n||t.treeElement.jstree("is_open",n)},t.editCallbacks.nodeIsLoaded=function(e){var n=t.treeElement.jstree("get_node",e);return!n||t.treeElement.jstree("is_loaded",n)},t.editCallbacks.refreshNode=function(e){if("#"===e)t.treeElement.jstree("refresh"),t.treeElement.jstree("redraw");else{var n=t.treeElement.jstree("get_node",e);if(n){var i=t.treeElement.jstree("is_open",n);t.treeElement.jstree("refresh_node",n),t.treeElement.jstree("redraw"),n.children&&i&&t.treeElement.jstree("open_node",n)}}},t.editCallbacks.updateNode=function(e,n){var i=t.treeElement.jstree("get_node",e);i&&t.treeElement.jstree("rename_node",i,n)},t.editCallbacks.createNode=function(e,n,i){var r=t.treeElement.jstree("get_node",e);r&&t.treeElement.jstree("create_node",r,n,i)},t.editCallbacks.deleteNode=function(e){var n=t.treeElement.jstree("get_node",e);n&&t.treeElement.jstree("delete_node",n)},t.editCallbacks.disableNode=function(e){var n=t.treeElement.jstree("get_node",e);n&&t.treeElement.jstree("disable_node",n)},t.editCallbacks.enableNode=function(e){var n=t.treeElement.jstree("get_node",e);n&&t.treeElement.jstree("enable_node",n)},t.editCallbacks.setNodeHasChildren=function(e,n){var i=t.treeElement.jstree("get_node",e);i&&(!i.children||Array.isArray(i.children)&&!i.children.length)&&(i.children=n,i.state.loaded=!n,i.state.opened=!1,t.treeElement.jstree("_node_changed",i.id),t.treeElement.jstree("redraw"))},t.editCallbacks.search=function(e){t.treeElement.jstree("search",e)},t.editCallbacks.clearSearch=function(){t.treeElement.jstree("clear_search")})}))},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.NgZone))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-nav-tree"]],inputs:{enableSearch:"enableSearch",loadNodes:"loadNodes",searchCallback:"searchCallback",onNodeSelected:"onNodeSelected",onNodesInserted:"onNodesInserted",editCallbacks:"editCallbacks"},decls:1,vars:0,consts:[[1,"tb-nav-tree-container"]],template:function(e,t){1&e&&i["\u0275\u0275element"](0,"div",0)},styles:['.tb-nav-tree-container{padding:15px;font-family:Roboto,Helvetica Neue,sans-serif}.tb-nav-tree-container.jstree-proton-large .jstree-icon,.tb-nav-tree-container.jstree-proton-large .jstree-node,.tb-nav-tree-container.jstree-proton-small .jstree-icon,.tb-nav-tree-container.jstree-proton-small .jstree-node,.tb-nav-tree-container.jstree-proton .jstree-icon,.tb-nav-tree-container.jstree-proton .jstree-node{background-image:url(tb32px.b235808cfdb0a995153a.png)}.tb-nav-tree-container.jstree-proton-large .jstree-last,.tb-nav-tree-container.jstree-proton-small .jstree-last,.tb-nav-tree-container.jstree-proton .jstree-last{background:transparent}.tb-nav-tree-container.jstree-proton-large .jstree-themeicon-custom,.tb-nav-tree-container.jstree-proton-small .jstree-themeicon-custom,.tb-nav-tree-container.jstree-proton .jstree-themeicon-custom{background-image:none}.tb-nav-tree-container.jstree-proton .jstree-themeicon-custom.material-icons{font-size:18px}.tb-nav-tree-container.jstree-proton .jstree-anchor{font-size:16px}.tb-nav-tree-container.jstree-proton .jstree-file{background:url(tb32px.b235808cfdb0a995153a.png) -101px -69px no-repeat}.tb-nav-tree-container.jstree-proton .jstree-folder{background:url(tb32px.b235808cfdb0a995153a.png) -261px -5px no-repeat}.tb-nav-tree-container.jstree-proton-small .jstree-anchor,.tb-nav-tree-container.jstree-proton-small .jstree-themeicon-custom.material-icons{font-size:14px}.tb-nav-tree-container.jstree-proton-small .jstree-file{background:url(tb32px.b235808cfdb0a995153a.png) -103px -71px no-repeat}.tb-nav-tree-container.jstree-proton-small .jstree-folder{background:url(tb32px.b235808cfdb0a995153a.png) -263px -7px no-repeat}.tb-nav-tree-container.jstree-proton-large .jstree-themeicon-custom.material-icons{font-size:24px}.tb-nav-tree-container.jstree-proton-large .jstree-anchor{font-size:20px}.tb-nav-tree-container.jstree-proton-large .jstree-file{background:url(tb32px.b235808cfdb0a995153a.png) -96px -64px no-repeat}.tb-nav-tree-container.jstree-proton-large .jstree-folder{background:url(tb32px.b235808cfdb0a995153a.png) -256px 0 no-repeat}.tb-nav-tree-container a{border-bottom:none}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-user-group:before{content:"account_circle"}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-customer-group:before{content:"supervisor_account"}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-asset-group:before{content:"domain"}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-device-group:before{content:"devices_other"}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-entity-view-group:before{content:"view_quilt"}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-dashboard-group:before{content:"dashboard"}.tb-nav-tree-container a i.jstree-themeicon-custom.tb-customer:before{content:"supervisor_account"}#jstree-dnd.jstree-proton-large .jstree-er,#jstree-dnd.jstree-proton-large .jstree-ok,#jstree-dnd.jstree-proton-small .jstree-er,#jstree-dnd.jstree-proton-small .jstree-ok,#jstree-dnd.jstree-proton .jstree-er,#jstree-dnd.jstree-proton .jstree-ok{background-image:url(tb32px.b235808cfdb0a995153a.png)}@media (max-width:768px){.tb-nav-tree-container.jstree-proton-responsive .jstree-checkbox,.tb-nav-tree-container.jstree-proton-responsive .jstree-icon,.tb-nav-tree-container.jstree-proton-responsive .jstree-node,.tb-nav-tree-container.jstree-proton-responsive .jstree-node>.jstree-ocl,.tb-nav-tree-container.jstree-proton-responsive .jstree-themeicon{background-image:url(tb40px.4a7b4107b62ef059ba65.png);background-size:120px 240px}.tb-nav-tree-container.jstree-proton-responsive .jstree-container-ul{overflow:visible}.tb-nav-tree-container.jstree-proton-responsive .jstree-themeicon-custom{background-color:transparent;background-image:none;background-position:0 0}.tb-nav-tree-container.jstree-proton-responsive .jstree-themeicon-custom.material-icons{margin:0;font-size:24px}.tb-nav-tree-container.jstree-proton-responsive .jstree-leaf>.jstree-ocl,.tb-nav-tree-container.jstree-proton-responsive .jstree-node{background:0 0}.tb-nav-tree-container.jstree-proton-responsive .jstree-node{min-width:40px;min-height:40px;margin-left:40px;line-height:40px;white-space:nowrap;background-repeat:repeat-y;background-position:-80px 0}.tb-nav-tree-container.jstree-proton-responsive .jstree-last{background:0 0}.tb-nav-tree-container.jstree-proton-responsive .jstree-anchor{height:40px;font-size:1.1em;font-weight:700;line-height:40px;text-shadow:1px 1px #fff}.tb-nav-tree-container.jstree-proton-responsive .jstree-icon,.tb-nav-tree-container.jstree-proton-responsive .jstree-icon:empty{width:40px;height:40px;line-height:40px}.tb-nav-tree-container.jstree-proton-responsive>.jstree-container-ul>.jstree-node{margin-right:0;margin-left:0}.tb-nav-tree-container.jstree-proton-responsive .jstree-checkbox,.tb-nav-tree-container.jstree-proton-responsive .jstree-ocl,.tb-nav-tree-container.jstree-proton-responsive .jstree-themeicon{background-size:120px 240px}.tb-nav-tree-container.jstree-proton-responsive .jstree-leaf>.jstree-ocl{background-position:-40px -120px}.tb-nav-tree-container.jstree-proton-responsive .jstree-last>.jstree-ocl{background-position:-40px -160px}.tb-nav-tree-container.jstree-proton-responsive .jstree-open>.jstree-ocl{background-position:0 0!important}.tb-nav-tree-container.jstree-proton-responsive .jstree-closed>.jstree-ocl{background-position:0 -40px!important}.tb-nav-tree-container.jstree-proton-responsive .jstree-themeicon{background-position:-40px -40px}.tb-nav-tree-container.jstree-proton-responsive .jstree-file{background:url(tb40px.4a7b4107b62ef059ba65.png) 0 -160px no-repeat;background-size:120px 240px}.tb-nav-tree-container.jstree-proton-responsive .jstree-folder{background:url(tb40px.4a7b4107b62ef059ba65.png) -40px -40px no-repeat;background-size:120px 240px}.tb-nav-tree-container.jstree-proton-responsive .jstree-checkbox,.tb-nav-tree-container.jstree-proton-responsive .jstree-checkbox:hover{background-position:-40px -80px}.tb-nav-tree-container.jstree-proton-responsive.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox,.tb-nav-tree-container.jstree-proton-responsive.jstree-checkbox-selection .jstree-clicked>.jstree-checkbox:hover,.tb-nav-tree-container.jstree-proton-responsive .jstree-checked>.jstree-checkbox,.tb-nav-tree-container.jstree-proton-responsive .jstree-checked>.jstree-checkbox:hover{background-position:0 -80px}.tb-nav-tree-container.jstree-proton-responsive .jstree-anchor>.jstree-undetermined,.tb-nav-tree-container.jstree-proton-responsive .jstree-anchor>.jstree-undetermined:hover{background-position:0 -120px}.tb-nav-tree-container.jstree-proton-responsive .jstree-striped{background:0 0}.tb-nav-tree-container.jstree-proton-responsive .jstree-wholerow{height:40px;background:#ebebeb;border-top:1px solid hsla(0,0%,100%,.7);border-bottom:1px solid rgba(64,64,64,.2)}.tb-nav-tree-container.jstree-proton-responsive .jstree-wholerow-hovered{background:#e7f4f9}.tb-nav-tree-container.jstree-proton-responsive .jstree-wholerow-clicked{background:#beebff}.tb-nav-tree-container.jstree-proton-responsive .jstree-children .jstree-last>.jstree-wholerow{box-shadow:inset 0 -6px 3px -5px #666}.tb-nav-tree-container.jstree-proton-responsive .jstree-children .jstree-open>.jstree-wholerow{border-top:0;box-shadow:inset 0 6px 3px -5px #666}.tb-nav-tree-container.jstree-proton-responsive .jstree-children .jstree-open+.jstree-open{box-shadow:none}.tb-nav-tree-container.jstree-proton-responsive.jstree-rtl .jstree-node{margin-right:40px;margin-left:0}.tb-nav-tree-container.jstree-proton-responsive.jstree-rtl .jstree-container-ul>.jstree-node{margin-right:0}.tb-nav-tree-container.jstree-proton-responsive.jstree-rtl .jstree-closed>.jstree-ocl{background-position:-40px 0!important}}@media (max-width:768px){#jstree-dnd.jstree-dnd-responsive .jstree-er,#jstree-dnd.jstree-dnd-responsive .jstree-ok{background-image:url(tb40px.4a7b4107b62ef059ba65.png);background-size:120px 240px}#jstree-dnd.jstree-dnd-responsive .jstree-ok{background-position:0 -200px}#jstree-dnd.jstree-dnd-responsive .jstree-er{background-position:-40px -200px}}.tb-nav-tree .mat-button.tb-active{font-weight:500;background-color:hsla(0,0%,100%,.15)}.tb-nav-tree,.tb-nav-tree ul{margin-top:0;list-style:none}.tb-nav-tree:first-child,.tb-nav-tree ul:first-child{padding:0}.tb-nav-tree li .mat-button,.tb-nav-tree ul li .mat-button{width:100%;max-height:40px;padding:0 16px;margin:0;overflow:hidden;line-height:40px;color:inherit;text-align:left;text-decoration:none;text-overflow:ellipsis;text-transform:none;text-rendering:optimizeLegibility;white-space:nowrap;cursor:pointer;border-radius:0}.tb-nav-tree li .mat-button span,.tb-nav-tree ul li .mat-button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}'],encapsulation:2}),t}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Component,args:[{selector:"tb-nav-tree",templateUrl:"./nav-tree.component.html",styleUrls:["./nav-tree.component.scss"],encapsulation:i.ViewEncapsulation.None}]}],(function(){return[{type:i.ElementRef},{type:i.NgZone}]}),{enableSearch:[{type:i.Input}],loadNodes:[{type:i.Input}],searchCallback:[{type:i.Input}],onNodeSelected:[{type:i.Input}],onNodesInserted:[{type:i.Input}],editCallbacks:[{type:i.Input}]})}()}).call(this,n("xexB"))},NXKV:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),r=n("pLZG"),a=n("AytR"),o=n("sYmb"),s=n("jhN1"),l=function(){function e(e,t){this.translate=e,this.title=t}return e.prototype.setTitle=function(e,t){for(var n=this,i=e;i.children.length;)i=i.children[0];var o=i.data.title,s=t||this.translate;o?s.get(o).pipe(Object(r.a)((function(e){return e!==o}))).subscribe((function(e){return n.title.setTitle(a.a.appTitle+" | "+e)})):this.title.setTitle(a.a.appTitle)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.TranslateService),i["\u0275\u0275inject"](s.Title))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](l,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:o.TranslateService},{type:s.Title}]}),null)}()},Nyw1:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("l7P3"),r=n("IzEk"),a=Object(i.createFeatureSelector)("load"),o=(Object(i.createSelector)(a,(function(e){return e})),Object(i.createSelector)(a,(function(e){return e.isLoading})));function s(e){var t;return e.pipe(Object(i.select)(o),Object(r.a)(1)).subscribe((function(e){return t=e})),t}},OCOE:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),r=n("ofXK"),a=n("z6cu"),o=n("jtHE"),s=n("cp0P"),l=n("tk/3"),c=function(){function e(e,t,n,i){this.document=e,this.compiler=t,this.http=n,this.injector=i,this.loadedResources={},this.loadedModules={},this.loadedFactories={},this.anchor=this.document.getElementsByTagName("head")[0]||this.document.getElementsByTagName("body")[0]}return e.prototype.loadResource=function(e){if(this.loadedResources[e])return this.loadedResources[e].asObservable();var t,n=/[./](css|less|html|htm|js)?(([?#]).*)?$/.exec(e);return null!==n&&(t=n[1]),t?"css"!==t&&"js"!==t?Object(a.a)(new Error("Unsupported file type: "+t)):this.loadResourceByType(t,e):Object(a.a)(new Error("Unable to detect file type from url: "+e))},e.prototype.loadFactories=function(e,t){var i=this;if(this.loadedFactories[e])return this.loadedFactories[e].asObservable();var r=new o.a;if(this.loadedFactories[e]=r,t)for(var a=0,l=Object.keys(t);a<l.length;a++){var c=l[a];SystemJS.set(c,t[c])}return SystemJS.import(e).then((function(t){var r=i.extractNgModules(t);r.length?n.e(4).then(n.bind(null,"1uSB")).then((function(){for(var t=[],n=0,a=r;n<a.length;n++){var o=a[n];t.push(i.compiler.compileModuleAndAllComponentsAsync(o))}Object(s.a)(t).subscribe((function(t){try{for(var n=[],r=0,a=t;r<a.length;r++){var o=a[r];o.ngModuleFactory.create(i.injector),n.push.apply(n,o.componentFactories)}i.loadedFactories[e].next(n),i.loadedFactories[e].complete()}catch(s){i.loadedFactories[e].error(new Error("Unable to init module from url: "+e)),delete i.loadedFactories[e]}}),(function(t){i.loadedFactories[e].error(new Error("Unable to compile module from url: "+e)),delete i.loadedFactories[e]}))})):(i.loadedFactories[e].error(new Error("Module '"+e+"' doesn't have default export!")),delete i.loadedFactories[e])}),(function(t){i.loadedFactories[e].error(new Error("Unable to load module from url: "+e)),delete i.loadedFactories[e]})),r.asObservable()},e.prototype.loadModules=function(e,t){var i=this;if(this.loadedModules[e])return this.loadedModules[e].asObservable();var r=new o.a;if(this.loadedModules[e]=r,t)for(var a=0,l=Object.keys(t);a<l.length;a++){var c=l[a];SystemJS.set(c,t[c])}return SystemJS.import(e).then((function(t){try{var r;try{r=i.extractNgModules(t)}catch(a){}r&&r.length?n.e(4).then(n.bind(null,"1uSB")).then((function(){for(var t=[],n=0,o=r;n<o.length;n++){var l=o[n];t.push(i.compiler.compileModuleAndAllComponentsAsync(l))}Object(s.a)(t).subscribe((function(t){try{for(var n=0,o=t;n<o.length;n++){o[n].ngModuleFactory.create(i.injector)}i.loadedModules[e].next(r),i.loadedModules[e].complete()}catch(a){i.loadedModules[e].error(new Error("Unable to init module from url: "+e)),delete i.loadedModules[e]}}),(function(t){i.loadedModules[e].error(new Error("Unable to compile module from url: "+e)),delete i.loadedModules[e]}))})):(i.loadedModules[e].error(new Error("Module '"+e+"' doesn't have default export or not NgModule!")),delete i.loadedModules[e])}catch(a){i.loadedModules[e].error(new Error("Unable to load module from url: "+e)),delete i.loadedModules[e]}}),(function(t){i.loadedModules[e].error(new Error("Unable to load module from url: "+e)),delete i.loadedModules[e]})),r.asObservable()},e.prototype.extractNgModules=function(e,t){if(void 0===t&&(t=[]),e&&"\u0275mod"in e)t.push(e);else for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];this.extractNgModules(e[r],t)}return t},e.prototype.loadResourceByType=function(e,t){var n,i=this,r=new o.a;this.loadedResources[t]=r;var a=!1;switch(e){case"js":(n=this.document.createElement("script")).type="text/javascript",n.async=!0,n.src=t;break;case"css":(n=this.document.createElement("link")).type="text/css",n.rel="stylesheet",n.href=t}return n.onload=n.onreadystatechange=function(e){n.readyState&&!/^c|loade/.test(n.readyState)||a||(n.onload=n.onreadystatechange=null,a=!0,i.loadedResources[t].next(),i.loadedResources[t].complete())},n.onerror=function(){i.loadedResources[t].error(new Error("Unable to load "+t)),delete i.loadedResources[t]},this.anchor.appendChild(n),r.asObservable()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](l.b),i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](c,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:i.Inject,args:[r.DOCUMENT]}]},{type:i.Compiler},{type:l.b},{type:i.Injector}]}),null)}()},OiFK:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));for(var i=n("fXoL"),r=n("wtyh"),a=n("//Q6"),o=n("he9t"),s=n("0lYY"),l=n("U3y+"),c=n("3Tyt"),u=n("UZbx"),p=n("7dgu"),d=n("gnU6"),m=n.n(d),f=n("u6cx"),h=n("LRne"),y=n("jtHE"),g=n("sYmb"),b=new RegExp("{"+o.i+":[^{}]+}","g"),v={Sin:"return Math.round(1000*Math.sin(time/5000));",Cos:"return Math.round(1000*Math.cos(time/5000));",Random:"var value = prevValue + Math.random() * 100 - 50;\nvar multiplier = Math.pow(10, 2 || 0);\nvar value = Math.round(value * multiplier) / multiplier;\nif (value < -1000) {\n\tvalue = -1000;\n} else if (value > 1000) {\n\tvalue = 1000;\n}\nreturn value;"},C=[],E=0,T=Object.keys(v);E<T.length;E++){var S=T[E];C.push(S)}var w=[u.e.createdTime.keyName,u.e.originator.keyName,u.e.type.keyName,u.e.severity.keyName,u.e.status.keyName],M=["more_horiz","more_vert","open_in_new","visibility","play_arrow","arrow_back","arrow_downward","arrow_forward","arrow_upwards","close","refresh","menu","show_chart","multiline_chart","pie_chart","insert_chart","people","person","domain","devices_other","now_widgets","dashboards","map","pin_drop","my_location","extension","search","settings","notifications","notifications_active","info","info_outline","warning","list","file_download","import_export","share","add","edit","done"],O=function(){function e(e,t,n){this.window=e,this.zone=t,this.translate=n,this.iframeMode=!1,this.widgetEditMode=!1,this.editWidgetInfo=null,this.defaultDataKey={name:"f(x)",type:c.h.function,label:"Sin",color:this.getMaterialColor(0),funcBody:this.getPredefinedFunctionBody("Sin"),settings:{},_hash:Math.random()},this.defaultDatasource={type:s.a.function,name:s.a.function,dataKeys:[Object(a.e)(this.defaultDataKey)]},this.defaultAlarmDataKeys=[],this.materialIcons=[];var i=null;try{i=e.frameElement}catch(o){}if(i){this.iframeMode=!0;var r=i.getAttribute("data-widget");r&&r.length&&(this.editWidgetInfo=JSON.parse(r),this.widgetEditMode=!0)}}return e.prototype.getPredefinedFunctionsList=function(){return C},e.prototype.getPredefinedFunctionBody=function(e){return v[e]},e.prototype.getDefaultDatasource=function(e){var t=Object(a.e)(this.defaultDatasource);return Object(a.n)(e)&&(t.dataKeys[0].settings=this.generateObjectFromJsonSchema(e)),t},e.prototype.initDefaultAlarmDataKeys=function(){for(var e=0;e<w.length;e++){var t=w[e],n={name:t,type:c.h.alarm,label:this.translate.instant(u.e[t].name),color:this.getMaterialColor(e),settings:{},_hash:Math.random()};this.defaultAlarmDataKeys.push(n)}},e.prototype.getDefaultAlarmDataKeys=function(){return this.defaultAlarmDataKeys.length||this.initDefaultAlarmDataKeys(),Object(a.e)(this.defaultAlarmDataKeys)},e.prototype.generateObjectFromJsonSchema=function(e){var t=m()(e);return Object(a.g)(t),t},e.prototype.processWidgetException=function(e){var t=this.parseException(e,-6);if(this.widgetEditMode){var n={type:"widgetException",data:t};this.window.parent.postMessage(JSON.stringify(n),"*")}return t},e.prototype.parseException=function(e,t){var n={};if(e)if("string"==typeof e)n.message=e;else if(e instanceof String)n.message=e.toString();else if(e.name?n.name=e.name:n.name="UnknownError",e.message&&(n.message=e.message),e.lineNumber)n.lineNumber=e.lineNumber,e.columnNumber&&(n.columnNumber=e.columnNumber);else if(e.stack){var i=/(.*<anonymous>):(\d*)(:)?(\d*)?/g.exec(e.stack);null!=i&&i.length>=3&&(Object(a.z)(t)&&(t=-2),n.lineNumber=Number(i[2])+t,i.length>=5&&(n.columnNumber=Number(i[4])))}return n},e.prototype.customTranslation=function(e,t){if(e&&Object(a.y)(e)){if(e.includes("{"+o.i)){for(var n=e.match(b),i=e,r=0,s=n;r<s.length;r++){var l=s[r],c=l.substring(6,l.length-1);i=i.replace(l,this.doTranslate(c,l))}return i}return this.doTranslate(e,t,o.h)}return e},e.prototype.doTranslate=function(e,t,n){var i;i=n?n+e:e;var r=this.translate.instant(i);return r!==i?r+"":t},e.prototype.guid=function(){return Object(a.k)()},e.prototype.validateDatasources=function(e){return e.forEach((function(e){"device"===e.type&&(e.type=s.a.entity,e.entityType=l.b.DEVICE,e.deviceId?e.entityId=e.deviceId:e.deviceAliasId&&(e.entityAliasId=e.deviceAliasId),e.deviceName&&(e.entityName=e.deviceName)),e.type===s.a.entity&&e.entityId&&(e.name=e.entityName),e.dataKeys||(e.dataKeys=[])})),e},e.prototype.getMaterialIcons=function(){var e=this;if(this.materialIcons.length)return Object(h.a)(this.materialIcons);var t=new y.a;return this.zone.runOutsideAngular((function(){f.a.split("\n").filter((function(e){return e&&e.length})).forEach((function(t){var n=t.split(" ");n&&2===n.length&&e.materialIcons.push(n[0])})),t.next(e.materialIcons)})),t.asObservable()},e.prototype.getCommonMaterialIcons=function(){return M},e.prototype.getMaterialColor=function(e){var t=e%p.b.length;return p.b[t].value},e.prototype.createKey=function(e,t,n){var i;if(void 0===n&&(n=-1),t===c.h.alarm&&!e.label){var r=u.e[e.name];r&&(i=this.translate.instant(r.name))}i||(i=e.label||e.name);var o={name:e.name,type:t,label:i,funcBody:e.funcBody,settings:{},_hash:Math.random()};return e.units&&(o.units=e.units),Object(a.n)(e.decimals)&&(o.decimals=e.decimals),e.color?o.color=e.color:n>-1&&(o.color=this.getMaterialColor(n)),e.postFuncBody&&e.postFuncBody.length&&(o.usePostProcessing=!0,o.postFuncBody=e.postFuncBody),o},e.prototype.createLabelFromDatasource=function(e,t){return Object(a.d)(e,t)},e.prototype.generateColors=function(e){var t=this,n=0;e.forEach((function(e){e.dataKeys.forEach((function(e){e.color||(e.color=t.getMaterialColor(n)),n++}))}))},e.prototype.currentPerfTime=function(){return this.window.performance&&this.window.performance.now?this.window.performance.now():Date.now()},e.prototype.getQueryParam=function(e){var t=this.window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e.prototype.updateQueryParam=function(e,t){var n=[Object(a.c)(),this.window.location.pathname].join(""),i=this.window.location.search,r="",o="";if(null!==t&&(r=e+"="+t),i){var s=new RegExp("([?&])"+e+"[^&]*");null!==i.match(s)?(r&&(r="$1"+r),o=i.replace(s,r)):r&&(o=i+"&"+r)}else r&&(o="?"+r);this.window.history.replaceState({},"",n+o)},e.prototype.baseUrl=function(){return Object(a.c)()},e.prototype.deepClone=function(e,t){return Object(a.e)(e,t)},e.prototype.isUndefined=function(e){return Object(a.z)(e)},e.prototype.isDefined=function(e){return Object(a.n)(e)},e.prototype.defaultValue=function(e,t){return Object(a.o)(e)?e:t},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.b),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](g.TranslateService))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](O,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:Window,decorators:[{type:i.Inject,args:[r.b]}]},{type:i.NgZone},{type:g.TranslateService}]}),null)}()},PCNd:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ot}));var i=n("fXoL"),r=n("ofXK"),a=n("HlBW"),o=n("1wU7"),s=n("rezs"),l=n("HKgb"),c=n("3TNn"),u=n("/Vd+"),p=n("68fv"),d=n.n(p),m=n("/1cH"),f=n("bTqV"),h=n("Wp6s"),y=n("bSwM"),g=n("A5z7"),b=n("iadO"),v=n("0IaG"),C=n("f0Cb"),E=n("7EHt"),T=n("zkoq"),S=n("NFeN"),w=n("qFsG"),M=n("STbY"),O=n("M9IT"),I=n("bv9b"),x=n("Xa2L"),j=n("QibW"),A=n("d3UM"),R=n("XhcP"),N=n("1jcm"),k=n("5RNC"),P=n("dNgK"),_=n("Dh3D"),V=n("xHqg"),F=n("+0xr"),L=n("wZkO"),D=n("/t3+"),U=n("Qu3c"),B=n("MutI"),G=n("xoCY"),q=n("YhS8"),z=n("Ljk9"),H=n("YUcS"),W=n("3Pt+"),Y=n("tyNb"),K=n("iQdX"),Q=n("yl57"),X=n("R9Cn"),J=n("joFe"),$=n("efJA"),Z=n("Ki3a"),ee=n("sYmb"),te=n("Ww7o"),ne=n("kRCp"),ie=n("HnHJ"),re=n("z36O"),ae=n("k81w"),oe=n("rDax"),se=n("j+T/"),le=n("Bwpe"),ce=n("/NrD"),ue=n("fjw6"),pe=n("Dvla"),de=n("4t+N"),me=n("8m5z"),fe=n("d5eY"),he=n("XMqU"),ye=n("6XAR"),ge=n("4bh6"),be=n("TSBb"),ve=n("EdYI"),Ce=n("8lD5"),Ee=n("89S7"),Te=n("gl+N"),Se=n("rhBB"),we=n("5yRj"),Me=n("IVsW"),Oe=n("91Tk"),Ie=n("H3So"),xe=n("8RXW"),je=n("sjz8"),Ae=n("Rf0i"),Re=n("7qoW"),Ne=n("uxh+"),ke=n("KEZ6"),Pe=n("EbnC"),_e=n("0Miz"),Ve=n("wU4P"),Fe=n("16lU"),Le=n("T4sd"),De=n("WKhm"),Ue=n("VYz+"),Be=n("2+wj"),Ge=n("nii4"),qe=n("yAAm"),ze=n("RQSP"),He=n("oXES"),We=n("jXr5"),Ye=n("ikDa"),Ke=n("SReA"),Qe=n("jy/V"),Xe=n("0HhY"),Je=n("XGqO"),$e=n("nfcV"),Ze=n("aiIW"),et=n("E9wx"),tt=n("FEiE"),nt=n("WEPN"),it=n("49Ji"),rt=n("NOb7"),at=n("B8ns"),ot=n("ZI//"),st=n("HeHW"),lt=n("dUlv"),ct=n("4Th+"),ut=n("+C6U"),pt=n("5U8l"),dt=n("hwpn"),mt=n("pd1A"),ft=n("9DSm"),ht=n("bdDX"),yt=n("uKK+"),gt=n("zhJb"),bt=n("cH1L"),vt=n("ihCf"),Ct=n("kmnG"),Et=n("vxfF"),Tt=n("FKr1"),St=n("XiUz"),wt=n("znSr"),Mt=n("zpSk"),Ot=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[r.DatePipe,re.a,ue.a,fe.a,Le.a,De.a,ft.a,{provide:c.d,useValue:d.a}],imports:[[r.CommonModule,Y.RouterModule,ee.TranslateModule,f.MatButtonModule,y.MatCheckboxModule,S.MatIconModule,h.MatCardModule,I.MatProgressBarModule,w.MatInputModule,P.MatSnackBarModule,R.MatSidenavModule,D.MatToolbarModule,M.MatMenuModule,T.MatGridListModule,v.MatDialogModule,A.MatSelectModule,U.MatTooltipModule,F.MatTableModule,O.MatPaginatorModule,_.MatSortModule,x.MatProgressSpinnerModule,C.MatDividerModule,L.MatTabsModule,j.MatRadioModule,N.MatSlideToggleModule,b.MatDatepickerModule,G.k,G.g,q.c.forRoot(),k.MatSliderModule,E.MatExpansionModule,V.MatStepperModule,m.MatAutocompleteModule,g.MatChipsModule,B.MatListModule,z.d,pe.c,H.FlexLayoutModule.withConfig({addFlexToParent:!1}),W.FormsModule,W.ReactiveFormsModule,oe.OverlayModule,K.b,Q.b,X.b,J.d,ut.e,c.e,u.h],f.MatButtonModule,y.MatCheckboxModule,S.MatIconModule,h.MatCardModule,I.MatProgressBarModule,w.MatInputModule,P.MatSnackBarModule,R.MatSidenavModule,D.MatToolbarModule,M.MatMenuModule,T.MatGridListModule,v.MatDialogModule,A.MatSelectModule,U.MatTooltipModule,F.MatTableModule,O.MatPaginatorModule,_.MatSortModule,x.MatProgressSpinnerModule,C.MatDividerModule,L.MatTabsModule,j.MatRadioModule,N.MatSlideToggleModule,b.MatDatepickerModule,G.k,G.g,q.c,k.MatSliderModule,E.MatExpansionModule,V.MatStepperModule,m.MatAutocompleteModule,g.MatChipsModule,B.MatListModule,z.d,pe.c,H.FlexLayoutModule,W.FormsModule,W.ReactiveFormsModule,oe.OverlayModule,K.b,Q.b,X.b,J.d,ut.e,u.h,ee.TranslateModule]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Ot,{declarations:[a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,s.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,Re.b,ce.a,Te.a,mt.a,de.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,Z.a,re.a,ue.a,fe.a,Le.a,De.a,ft.a,yt.a,Pe.a,ot.a,st.a,lt.a,ct.a,dt.a,ht.a],imports:[r.CommonModule,Y.RouterModule,ee.TranslateModule,f.MatButtonModule,y.MatCheckboxModule,S.MatIconModule,h.MatCardModule,I.MatProgressBarModule,w.MatInputModule,P.MatSnackBarModule,R.MatSidenavModule,D.MatToolbarModule,M.MatMenuModule,T.MatGridListModule,v.MatDialogModule,A.MatSelectModule,U.MatTooltipModule,F.MatTableModule,O.MatPaginatorModule,_.MatSortModule,x.MatProgressSpinnerModule,C.MatDividerModule,L.MatTabsModule,j.MatRadioModule,N.MatSlideToggleModule,b.MatDatepickerModule,G.k,G.g,q.c,k.MatSliderModule,E.MatExpansionModule,V.MatStepperModule,m.MatAutocompleteModule,g.MatChipsModule,B.MatListModule,z.d,pe.c,H.FlexLayoutModule,W.FormsModule,W.ReactiveFormsModule,oe.OverlayModule,K.b,Q.b,X.b,J.d,ut.e,c.e,u.h],exports:[a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,ce.a,Te.a,mt.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,de.a,f.MatButtonModule,y.MatCheckboxModule,S.MatIconModule,h.MatCardModule,I.MatProgressBarModule,w.MatInputModule,P.MatSnackBarModule,R.MatSidenavModule,D.MatToolbarModule,M.MatMenuModule,T.MatGridListModule,v.MatDialogModule,A.MatSelectModule,U.MatTooltipModule,F.MatTableModule,O.MatPaginatorModule,_.MatSortModule,x.MatProgressSpinnerModule,C.MatDividerModule,L.MatTabsModule,j.MatRadioModule,N.MatSlideToggleModule,b.MatDatepickerModule,G.k,G.g,q.c,k.MatSliderModule,E.MatExpansionModule,V.MatStepperModule,m.MatAutocompleteModule,g.MatChipsModule,B.MatListModule,z.d,pe.c,H.FlexLayoutModule,W.FormsModule,W.ReactiveFormsModule,oe.OverlayModule,K.b,Q.b,X.b,J.d,ut.e,u.h,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,Z.a,re.a,ue.a,fe.a,Le.a,De.a,Pe.a,ft.a,yt.a,ee.TranslateModule,st.a,lt.a,ct.a,dt.a,ht.a]})),i["\u0275\u0275setComponentScope"](se.b,[r.NgClass,r.NgComponentOutlet,r.NgForOf,r.NgIf,r.NgTemplateOutlet,r.NgStyle,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,r.NgPlural,r.NgPluralCase,Y.RouterOutlet,Y.RouterLink,Y.RouterLinkWithHref,Y.RouterLinkActive,Y["\u0275angular_packages_router_router_l"],ee.TranslateDirective,f.MatButton,f.MatAnchor,bt.b,y.MatCheckbox,y.MatCheckboxRequiredValidator,S.MatIcon,h.MatCard,h.MatCardHeader,h.MatCardTitleGroup,h.MatCardContent,h.MatCardTitle,h.MatCardSubtitle,h.MatCardActions,h.MatCardFooter,h.MatCardSmImage,h.MatCardMdImage,h.MatCardLgImage,h.MatCardImage,h.MatCardXlImage,h.MatCardAvatar,I.MatProgressBar,vt.b,vt.c,Ct.MatError,Ct.MatFormField,Ct.MatHint,Ct.MatLabel,Ct.MatPlaceholder,Ct.MatPrefix,Ct.MatSuffix,w.MatInput,w.MatTextareaAutosize,P.MatSnackBarContainer,Et.b,R.MatDrawer,R.MatDrawerContainer,R.MatDrawerContent,R.MatSidenav,R.MatSidenavContainer,R.MatSidenavContent,D.MatToolbar,D.MatToolbarRow,M._MatMenu,M.MatMenuItem,M.MatMenuTrigger,M.MatMenuContent,T.MatGridList,T.MatGridTile,T.MatGridTileText,Tt.MatLine,T.MatGridTileHeaderCssMatStyler,T.MatGridTileFooterCssMatStyler,T.MatGridAvatarCssMatStyler,v.MatDialogContainer,v.MatDialogClose,v.MatDialogTitle,v.MatDialogContent,v.MatDialogActions,A.MatSelect,A.MatSelectTrigger,Tt.MatOption,Tt.MatOptgroup,U.MatTooltip,U.TooltipComponent,F.MatTable,F.MatHeaderCellDef,F.MatHeaderRowDef,F.MatColumnDef,F.MatCellDef,F.MatRowDef,F.MatFooterCellDef,F.MatFooterRowDef,F.MatHeaderCell,F.MatCell,F.MatFooterCell,F.MatHeaderRow,F.MatRow,F.MatFooterRow,F.MatNoDataRow,F.MatTextColumn,O.MatPaginator,_.MatSort,_.MatSortHeader,x.MatProgressSpinner,x.MatSpinner,C.MatDivider,L.MatTabGroup,L.MatTabLabel,L.MatTab,L.MatTabNav,L.MatTabLink,L.MatTabContent,j.MatRadioGroup,j.MatRadioButton,N.MatSlideToggleRequiredValidator,N.MatSlideToggle,b.MatCalendar,b.MatCalendarBody,b.MatDatepicker,b.MatDatepickerContent,b.MatDatepickerInput,b.MatDatepickerToggle,b.MatDatepickerToggleIcon,b.MatMonthView,b.MatYearView,b.MatMultiYearView,b.MatCalendarHeader,b.MatDateRangeInput,b.MatStartDate,b.MatEndDate,b.MatDateRangePicker,G.b,G.c,G.d,G.a,G.i,G.f,G.e,G.h,G.j,G.l,q.a,q.b,k.MatSlider,E.MatAccordion,E.MatExpansionPanel,E.MatExpansionPanelActionRow,E.MatExpansionPanelHeader,E.MatExpansionPanelTitle,E.MatExpansionPanelDescription,E.MatExpansionPanelContent,V.MatHorizontalStepper,V.MatVerticalStepper,V.MatStep,V.MatStepLabel,V.MatStepper,V.MatStepperNext,V.MatStepperPrevious,V.MatStepHeader,V.MatStepperIcon,m.MatAutocomplete,m.MatAutocompleteTrigger,m.MatAutocompleteOrigin,g.MatChipList,g.MatChip,g.MatChipInput,g.MatChipRemove,g.MatChipAvatar,g.MatChipTrailingIcon,B.MatList,B.MatNavList,B.MatListItem,B.MatListAvatarCssMatStyler,B.MatListIconCssMatStyler,B.MatListSubheaderCssMatStyler,Tt.MatPseudoCheckbox,B.MatSelectionList,B.MatListOption,z.b,z.c,pe.a,pe.b,St.f,St.g,St.e,St.d,St.c,St.k,St.a,St.b,wt.d,wt.b,wt.e,wt.c,Mt.k,Mt.n,Mt.q,Mt.t,Mt.w,Mt.z,Mt.C,Mt.F,Mt.d,Mt.g,Mt.j,W["\u0275angular_packages_forms_forms_y"],W.NgSelectOption,W["\u0275angular_packages_forms_forms_x"],W.DefaultValueAccessor,W.NumberValueAccessor,W.RangeValueAccessor,W.CheckboxControlValueAccessor,W.SelectControlValueAccessor,W.SelectMultipleControlValueAccessor,W.RadioControlValueAccessor,W.NgControlStatus,W.NgControlStatusGroup,W.RequiredValidator,W.MinLengthValidator,W.MaxLengthValidator,W.PatternValidator,W.CheckboxRequiredValidator,W.EmailValidator,W.NgModel,W.NgModelGroup,W.NgForm,W.FormControlDirective,W.FormGroupDirective,W.FormControlName,W.FormGroupName,W.FormArrayName,oe.CdkConnectedOverlay,oe.CdkOverlayOrigin,Et.a,Et.d,Et.e,K.a,Q.d,Q.c,X.a,J.a,J.b,J.c,ut.b,ut.c,ut.d,ut.f,ut.a,c.a,c.f,c.b,c.c,u.g,u.d,u.c,u.a,a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,s.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,Re.b,ce.a,Te.a,mt.a,de.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,ot.a,st.a,lt.a,ct.a,dt.a,ht.a],[r.AsyncPipe,r.UpperCasePipe,r.LowerCasePipe,r.JsonPipe,r.SlicePipe,r.DecimalPipe,r.PercentPipe,r.TitleCasePipe,r.CurrencyPipe,r.DatePipe,r.I18nPluralPipe,r.I18nSelectPipe,r.KeyValuePipe,ee.TranslatePipe,Z.a,re.a,ue.a,fe.a,Le.a,De.a,ft.a,yt.a,Pe.a]),i["\u0275\u0275setComponentScope"](Ee.a,[r.NgClass,r.NgComponentOutlet,r.NgForOf,r.NgIf,r.NgTemplateOutlet,r.NgStyle,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,r.NgPlural,r.NgPluralCase,Y.RouterOutlet,Y.RouterLink,Y.RouterLinkWithHref,Y.RouterLinkActive,Y["\u0275angular_packages_router_router_l"],ee.TranslateDirective,f.MatButton,f.MatAnchor,bt.b,y.MatCheckbox,y.MatCheckboxRequiredValidator,S.MatIcon,h.MatCard,h.MatCardHeader,h.MatCardTitleGroup,h.MatCardContent,h.MatCardTitle,h.MatCardSubtitle,h.MatCardActions,h.MatCardFooter,h.MatCardSmImage,h.MatCardMdImage,h.MatCardLgImage,h.MatCardImage,h.MatCardXlImage,h.MatCardAvatar,I.MatProgressBar,vt.b,vt.c,Ct.MatError,Ct.MatFormField,Ct.MatHint,Ct.MatLabel,Ct.MatPlaceholder,Ct.MatPrefix,Ct.MatSuffix,w.MatInput,w.MatTextareaAutosize,P.MatSnackBarContainer,Et.b,R.MatDrawer,R.MatDrawerContainer,R.MatDrawerContent,R.MatSidenav,R.MatSidenavContainer,R.MatSidenavContent,D.MatToolbar,D.MatToolbarRow,M._MatMenu,M.MatMenuItem,M.MatMenuTrigger,M.MatMenuContent,T.MatGridList,T.MatGridTile,T.MatGridTileText,Tt.MatLine,T.MatGridTileHeaderCssMatStyler,T.MatGridTileFooterCssMatStyler,T.MatGridAvatarCssMatStyler,v.MatDialogContainer,v.MatDialogClose,v.MatDialogTitle,v.MatDialogContent,v.MatDialogActions,A.MatSelect,A.MatSelectTrigger,Tt.MatOption,Tt.MatOptgroup,U.MatTooltip,U.TooltipComponent,F.MatTable,F.MatHeaderCellDef,F.MatHeaderRowDef,F.MatColumnDef,F.MatCellDef,F.MatRowDef,F.MatFooterCellDef,F.MatFooterRowDef,F.MatHeaderCell,F.MatCell,F.MatFooterCell,F.MatHeaderRow,F.MatRow,F.MatFooterRow,F.MatNoDataRow,F.MatTextColumn,O.MatPaginator,_.MatSort,_.MatSortHeader,x.MatProgressSpinner,x.MatSpinner,C.MatDivider,L.MatTabGroup,L.MatTabLabel,L.MatTab,L.MatTabNav,L.MatTabLink,L.MatTabContent,j.MatRadioGroup,j.MatRadioButton,N.MatSlideToggleRequiredValidator,N.MatSlideToggle,b.MatCalendar,b.MatCalendarBody,b.MatDatepicker,b.MatDatepickerContent,b.MatDatepickerInput,b.MatDatepickerToggle,b.MatDatepickerToggleIcon,b.MatMonthView,b.MatYearView,b.MatMultiYearView,b.MatCalendarHeader,b.MatDateRangeInput,b.MatStartDate,b.MatEndDate,b.MatDateRangePicker,G.b,G.c,G.d,G.a,G.i,G.f,G.e,G.h,G.j,G.l,q.a,q.b,k.MatSlider,E.MatAccordion,E.MatExpansionPanel,E.MatExpansionPanelActionRow,E.MatExpansionPanelHeader,E.MatExpansionPanelTitle,E.MatExpansionPanelDescription,E.MatExpansionPanelContent,V.MatHorizontalStepper,V.MatVerticalStepper,V.MatStep,V.MatStepLabel,V.MatStepper,V.MatStepperNext,V.MatStepperPrevious,V.MatStepHeader,V.MatStepperIcon,m.MatAutocomplete,m.MatAutocompleteTrigger,m.MatAutocompleteOrigin,g.MatChipList,g.MatChip,g.MatChipInput,g.MatChipRemove,g.MatChipAvatar,g.MatChipTrailingIcon,B.MatList,B.MatNavList,B.MatListItem,B.MatListAvatarCssMatStyler,B.MatListIconCssMatStyler,B.MatListSubheaderCssMatStyler,Tt.MatPseudoCheckbox,B.MatSelectionList,B.MatListOption,z.b,z.c,pe.a,pe.b,St.f,St.g,St.e,St.d,St.c,St.k,St.a,St.b,wt.d,wt.b,wt.e,wt.c,Mt.k,Mt.n,Mt.q,Mt.t,Mt.w,Mt.z,Mt.C,Mt.F,Mt.d,Mt.g,Mt.j,W["\u0275angular_packages_forms_forms_y"],W.NgSelectOption,W["\u0275angular_packages_forms_forms_x"],W.DefaultValueAccessor,W.NumberValueAccessor,W.RangeValueAccessor,W.CheckboxControlValueAccessor,W.SelectControlValueAccessor,W.SelectMultipleControlValueAccessor,W.RadioControlValueAccessor,W.NgControlStatus,W.NgControlStatusGroup,W.RequiredValidator,W.MinLengthValidator,W.MaxLengthValidator,W.PatternValidator,W.CheckboxRequiredValidator,W.EmailValidator,W.NgModel,W.NgModelGroup,W.NgForm,W.FormControlDirective,W.FormGroupDirective,W.FormControlName,W.FormGroupName,W.FormArrayName,oe.CdkConnectedOverlay,oe.CdkOverlayOrigin,Et.a,Et.d,Et.e,K.a,Q.d,Q.c,X.a,J.a,J.b,J.c,ut.b,ut.c,ut.d,ut.f,ut.a,c.a,c.f,c.b,c.c,u.g,u.d,u.c,u.a,a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,s.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,Re.b,ce.a,Te.a,mt.a,de.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,ot.a,st.a,lt.a,ct.a,dt.a,ht.a],[r.AsyncPipe,r.UpperCasePipe,r.LowerCasePipe,r.JsonPipe,r.SlicePipe,r.DecimalPipe,r.PercentPipe,r.TitleCasePipe,r.CurrencyPipe,r.DatePipe,r.I18nPluralPipe,r.I18nSelectPipe,r.KeyValuePipe,ee.TranslatePipe,Z.a,re.a,ue.a,fe.a,Le.a,De.a,ft.a,yt.a,Pe.a]),i["\u0275\u0275setComponentScope"](Oe.a,[r.NgClass,r.NgComponentOutlet,r.NgForOf,r.NgIf,r.NgTemplateOutlet,r.NgStyle,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,r.NgPlural,r.NgPluralCase,Y.RouterOutlet,Y.RouterLink,Y.RouterLinkWithHref,Y.RouterLinkActive,Y["\u0275angular_packages_router_router_l"],ee.TranslateDirective,f.MatButton,f.MatAnchor,bt.b,y.MatCheckbox,y.MatCheckboxRequiredValidator,S.MatIcon,h.MatCard,h.MatCardHeader,h.MatCardTitleGroup,h.MatCardContent,h.MatCardTitle,h.MatCardSubtitle,h.MatCardActions,h.MatCardFooter,h.MatCardSmImage,h.MatCardMdImage,h.MatCardLgImage,h.MatCardImage,h.MatCardXlImage,h.MatCardAvatar,I.MatProgressBar,vt.b,vt.c,Ct.MatError,Ct.MatFormField,Ct.MatHint,Ct.MatLabel,Ct.MatPlaceholder,Ct.MatPrefix,Ct.MatSuffix,w.MatInput,w.MatTextareaAutosize,P.MatSnackBarContainer,Et.b,R.MatDrawer,R.MatDrawerContainer,R.MatDrawerContent,R.MatSidenav,R.MatSidenavContainer,R.MatSidenavContent,D.MatToolbar,D.MatToolbarRow,M._MatMenu,M.MatMenuItem,M.MatMenuTrigger,M.MatMenuContent,T.MatGridList,T.MatGridTile,T.MatGridTileText,Tt.MatLine,T.MatGridTileHeaderCssMatStyler,T.MatGridTileFooterCssMatStyler,T.MatGridAvatarCssMatStyler,v.MatDialogContainer,v.MatDialogClose,v.MatDialogTitle,v.MatDialogContent,v.MatDialogActions,A.MatSelect,A.MatSelectTrigger,Tt.MatOption,Tt.MatOptgroup,U.MatTooltip,U.TooltipComponent,F.MatTable,F.MatHeaderCellDef,F.MatHeaderRowDef,F.MatColumnDef,F.MatCellDef,F.MatRowDef,F.MatFooterCellDef,F.MatFooterRowDef,F.MatHeaderCell,F.MatCell,F.MatFooterCell,F.MatHeaderRow,F.MatRow,F.MatFooterRow,F.MatNoDataRow,F.MatTextColumn,O.MatPaginator,_.MatSort,_.MatSortHeader,x.MatProgressSpinner,x.MatSpinner,C.MatDivider,L.MatTabGroup,L.MatTabLabel,L.MatTab,L.MatTabNav,L.MatTabLink,L.MatTabContent,j.MatRadioGroup,j.MatRadioButton,N.MatSlideToggleRequiredValidator,N.MatSlideToggle,b.MatCalendar,b.MatCalendarBody,b.MatDatepicker,b.MatDatepickerContent,b.MatDatepickerInput,b.MatDatepickerToggle,b.MatDatepickerToggleIcon,b.MatMonthView,b.MatYearView,b.MatMultiYearView,b.MatCalendarHeader,b.MatDateRangeInput,b.MatStartDate,b.MatEndDate,b.MatDateRangePicker,G.b,G.c,G.d,G.a,G.i,G.f,G.e,G.h,G.j,G.l,q.a,q.b,k.MatSlider,E.MatAccordion,E.MatExpansionPanel,E.MatExpansionPanelActionRow,E.MatExpansionPanelHeader,E.MatExpansionPanelTitle,E.MatExpansionPanelDescription,E.MatExpansionPanelContent,V.MatHorizontalStepper,V.MatVerticalStepper,V.MatStep,V.MatStepLabel,V.MatStepper,V.MatStepperNext,V.MatStepperPrevious,V.MatStepHeader,V.MatStepperIcon,m.MatAutocomplete,m.MatAutocompleteTrigger,m.MatAutocompleteOrigin,g.MatChipList,g.MatChip,g.MatChipInput,g.MatChipRemove,g.MatChipAvatar,g.MatChipTrailingIcon,B.MatList,B.MatNavList,B.MatListItem,B.MatListAvatarCssMatStyler,B.MatListIconCssMatStyler,B.MatListSubheaderCssMatStyler,Tt.MatPseudoCheckbox,B.MatSelectionList,B.MatListOption,z.b,z.c,pe.a,pe.b,St.f,St.g,St.e,St.d,St.c,St.k,St.a,St.b,wt.d,wt.b,wt.e,wt.c,Mt.k,Mt.n,Mt.q,Mt.t,Mt.w,Mt.z,Mt.C,Mt.F,Mt.d,Mt.g,Mt.j,W["\u0275angular_packages_forms_forms_y"],W.NgSelectOption,W["\u0275angular_packages_forms_forms_x"],W.DefaultValueAccessor,W.NumberValueAccessor,W.RangeValueAccessor,W.CheckboxControlValueAccessor,W.SelectControlValueAccessor,W.SelectMultipleControlValueAccessor,W.RadioControlValueAccessor,W.NgControlStatus,W.NgControlStatusGroup,W.RequiredValidator,W.MinLengthValidator,W.MaxLengthValidator,W.PatternValidator,W.CheckboxRequiredValidator,W.EmailValidator,W.NgModel,W.NgModelGroup,W.NgForm,W.FormControlDirective,W.FormGroupDirective,W.FormControlName,W.FormGroupName,W.FormArrayName,oe.CdkConnectedOverlay,oe.CdkOverlayOrigin,Et.a,Et.d,Et.e,K.a,Q.d,Q.c,X.a,J.a,J.b,J.c,ut.b,ut.c,ut.d,ut.f,ut.a,c.a,c.f,c.b,c.c,u.g,u.d,u.c,u.a,a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,s.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,Re.b,ce.a,Te.a,mt.a,de.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,ot.a,st.a,lt.a,ct.a,dt.a,ht.a],[r.AsyncPipe,r.UpperCasePipe,r.LowerCasePipe,r.JsonPipe,r.SlicePipe,r.DecimalPipe,r.PercentPipe,r.TitleCasePipe,r.CurrencyPipe,r.DatePipe,r.I18nPluralPipe,r.I18nSelectPipe,r.KeyValuePipe,ee.TranslatePipe,Z.a,re.a,ue.a,fe.a,Le.a,De.a,ft.a,yt.a,Pe.a]),i["\u0275\u0275setComponentScope"]($e.a,[r.NgClass,r.NgComponentOutlet,r.NgForOf,r.NgIf,r.NgTemplateOutlet,r.NgStyle,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,r.NgPlural,r.NgPluralCase,Y.RouterOutlet,Y.RouterLink,Y.RouterLinkWithHref,Y.RouterLinkActive,Y["\u0275angular_packages_router_router_l"],ee.TranslateDirective,f.MatButton,f.MatAnchor,bt.b,y.MatCheckbox,y.MatCheckboxRequiredValidator,S.MatIcon,h.MatCard,h.MatCardHeader,h.MatCardTitleGroup,h.MatCardContent,h.MatCardTitle,h.MatCardSubtitle,h.MatCardActions,h.MatCardFooter,h.MatCardSmImage,h.MatCardMdImage,h.MatCardLgImage,h.MatCardImage,h.MatCardXlImage,h.MatCardAvatar,I.MatProgressBar,vt.b,vt.c,Ct.MatError,Ct.MatFormField,Ct.MatHint,Ct.MatLabel,Ct.MatPlaceholder,Ct.MatPrefix,Ct.MatSuffix,w.MatInput,w.MatTextareaAutosize,P.MatSnackBarContainer,Et.b,R.MatDrawer,R.MatDrawerContainer,R.MatDrawerContent,R.MatSidenav,R.MatSidenavContainer,R.MatSidenavContent,D.MatToolbar,D.MatToolbarRow,M._MatMenu,M.MatMenuItem,M.MatMenuTrigger,M.MatMenuContent,T.MatGridList,T.MatGridTile,T.MatGridTileText,Tt.MatLine,T.MatGridTileHeaderCssMatStyler,T.MatGridTileFooterCssMatStyler,T.MatGridAvatarCssMatStyler,v.MatDialogContainer,v.MatDialogClose,v.MatDialogTitle,v.MatDialogContent,v.MatDialogActions,A.MatSelect,A.MatSelectTrigger,Tt.MatOption,Tt.MatOptgroup,U.MatTooltip,U.TooltipComponent,F.MatTable,F.MatHeaderCellDef,F.MatHeaderRowDef,F.MatColumnDef,F.MatCellDef,F.MatRowDef,F.MatFooterCellDef,F.MatFooterRowDef,F.MatHeaderCell,F.MatCell,F.MatFooterCell,F.MatHeaderRow,F.MatRow,F.MatFooterRow,F.MatNoDataRow,F.MatTextColumn,O.MatPaginator,_.MatSort,_.MatSortHeader,x.MatProgressSpinner,x.MatSpinner,C.MatDivider,L.MatTabGroup,L.MatTabLabel,L.MatTab,L.MatTabNav,L.MatTabLink,L.MatTabContent,j.MatRadioGroup,j.MatRadioButton,N.MatSlideToggleRequiredValidator,N.MatSlideToggle,b.MatCalendar,b.MatCalendarBody,b.MatDatepicker,b.MatDatepickerContent,b.MatDatepickerInput,b.MatDatepickerToggle,b.MatDatepickerToggleIcon,b.MatMonthView,b.MatYearView,b.MatMultiYearView,b.MatCalendarHeader,b.MatDateRangeInput,b.MatStartDate,b.MatEndDate,b.MatDateRangePicker,G.b,G.c,G.d,G.a,G.i,G.f,G.e,G.h,G.j,G.l,q.a,q.b,k.MatSlider,E.MatAccordion,E.MatExpansionPanel,E.MatExpansionPanelActionRow,E.MatExpansionPanelHeader,E.MatExpansionPanelTitle,E.MatExpansionPanelDescription,E.MatExpansionPanelContent,V.MatHorizontalStepper,V.MatVerticalStepper,V.MatStep,V.MatStepLabel,V.MatStepper,V.MatStepperNext,V.MatStepperPrevious,V.MatStepHeader,V.MatStepperIcon,m.MatAutocomplete,m.MatAutocompleteTrigger,m.MatAutocompleteOrigin,g.MatChipList,g.MatChip,g.MatChipInput,g.MatChipRemove,g.MatChipAvatar,g.MatChipTrailingIcon,B.MatList,B.MatNavList,B.MatListItem,B.MatListAvatarCssMatStyler,B.MatListIconCssMatStyler,B.MatListSubheaderCssMatStyler,Tt.MatPseudoCheckbox,B.MatSelectionList,B.MatListOption,z.b,z.c,pe.a,pe.b,St.f,St.g,St.e,St.d,St.c,St.k,St.a,St.b,wt.d,wt.b,wt.e,wt.c,Mt.k,Mt.n,Mt.q,Mt.t,Mt.w,Mt.z,Mt.C,Mt.F,Mt.d,Mt.g,Mt.j,W["\u0275angular_packages_forms_forms_y"],W.NgSelectOption,W["\u0275angular_packages_forms_forms_x"],W.DefaultValueAccessor,W.NumberValueAccessor,W.RangeValueAccessor,W.CheckboxControlValueAccessor,W.SelectControlValueAccessor,W.SelectMultipleControlValueAccessor,W.RadioControlValueAccessor,W.NgControlStatus,W.NgControlStatusGroup,W.RequiredValidator,W.MinLengthValidator,W.MaxLengthValidator,W.PatternValidator,W.CheckboxRequiredValidator,W.EmailValidator,W.NgModel,W.NgModelGroup,W.NgForm,W.FormControlDirective,W.FormGroupDirective,W.FormControlName,W.FormGroupName,W.FormArrayName,oe.CdkConnectedOverlay,oe.CdkOverlayOrigin,Et.a,Et.d,Et.e,K.a,Q.d,Q.c,X.a,J.a,J.b,J.c,ut.b,ut.c,ut.d,ut.f,ut.a,c.a,c.f,c.b,c.c,u.g,u.d,u.c,u.a,a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,s.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,Re.b,ce.a,Te.a,mt.a,de.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,ot.a,st.a,lt.a,ct.a,dt.a,ht.a],[r.AsyncPipe,r.UpperCasePipe,r.LowerCasePipe,r.JsonPipe,r.SlicePipe,r.DecimalPipe,r.PercentPipe,r.TitleCasePipe,r.CurrencyPipe,r.DatePipe,r.I18nPluralPipe,r.I18nSelectPipe,r.KeyValuePipe,ee.TranslatePipe,Z.a,re.a,ue.a,fe.a,Le.a,De.a,ft.a,yt.a,Pe.a]),i["\u0275\u0275setComponentScope"](st.a,[r.NgClass,r.NgComponentOutlet,r.NgForOf,r.NgIf,r.NgTemplateOutlet,r.NgStyle,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,r.NgPlural,r.NgPluralCase,Y.RouterOutlet,Y.RouterLink,Y.RouterLinkWithHref,Y.RouterLinkActive,Y["\u0275angular_packages_router_router_l"],ee.TranslateDirective,f.MatButton,f.MatAnchor,bt.b,y.MatCheckbox,y.MatCheckboxRequiredValidator,S.MatIcon,h.MatCard,h.MatCardHeader,h.MatCardTitleGroup,h.MatCardContent,h.MatCardTitle,h.MatCardSubtitle,h.MatCardActions,h.MatCardFooter,h.MatCardSmImage,h.MatCardMdImage,h.MatCardLgImage,h.MatCardImage,h.MatCardXlImage,h.MatCardAvatar,I.MatProgressBar,vt.b,vt.c,Ct.MatError,Ct.MatFormField,Ct.MatHint,Ct.MatLabel,Ct.MatPlaceholder,Ct.MatPrefix,Ct.MatSuffix,w.MatInput,w.MatTextareaAutosize,P.MatSnackBarContainer,Et.b,R.MatDrawer,R.MatDrawerContainer,R.MatDrawerContent,R.MatSidenav,R.MatSidenavContainer,R.MatSidenavContent,D.MatToolbar,D.MatToolbarRow,M._MatMenu,M.MatMenuItem,M.MatMenuTrigger,M.MatMenuContent,T.MatGridList,T.MatGridTile,T.MatGridTileText,Tt.MatLine,T.MatGridTileHeaderCssMatStyler,T.MatGridTileFooterCssMatStyler,T.MatGridAvatarCssMatStyler,v.MatDialogContainer,v.MatDialogClose,v.MatDialogTitle,v.MatDialogContent,v.MatDialogActions,A.MatSelect,A.MatSelectTrigger,Tt.MatOption,Tt.MatOptgroup,U.MatTooltip,U.TooltipComponent,F.MatTable,F.MatHeaderCellDef,F.MatHeaderRowDef,F.MatColumnDef,F.MatCellDef,F.MatRowDef,F.MatFooterCellDef,F.MatFooterRowDef,F.MatHeaderCell,F.MatCell,F.MatFooterCell,F.MatHeaderRow,F.MatRow,F.MatFooterRow,F.MatNoDataRow,F.MatTextColumn,O.MatPaginator,_.MatSort,_.MatSortHeader,x.MatProgressSpinner,x.MatSpinner,C.MatDivider,L.MatTabGroup,L.MatTabLabel,L.MatTab,L.MatTabNav,L.MatTabLink,L.MatTabContent,j.MatRadioGroup,j.MatRadioButton,N.MatSlideToggleRequiredValidator,N.MatSlideToggle,b.MatCalendar,b.MatCalendarBody,b.MatDatepicker,b.MatDatepickerContent,b.MatDatepickerInput,b.MatDatepickerToggle,b.MatDatepickerToggleIcon,b.MatMonthView,b.MatYearView,b.MatMultiYearView,b.MatCalendarHeader,b.MatDateRangeInput,b.MatStartDate,b.MatEndDate,b.MatDateRangePicker,G.b,G.c,G.d,G.a,G.i,G.f,G.e,G.h,G.j,G.l,q.a,q.b,k.MatSlider,E.MatAccordion,E.MatExpansionPanel,E.MatExpansionPanelActionRow,E.MatExpansionPanelHeader,E.MatExpansionPanelTitle,E.MatExpansionPanelDescription,E.MatExpansionPanelContent,V.MatHorizontalStepper,V.MatVerticalStepper,V.MatStep,V.MatStepLabel,V.MatStepper,V.MatStepperNext,V.MatStepperPrevious,V.MatStepHeader,V.MatStepperIcon,m.MatAutocomplete,m.MatAutocompleteTrigger,m.MatAutocompleteOrigin,g.MatChipList,g.MatChip,g.MatChipInput,g.MatChipRemove,g.MatChipAvatar,g.MatChipTrailingIcon,B.MatList,B.MatNavList,B.MatListItem,B.MatListAvatarCssMatStyler,B.MatListIconCssMatStyler,B.MatListSubheaderCssMatStyler,Tt.MatPseudoCheckbox,B.MatSelectionList,B.MatListOption,z.b,z.c,pe.a,pe.b,St.f,St.g,St.e,St.d,St.c,St.k,St.a,St.b,wt.d,wt.b,wt.e,wt.c,Mt.k,Mt.n,Mt.q,Mt.t,Mt.w,Mt.z,Mt.C,Mt.F,Mt.d,Mt.g,Mt.j,W["\u0275angular_packages_forms_forms_y"],W.NgSelectOption,W["\u0275angular_packages_forms_forms_x"],W.DefaultValueAccessor,W.NumberValueAccessor,W.RangeValueAccessor,W.CheckboxControlValueAccessor,W.SelectControlValueAccessor,W.SelectMultipleControlValueAccessor,W.RadioControlValueAccessor,W.NgControlStatus,W.NgControlStatusGroup,W.RequiredValidator,W.MinLengthValidator,W.MaxLengthValidator,W.PatternValidator,W.CheckboxRequiredValidator,W.EmailValidator,W.NgModel,W.NgModelGroup,W.NgForm,W.FormControlDirective,W.FormGroupDirective,W.FormControlName,W.FormGroupName,W.FormArrayName,oe.CdkConnectedOverlay,oe.CdkOverlayOrigin,Et.a,Et.d,Et.e,K.a,Q.d,Q.c,X.a,J.a,J.b,J.c,ut.b,ut.c,ut.d,ut.f,ut.a,c.a,c.f,c.b,c.c,u.g,u.d,u.c,u.a,a.a,o.a,xe.a,s.b,me.a,je.a,Be.a,it.a,ie.a,ne.a,te.a,s.a,_e.a,nt.a,l.a,$.a,ae.a,se.b,le.a,gt.a,Ne.a,Re.b,ce.a,Te.a,mt.a,de.a,he.a,ye.a,ge.a,Fe.a,be.a,ve.a,Ce.a,Ee.a,Se.a,Oe.a,Ve.a,pt.a,Me.a,we.a,Ie.a,et.a,qe.a,Ae.c,Ae.a,Ae.b,ke.a,He.a,We.a,Ye.a,Ue.a,Ke.a,Ge.a,Qe.a,$e.a,ze.a,Xe.a,Je.a,Ze.a,tt.a,rt.a,at.a,ot.a,st.a,lt.a,ct.a,dt.a,ht.a],[r.AsyncPipe,r.UpperCasePipe,r.LowerCasePipe,r.JsonPipe,r.SlicePipe,r.DecimalPipe,r.PercentPipe,r.TitleCasePipe,r.CurrencyPipe,r.DatePipe,r.I18nPluralPipe,r.I18nSelectPipe,r.KeyValuePipe,ee.TranslatePipe,Z.a,re.a,ue.a,fe.a,Le.a,De.a,ft.a,yt.a,Pe.a])},RQSP:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("fXoL"),r=n("3Pt+"),a=n("8LU1"),o=n("//Q6"),s=n("Dn1P"),l=n.n(s),c=n("Zss7"),u=n("S+vS"),p=n("Wa9K"),d=n("Cfvw"),m=n("cp0P"),f=n("sYmb"),h=n("l7P3"),y=n("8m5z"),g=["reactRoot"],b=c,v=function(){function e(e,t,n,i){this.elementRef=e,this.translate=t,this.dialogs=n,this.store=i,this.formProps={isFullscreen:!1,option:{formDefaults:{startEmpty:!0}},onModelChange:this.onModelChange.bind(this),onColorClick:this.onColorClick.bind(this),onIconClick:this.onIconClick.bind(this),onToggleFullscreen:this.onToggleFullscreen.bind(this)},this.isModelValid=!0,this.isFullscreen=!1,this.propagateChange=null,this.propagateChangePending=!1,this.writingValue=!1,this.updateViewPending=!1}return Object.defineProperty(e.prototype,"readonly",{get:function(){return this.readonlyValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{set:function(e){this.readonlyValue=Object(a.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.destroyReactSchemaForm()},e.prototype.registerOnChange=function(e){var t=this;this.propagateChange=e,this.propagateChangePending&&(this.propagateChangePending=!1,setTimeout((function(){t.propagateChange(t.data)}),0))},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){},e.prototype.validate=function(e){return this.isModelValid?null:{modelValid:!1}},e.prototype.writeValue=function(e){this.writingValue=!0,this.data=e,this.schema=this.data&&this.data.schema?Object(o.e)(this.data.schema):{type:"object"},this.schema.strict=!0,this.form=this.data&&this.data.form?Object(o.e)(this.data.form):["*"],this.groupInfoes=this.data&&this.data.groupInfoes?Object(o.e)(this.data.groupInfoes):[],this.model=this.data&&this.data.model||{},this.model=l.a.sanitize(this.schema,this.model).data,this.updateAndRender(),this.isModelValid=this.validateModel(),this.writingValue=!1,this.isModelValid&&!this.updateViewPending||this.updateView()},e.prototype.updateView=function(){if(this.writingValue)this.updateViewPending=!0;else if(this.updateViewPending=!1,this.data)if(this.data.model=this.model,this.propagateChange)try{this.propagateChange(this.data)}catch(e){this.propagateChangePending=!0}else this.propagateChangePending=!0},e.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];r.firstChange||r.currentValue===r.previousValue||"readonly"===i&&this.updateAndRender()}},e.prototype.onModelChange=function(e,t,n){void 0===n&&(n=!1),Object(o.y)(t)&&""===t&&(t=void 0),(p.a.updateValue(e,this.model,t)||n)&&(this.isModelValid=this.validateModel(),this.updateView())},e.prototype.onColorClick=function(e,t,n){this.dialogs.colorPicker(b(t).toRgbString()).subscribe((function(e){n&&n(b(e).toRgb())}))},e.prototype.onIconClick=function(e,t,n){this.dialogs.materialIconPicker(t).subscribe((function(e){e&&n&&n(e)}))},e.prototype.onToggleFullscreen=function(e,t){this.targetFullscreenElement=e,this.isFullscreen=!this.isFullscreen,this.fullscreenFinishFn=t},e.prototype.onFullscreenChanged=function(e){this.formProps.isFullscreen=e,this.renderReactSchemaForm(!1),this.fullscreenFinishFn&&(this.fullscreenFinishFn(),this.fullscreenFinishFn=null)},e.prototype.updateAndRender=function(){this.formProps.option.formDefaults.readonly=this.readonly,this.formProps.schema=this.schema,this.formProps.form=this.form,this.formProps.groupInfoes=this.groupInfoes,this.formProps.model=this.model,this.renderReactSchemaForm()},e.prototype.renderReactSchemaForm=function(e){var t=this;void 0===e&&(e=!0),e&&this.destroyReactSchemaForm();var i=[];i.push(Object(d.a)(n.e(20).then(n.t.bind(null,"q1tI",7)))),i.push(Object(d.a)(n.e(2).then(n.t.bind(null,"i8i4",7)))),i.push(Object(d.a)(Promise.all([n.e(2),n.e(16)]).then(n.bind(null,"VCAq")))),Object(m.a)(i).subscribe((function(e){var n=e[0],i=e[1],r=e[2].default;i.render(n.createElement(r,t.formProps),t.reactRootElmRef.nativeElement)}))},e.prototype.destroyReactSchemaForm=function(){var e=this;n.e(2).then(n.t.bind(null,"i8i4",7)).then((function(t){t.unmountComponentAtNode(e.reactRootElmRef.nativeElement)}))},e.prototype.validateModel=function(){return!this.schema||!this.model||p.a.validateBySchema(this.schema,this.model).valid},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](f.TranslateService),i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](h.Store))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-json-form"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](g,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.reactRootElmRef=n.first))},inputs:{required:"required"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0},{provide:r.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}]),i["\u0275\u0275NgOnChangesFeature"]],decls:3,vars:2,consts:[["tb-fullscreen","",1,"tb-json-form",2,"background","#fff",3,"fullscreenElement","fullscreen","fullscreenChanged"],["reactRoot",""]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("fullscreenChanged",(function(e){return t.onFullscreenChanged(e)})),i["\u0275\u0275element"](1,"div",null,1),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("fullscreenElement",t.targetFullscreenElement)("fullscreen",t.isFullscreen)},directives:[y.a],styles:[".tb-json-form{padding:12px;padding-bottom:14px!important;overflow:auto}"],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](v,[{type:i.Component,args:[{selector:"tb-json-form",templateUrl:"./json-form.component.html",styleUrls:["./json-form.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return v})),multi:!0},{provide:r.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return v})),multi:!0}],encapsulation:i.ViewEncapsulation.None}]}],(function(){return[{type:i.ElementRef},{type:f.TranslateService},{type:u.a},{type:h.Store}]}),{reactRootElmRef:[{type:i.ViewChild,args:["reactRoot",{static:!0}]}],required:[{type:i.Input}]})}()},Rf0i:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var i=n("mrSG"),r=n("fXoL"),a=n("wtyh"),o=n("FKr1"),s=n("HR/i"),l=["*"],c=function(e){this._elementRef=e},u=Object(o.mixinColor)(c),p=function(){function e(e){this.el=e}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["mat-fab-trigger"]]}),e}();!function(){r["\u0275setClassMetadata"](p,[{type:r.Directive,args:[{selector:"mat-fab-trigger"}]}],(function(){return[{type:r.ElementRef}]}),null)}();var d=function(){function t(e){this.el=e}return t.prototype.ngOnInit=function(){e(this.el.nativeElement).children().wrap('<div class="mat-fab-action-item">')},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](r.ElementRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,selectors:[["mat-fab-actions"]]}),t}();!function(){r["\u0275setClassMetadata"](d,[{type:r.Directive,args:[{selector:"mat-fab-actions"}]}],(function(){return[{type:r.ElementRef}]}),null)}();var m=function(t){function n(e,n){var i=t.call(this,e)||this;return i.el=e,i.window=n,i}return Object(i.d)(n,t),n.prototype.ngOnInit=function(){var t=this,n=e(this.el.nativeElement);n.addClass("mat-fab-toolbar"),n.find("mat-fab-trigger").find("button").prepend('<div class="mat-fab-toolbar-background"></div>'),n.addClass("mat-"+this.direction),this.fabToolbarResize$=new s.a((function(){t.onFabToolbarResize()})),this.fabToolbarResize$.observe(this.el.nativeElement)},n.prototype.ngOnDestroy=function(){this.fabToolbarResize$.disconnect()},n.prototype.ngAfterViewInit=function(){this.triggerOpenClose(!0)},n.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];r.firstChange||r.currentValue===r.previousValue||"isOpen"===i&&this.triggerOpenClose()}},n.prototype.onFabToolbarResize=function(){this.isOpen&&this.triggerOpenClose(!0)},n.prototype.triggerOpenClose=function(t){var n=this.el.nativeElement,i=e(this.el.nativeElement);t?i.removeClass("mat-animation"):i.addClass("mat-animation");var r=n.querySelector(".mat-fab-toolbar-background"),a=n.querySelector("mat-fab-trigger button"),o=n.querySelector("mat-toolbar"),s=n.querySelector("mat-fab-trigger button mat-icon"),l=i.find("mat-fab-actions").children();if(a&&r){var c=n.offsetWidth,u=c/a.offsetWidth*2;r.style.borderRadius=c+"px",this.isOpen?(i.addClass("mat-is-open"),o.style.pointerEvents="inherit",r.style.width=a.offsetWidth+"px",r.style.height=a.offsetHeight+"px",r.style.transform="scale("+u+")",r.style.transitionDelay="0ms",s&&(s.style.transitionDelay=t?"0ms":".3s"),l.each((function(e,n){n.style.transitionDelay=t?"0ms":25*(l.length-e)+"ms"}))):(i.removeClass("mat-is-open"),o.style.pointerEvents="none",r.style.transform="scale(1)",r.style.top="0",i.hasClass("mat-right")&&(r.style.left="0",r.style.right=null),i.hasClass("mat-left")&&(r.style.right="0",r.style.left=null),r.style.transitionDelay=t?"0ms":"200ms",l.each((function(e,n){n.style.transitionDelay=(t?0:200)+25*e+"ms"})))}},n.\u0275fac=function(e){return new(e||n)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](a.b))},n.\u0275cmp=r["\u0275\u0275defineComponent"]({type:n,selectors:[["mat-fab-toolbar"]],inputs:{color:"color",isOpen:"isOpen",direction:"direction"},features:[r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:l,decls:3,vars:0,consts:[[1,"mat-fab-toolbar-wrapper"],[1,"mat-fab-toolbar-content"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]())},styles:["mat-fab-toolbar{display:block}mat-fab-toolbar.mat-fab-bottom-right{top:auto;right:20px;bottom:20px;left:auto;position:absolute}mat-fab-toolbar.mat-fab-bottom-left{top:auto;right:auto;bottom:20px;left:20px;position:absolute}mat-fab-toolbar.mat-fab-top-right{top:20px;right:20px;bottom:auto;left:auto;position:absolute}mat-fab-toolbar.mat-fab-top-left{top:20px;right:auto;bottom:auto;left:20px;position:absolute}mat-fab-toolbar .mat-fab-toolbar-wrapper{display:block;position:relative;overflow:hidden;height:68px}mat-fab-toolbar mat-fab-trigger{position:absolute;z-index:20}mat-fab-toolbar mat-fab-trigger button{overflow:visible!important;opacity:.5}mat-fab-toolbar mat-fab-trigger .mat-fab-toolbar-background{display:block;position:absolute;z-index:21;opacity:1}mat-fab-toolbar mat-fab-trigger mat-icon{position:relative;z-index:22;opacity:1}mat-fab-toolbar.mat-left mat-fab-trigger{right:0}[dir=rtl] mat-fab-toolbar.mat-left mat-fab-trigger{right:auto;left:0}mat-fab-toolbar.mat-left .mat-toolbar-tools{-ms-flex-direction:row-reverse;flex-direction:row-reverse}mat-fab-toolbar.mat-left .mat-toolbar-tools>.mat-button:first-child{margin-right:.6rem}[dir=rtl] mat-fab-toolbar.mat-left .mat-toolbar-tools>.mat-button:first-child{margin-right:auto;margin-left:.6rem}mat-fab-toolbar.mat-left .mat-toolbar-tools>.mat-button:first-child{margin-left:-.8rem}[dir=rtl] mat-fab-toolbar.mat-left .mat-toolbar-tools>.mat-button:first-child{margin-left:auto;margin-right:-.8rem}mat-fab-toolbar.mat-left .mat-toolbar-tools>.mat-button:last-child{margin-right:8px}[dir=rtl] mat-fab-toolbar.mat-left .mat-toolbar-tools>.mat-button:last-child{margin-right:auto;margin-left:8px}mat-fab-toolbar.mat-right mat-fab-trigger{left:0}[dir=rtl] mat-fab-toolbar.mat-right mat-fab-trigger{left:auto;right:0}mat-fab-toolbar.mat-right .mat-toolbar-tools{-ms-flex-direction:row;flex-direction:row}mat-fab-toolbar mat-toolbar{padding:0!important;background-color:transparent!important;pointer-events:none;position:relative;z-index:23}mat-fab-toolbar mat-toolbar .mat-toolbar-tools{padding:0 20px!important;margin-top:3px}mat-fab-toolbar mat-toolbar .mat-fab-action-item{opacity:0;transform:scale(0)}mat-fab-toolbar.mat-is-open mat-fab-trigger>button{box-shadow:none;opacity:1}mat-fab-toolbar.mat-is-open mat-fab-trigger>button mat-icon{opacity:0}mat-fab-toolbar.mat-is-open .mat-fab-action-item{opacity:1;transform:scale(1)}mat-fab-toolbar.mat-animation mat-fab-trigger button{transition:opacity .3s cubic-bezier(.55,0,.55,.2) .2s}mat-fab-toolbar.mat-animation mat-fab-trigger .mat-fab-toolbar-background{transition:all .3s cubic-bezier(.55,0,.55,.2)}mat-fab-toolbar.mat-animation mat-fab-trigger mat-icon{transition:all .2s ease-in}mat-fab-toolbar.mat-animation mat-toolbar .mat-fab-action-item{transition:all .3s cubic-bezier(.55,0,.55,.2);transition-duration:.15s}mat-fab-toolbar.mat-animation.mat-is-open mat-fab-trigger>button{transition:opacity .3s cubic-bezier(.55,0,.55,.2)}"],encapsulation:2}),n}(u);!function(){r["\u0275setClassMetadata"](m,[{type:r.Component,args:[{selector:"mat-fab-toolbar",templateUrl:"./fab-toolbar.component.html",styleUrls:["./fab-toolbar.component.scss"],inputs:["color"],encapsulation:r.ViewEncapsulation.None}]}],(function(){return[{type:r.ElementRef},{type:Window,decorators:[{type:r.Inject,args:[a.b]}]}]}),{isOpen:[{type:r.Input}],direction:[{type:r.Input}]})}()}).call(this,n("xexB"))},RxGS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),r=n("l7P3"),a=n("Nyw1"),o=n("3E0/"),s=n("w1tV"),l=function(){function e(e){this.store=e,this.disabledOnLoadFormControls=[],this.isLoading$=this.store.pipe(Object(o.a)(0),Object(r.select)(a.b),Object(s.a)())}return e.prototype.registerDisableOnLoadFormControl=function(e){var t=this;this.disabledOnLoadFormControls.push(e),this.loadingSubscription||(this.loadingSubscription=this.isLoading$.subscribe((function(e){for(var n=0,i=t.disabledOnLoadFormControls;n<i.length;n++){var r=i[n];e?r.disable({emitEvent:!1}):r.enable({emitEvent:!1})}})))},e.prototype.ngOnDestroy=function(){this.loadingSubscription&&this.loadingSubscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.Store))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e}();!function(){i["\u0275setClassMetadata"](l,[{type:i.Directive}],(function(){return[{type:r.Store}]}),null)}()},"S+vS":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("fXoL"),r=n("Vurf"),a=n("VYz+"),o=n("SReA"),s=n("oXES"),l=n("jXr5"),c=n("ikDa"),u=n("sYmb"),p=n("0IaG"),d=function(){function e(e,t,n){this.translate=e,this.authService=t,this.dialog=n}return e.prototype.confirm=function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!1);var a={disableClose:!0,data:{title:e,message:t,cancel:n||this.translate.instant("action.cancel"),ok:i||this.translate.instant("action.ok")}};return r&&(a.panelClass=["tb-fullscreen-dialog"]),this.dialog.open(s.a,a).afterClosed()},e.prototype.alert=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=!1);var r={disableClose:!0,data:{title:e,message:t,ok:n||this.translate.instant("action.ok")}};return i&&(r.panelClass=["tb-fullscreen-dialog"]),this.dialog.open(l.a,r).afterClosed()},e.prototype.colorPicker=function(e){return this.dialog.open(a.a,{disableClose:!0,panelClass:["tb-dialog","tb-fullscreen-dialog"],data:{color:e}}).afterClosed()},e.prototype.materialIconPicker=function(e){return this.dialog.open(o.a,{disableClose:!0,panelClass:["tb-dialog","tb-fullscreen-dialog"],data:{icon:e}}).afterClosed()},e.prototype.permissionDenied=function(){this.alert(this.translate.instant("access.permission-denied"),this.translate.instant("access.permission-denied-text"),this.translate.instant("action.close"))},e.prototype.forbidden=function(){var e=this,t=this.confirm(this.translate.instant("access.access-forbidden"),this.translate.instant("access.access-forbidden-text"),this.translate.instant("action.cancel"),this.translate.instant("action.sign-in"),!0);return t.subscribe((function(t){t&&e.authService.logout()})),t},e.prototype.todo=function(){return this.dialog.open(c.a,{disableClose:!0,panelClass:["tb-fullscreen-dialog"]}).afterClosed()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](u.TranslateService),i["\u0275\u0275inject"](r.a),i["\u0275\u0275inject"](p.MatDialog))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](d,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:u.TranslateService},{type:r.a},{type:p.MatDialog}]}),null)}()},SReA:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("mrSG"),r=n("fXoL"),a=n("0IaG"),o=n("gmuX"),s=n("OiFK"),l=n("3Pt+"),c=n("LRne"),u=n("VRyK"),p=n("lJxs"),d=n("JX91"),m=n("5+tZ"),f=n("3E0/"),h=n("w1tV"),y=n("CqXF"),g=n("vkgz"),b=n("l7P3"),v=n("tyNb"),C=n("/t3+"),E=n("XiUz"),T=n("1jcm"),S=n("sYmb"),w=n("bTqV"),M=n("NFeN"),O=n("ofXK"),I=n("bv9b"),x=n("Xa2L"),j=n("Qu3c"),A=["iconButtons"];function R(e,t){1&e&&r["\u0275\u0275element"](0,"mat-progress-bar",17)}function N(e,t){1&e&&r["\u0275\u0275element"](0,"div",18)}function k(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",19),r["\u0275\u0275element"](1,"mat-spinner",20),r["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",24),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](n);var e=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"]().selectIcon(e)})),r["\u0275\u0275elementStart"](1,"mat-icon"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275propertyInterpolate"]("matTooltip",i),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i)}}function _(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",25),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](n);var e=r["\u0275\u0275nextContext"]().$implicit;return r["\u0275\u0275nextContext"]().selectIcon(e)})),r["\u0275\u0275elementStart"](1,"mat-icon"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]().$implicit;r["\u0275\u0275propertyInterpolate"]("matTooltip",i),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i)}}function V(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0,null,21),r["\u0275\u0275template"](2,P,3,2,"button",22),r["\u0275\u0275template"](3,_,3,2,"button",23),r["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",n===i.selectedIcon),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n!==i.selectedIcon)}}var F=function(e){function t(t,n,i,r,a){var o=e.call(this,t,n,a)||this;return o.store=t,o.router=n,o.data=i,o.utils=r,o.dialogRef=a,o.selectedIcon=i.icon,o.showAllControl=new l.FormControl(!1),o}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var e=this;this.icons$=this.showAllControl.valueChanges.pipe(Object(p.a)((function(e){return{firstTime:!1,showAll:e}})),Object(d.a)({firstTime:!0,showAll:!1}),Object(m.b)((function(t){if(t.showAll)return e.utils.getMaterialIcons().pipe(Object(f.a)(100));var n=Object(c.a)(e.utils.getCommonMaterialIcons());return t.firstTime?n:n.pipe(Object(f.a)(50))})),Object(h.a)())},t.prototype.ngAfterViewInit=function(){var e=this;this.loadingIcons$=Object(u.a)(this.showAllControl.valueChanges.pipe(Object(y.a)(!0)),this.iconButtons.changes.pipe(Object(f.a)(100),Object(y.a)(!1))).pipe(Object(g.a)((function(t){t?e.showAllControl.disable({emitEvent:!1}):e.showAllControl.enable({emitEvent:!1})})),Object(h.a)())},t.prototype.selectIcon=function(e){this.dialogRef.close(e)},t.prototype.cancel=function(){this.dialogRef.close(null)},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](b.Store),r["\u0275\u0275directiveInject"](v.Router),r["\u0275\u0275directiveInject"](a.MAT_DIALOG_DATA),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](a.MatDialogRef))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-material-icons-dialog"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275viewQuery"](A,!0),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.iconButtons=n))},features:[r["\u0275\u0275ProvidersFeature"]([]),r["\u0275\u0275InheritDefinitionFeature"]],decls:31,vars:25,consts:[[1,"tb-material-icons-dialog",2,"min-width","600px"],["fxLayout","row","color","primary"],["fxFlex",""],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],[3,"formControl"],["translate",""],["mat-button","","mat-icon-button","","type","button",3,"click"],[1,"material-icons"],["color","warn","mode","indeterminate",4,"ngIf"],["style","height: 4px;",4,"ngIf"],["class","tb-absolute-fill tb-icons-load","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["mat-dialog-content",""],["fxLayout","column",1,"mat-content","mat-padding"],[3,"disabled"],["ngFor","",3,"ngForOf"],["mat-dialog-actions","","fxLayout","row"],["mat-button","","type","button",3,"disabled","click"],["color","warn","mode","indeterminate"],[2,"height","4px"],["fxLayout","column","fxLayoutAlign","center center",1,"tb-absolute-fill","tb-icons-load"],["color","accent","mode","indeterminate","diameter","40"],["iconButtons",""],["class","tb-select-icon-button","mat-button","","mat-icon-button","","mat-raised-button","","color","primary","matTooltipPosition","above","type","button",3,"matTooltip","click",4,"ngIf"],["class","tb-select-icon-button","mat-button","","mat-icon-button","","matTooltipPosition","above","type","button",3,"matTooltip","click",4,"ngIf"],["mat-button","","mat-icon-button","","mat-raised-button","","color","primary","matTooltipPosition","above","type","button",1,"tb-select-icon-button",3,"matTooltip","click"],["mat-button","","mat-icon-button","","matTooltipPosition","above","type","button",1,"tb-select-icon-button",3,"matTooltip","click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275elementStart"](1,"mat-toolbar",1),r["\u0275\u0275elementStart"](2,"h2"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"span",2),r["\u0275\u0275elementStart"](6,"section",3),r["\u0275\u0275element"](7,"mat-slide-toggle",4),r["\u0275\u0275elementStart"](8,"label",5),r["\u0275\u0275text"](9,"icon.show-all"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"button",6),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275elementStart"](11,"mat-icon",7),r["\u0275\u0275text"](12,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,R,1,0,"mat-progress-bar",8),r["\u0275\u0275pipe"](14,"async"),r["\u0275\u0275template"](15,N,1,0,"div",9),r["\u0275\u0275pipe"](16,"async"),r["\u0275\u0275template"](17,k,2,0,"div",10),r["\u0275\u0275pipe"](18,"async"),r["\u0275\u0275elementStart"](19,"div",11),r["\u0275\u0275elementStart"](20,"div",12),r["\u0275\u0275elementStart"](21,"fieldset",13),r["\u0275\u0275pipe"](22,"async"),r["\u0275\u0275template"](23,V,4,2,"ng-template",14),r["\u0275\u0275pipe"](24,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](25,"div",15),r["\u0275\u0275element"](26,"span",2),r["\u0275\u0275elementStart"](27,"button",16),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275pipe"](28,"async"),r["\u0275\u0275text"](29),r["\u0275\u0275pipe"](30,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](4,9,"icon.select-icon")),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("formControl",t.showAllControl),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](14,11,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!r["\u0275\u0275pipeBind1"](16,13,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](18,15,t.loadingIcons$)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](22,17,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](24,19,t.icons$)),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](28,21,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](30,23,"action.cancel")," "))},directives:[l["\u0275angular_packages_forms_forms_y"],l.NgControlStatusGroup,l.NgForm,C.MatToolbar,E.f,E.b,E.e,E.g,T.MatSlideToggle,l.NgControlStatus,l.FormControlDirective,S.TranslateDirective,w.MatButton,M.MatIcon,O.NgIf,a.MatDialogContent,O.NgForOf,a.MatDialogActions,I.MatProgressBar,x.MatSpinner,j.MatTooltip],pipes:[S.TranslatePipe,O.AsyncPipe],styles:["[_nghost-%COMP%]   .tb-material-icons-dialog[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .tb-icons-load[_ngcontent-%COMP%]{top:64px;z-index:3;background:hsla(0,0%,100%,.75)}[_nghost-%COMP%]     .tb-material-icons-dialog button.mat-icon-button.tb-select-icon-button{width:56px;height:56px;padding:16px;margin:10px;border:1px solid orange;border-radius:0;line-height:0}"]}),t}(o.a);!function(){r["\u0275setClassMetadata"](F,[{type:r.Component,args:[{selector:"tb-material-icons-dialog",templateUrl:"./material-icons-dialog.component.html",providers:[],styleUrls:["./material-icons-dialog.component.scss"]}]}],(function(){return[{type:b.Store},{type:v.Router},{type:void 0,decorators:[{type:r.Inject,args:[a.MAT_DIALOG_DATA]}]},{type:s.a},{type:a.MatDialogRef}]}),{iconButtons:[{type:r.ViewChildren,args:["iconButtons"]}]})}()},Sy1n:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));n("yLV6");var i=n("fXoL"),r=n("AytR"),a=n("l7P3"),o=n("EP1h"),s=n("itXk"),l=n("C/rb"),c=n("lJxs"),u=n("/uUt"),p=n("pLZG"),d=n("zP0r"),m=n("Vurf"),f=n("sYmb"),h=n("NFeN"),y=n("jhN1"),g=n("tyNb"),b=function(){function t(e,t,n,i,a,o){this.store=e,this.storageService=t,this.translate=n,this.matIconRegistry=i,this.domSanitizer=a,this.authService=o,console.log("ThingsBoard Version: "+r.a.tbVersion),this.matIconRegistry.addSvgIconSetInNamespace("mdi",this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/mdi.svg")),this.matIconRegistry.addSvgIconLiteral("alpha-a-circle-outline",this.domSanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path d="M11,7H13A2,2 0 0,1 15,9V17H13V13H11V17H9V9A2,2 0 0,1 11,7M11,9V11H13V9H11M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2Z" /></svg>')),this.matIconRegistry.addSvgIconLiteral("alpha-e-circle-outline",this.domSanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 24 24"><path d="M9,7H15V9H11V11H15V13H11V15H15V17H9V7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z" /></svg>')),this.matIconRegistry.addSvgIconLiteral("google-logo",this.domSanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/><path fill="none" d="M0 0h48v48H0z"/></svg>')),this.matIconRegistry.addSvgIconLiteral("github-logo",this.domSanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 32.7 32.7"><path d="M16.3 0C7.3 0 0 7.3 0 16.3c0 7.2 4.7 13.3 11.1 15.5.8.1 1.1-.4 1.1-.8v-2.8c-4.5 1-5.5-2.2-5.5-2.2-.7-1.9-1.8-2.4-1.8-2.4-1.5-1 .1-1 .1-1 1.6.1 2.5 1.7 2.5 1.7 1.5 2.5 3.8 1.8 4.7 1.4.1-1.1.6-1.8 1-2.2-3.6-.4-7.4-1.8-7.4-8.1 0-1.8.6-3.2 1.7-4.4-.2-.4-.7-2.1.2-4.3 0 0 1.4-.4 4.5 1.7 1.3-.4 2.7-.5 4.1-.5s2.8.2 4.1.5c3.1-2.1 4.5-1.7 4.5-1.7.9 2.2.3 3.9.2 4.3 1 1.1 1.7 2.6 1.7 4.4 0 6.3-3.8 7.6-7.4 8 .6.5 1.1 1.5 1.1 3v4.5c0 .4.3.9 1.1.8 6.5-2.2 11.1-8.3 11.1-15.5C32.6 7.3 25.3 0 16.3 0z" fill="#211c19"/></svg>')),this.matIconRegistry.addSvgIconLiteral("facebook-logo",this.domSanitizer.bypassSecurityTrustHtml('<svg viewBox="0 0 263 263"><path d="M263 131.5C263 58.9 204.1 0 131.5 0S0 58.9 0 131.5c0 65.6 48.1 120 110.9 129.9v-91.9H77.5v-38h33.4v-29c0-33 19.6-51.2 49.7-51.2 14.4 0 29.4 2.6 29.4 2.6v32.4h-16.5c-16.3 0-21.4 10.1-21.4 20.5v24.7h36.4l-5.8 38h-30.6v91.9c62.8-9.9 110.9-64.3 110.9-129.9z" fill="#1877f2"/><path d="M182.7 169.5l5.8-38H152v-24.7c0-10.4 5.1-20.5 21.4-20.5H190V53.9s-15-2.6-29.4-2.6c-30 0-49.7 18.2-49.7 51.2v29H77.5v38h33.4v91.9c6.7 1.1 13.6 1.6 20.5 1.6s13.9-.5 20.5-1.6v-91.9h30.8z" fill="#fff"/></svg>')),this.storageService.testLocalStorage(),this.setupTranslate(),this.setupAuth()}return t.prototype.setupTranslate=function(){r.a.production||console.log("Supported Langs: "+r.a.supportedLangs),this.translate.addLangs(r.a.supportedLangs),r.a.production||console.log("Default Lang: "+r.a.defaultLang),this.translate.setDefaultLang(r.a.defaultLang)},t.prototype.setupAuth=function(){var e=this;Object(s.b)([this.store.pipe(Object(a.select)(l.e)),this.store.pipe(Object(a.select)(l.f))]).pipe(Object(c.a)((function(e){return{isAuthenticated:e[0],isUserLoaded:e[1]}})),Object(u.a)(),Object(p.a)((function(e){return e.isUserLoaded})),Object(d.a)(1)).subscribe((function(t){e.authService.gotoDefaultPlace(t.isAuthenticated)})),this.authService.reloadUser()},t.prototype.ngOnInit=function(){},t.prototype.onActivateComponent=function(t){var n=e("div#tb-loading-spinner");n.length&&n.remove()},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](a.Store),i["\u0275\u0275directiveInject"](o.a),i["\u0275\u0275directiveInject"](f.TranslateService),i["\u0275\u0275directiveInject"](h.MatIconRegistry),i["\u0275\u0275directiveInject"](y.DomSanitizer),i["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-root"]],decls:1,vars:0,consts:[[3,"activate"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"router-outlet",0),i["\u0275\u0275listener"]("activate",(function(e){return t.onActivateComponent(e)})),i["\u0275\u0275elementEnd"]())},directives:[g.RouterOutlet],styles:[""]}),t}();!function(){i["\u0275setClassMetadata"](b,[{type:i.Component,args:[{selector:"tb-root",templateUrl:"./app.component.html",styleUrls:["./app.component.scss"]}]}],(function(){return[{type:a.Store},{type:o.a},{type:f.TranslateService},{type:h.MatIconRegistry},{type:y.DomSanitizer},{type:m.a}]}),null)}()}).call(this,n("xexB"))},T4sd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("//Q6"),a=function(){function e(){}return e.prototype.transform=function(e,t,n,i){if(!e)return"";if(Object(r.y)(n)&&(n=parseInt(n,10)),!n)return e;if(e.length<=n)return e;if(e=e.substr(0,n),t){var a=e.lastIndexOf(" ");-1!==a&&("."!==e.charAt(a-1)&&","!==e.charAt(a-1)||(a-=1),e=e.substr(0,a))}return e+(i||" \u2026")},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"truncate",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Pipe,args:[{name:"truncate"}]}],null,null)}()},TSBb:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i=n("fXoL"),r=n("3Pt+"),a=n("vkgz"),o=n("lJxs"),s=n("5+tZ"),l=n("w1tV"),c=n("U3y+"),u=n("21Fy"),p=n("8LU1"),d=n("C/rb"),m=n("zp9Z"),f=n("l7P3"),h=n("sYmb"),y=n("kmnG"),g=n("qFsG"),b=n("/1cH"),v=n("ofXK"),C=n("bTqV"),E=n("NFeN"),T=n("FKr1"),S=n("d5eY"),w=["entityInput"];function M(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",10),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",11),i["\u0275\u0275element"](1,"span",12),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,n.name,r.searchText),i["\u0275\u0275sanitizeHtml"])}}var I=function(e){return{entity:e}};function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",11),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,n.translate.get(n.noEntitiesMatchingText,i["\u0275\u0275pureFunction1"](4,I,n.searchText)))," ")}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,n.entityRequiredText)," ")}}var A=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.entityService=n,this.fb=i,this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.selectEntityFormGroup=this.fb.group({entity:[null]})}return Object.defineProperty(e.prototype,"entityType",{set:function(e){this.entityTypeValue!==e&&(this.entityTypeValue=e,this.load(),this.reset(),this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"entitySubtype",{set:function(e){if(this.entitySubtypeValue!==e){this.entitySubtypeValue=e;var t=this.getCurrentEntity();t&&t.type!==this.entitySubtypeValue&&(this.reset(),this.dirty=!0),this.selectEntityFormGroup.get("entity").updateValueAndValidity()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(p.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredEntities=this.selectEntityFormGroup.get("entity").valueChanges.pipe(Object(a.a)((function(t){var n;n="string"!=typeof t&&t?t.id.id:null,e.updateView(n),null===t&&e.clear()})),Object(o.a)((function(e){return e?"string"==typeof e?e:e.name:""})),Object(s.b)((function(t){return e.fetchEntities(t)})),Object(l.a)())},e.prototype.ngAfterViewInit=function(){},e.prototype.load=function(){if(this.entityTypeValue)switch(this.entityTypeValue){case c.b.ASSET:this.entityText="asset.asset",this.noEntitiesMatchingText="asset.no-assets-matching",this.entityRequiredText="asset.asset-required";break;case c.b.DEVICE:this.entityText="device.device",this.noEntitiesMatchingText="device.no-devices-matching",this.entityRequiredText="device.device-required";break;case c.b.ENTITY_VIEW:this.entityText="entity-view.entity-view",this.noEntitiesMatchingText="entity-view.no-entity-views-matching",this.entityRequiredText="entity-view.entity-view-required";break;case c.b.RULE_CHAIN:this.entityText="rulechain.rulechain",this.noEntitiesMatchingText="rulechain.no-rulechains-matching",this.entityRequiredText="rulechain.rulechain-required";break;case c.b.TENANT:case c.a.CURRENT_TENANT:this.entityText="tenant.tenant",this.noEntitiesMatchingText="tenant.no-tenants-matching",this.entityRequiredText="tenant.tenant-required";break;case c.b.CUSTOMER:this.entityText="customer.customer",this.noEntitiesMatchingText="customer.no-customers-matching",this.entityRequiredText="customer.customer-required";break;case c.b.USER:case c.a.CURRENT_USER:this.entityText="user.user",this.noEntitiesMatchingText="user.no-users-matching",this.entityRequiredText="user.user-required";break;case c.b.DASHBOARD:this.entityText="dashboard.dashboard",this.noEntitiesMatchingText="dashboard.no-dashboards-matching",this.entityRequiredText="dashboard.dashboard-required";break;case c.b.ALARM:this.entityText="alarm.alarm",this.noEntitiesMatchingText="alarm.no-alarms-matching",this.entityRequiredText="alarm.alarm-required";break;case c.a.CURRENT_CUSTOMER:this.entityText="customer.default-customer",this.noEntitiesMatchingText="customer.no-customers-matching",this.entityRequiredText="customer.default-customer-required";break;case c.a.CURRENT_USER_OWNER:Object(d.b)(this.store).authority===m.a.TENANT_ADMIN?(this.entityText="tenant.tenant",this.noEntitiesMatchingText="tenant.no-tenants-matching",this.entityRequiredText="tenant.tenant-required"):(this.entityText="customer.customer",this.noEntitiesMatchingText="customer.no-customers-matching",this.entityRequiredText="customer.customer-required")}this.labelText&&this.labelText.length&&(this.entityText=this.labelText),this.requiredText&&this.requiredText.length&&(this.entityRequiredText=this.requiredText);var e=this.getCurrentEntity();if(e){var t=e.id.entityType;this.entityTypeValue&&t!==this.entityTypeValue&&this.reset()}},e.prototype.getCurrentEntity=function(){var e=this.selectEntityFormGroup.get("entity").value;return e&&"string"!=typeof e?e:null},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.selectEntityFormGroup.disable({emitEvent:!1}):this.selectEntityFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){var t=this;if(this.searchText="",null!=e)if("string"==typeof e){var n=this.checkEntityType(this.entityTypeValue);this.entityService.getEntity(n,e,{ignoreLoading:!0,ignoreErrors:!0}).subscribe((function(e){t.modelValue=e.id.id,t.selectEntityFormGroup.get("entity").patchValue(e,{emitEvent:!1})}),(function(){t.modelValue=null,t.selectEntityFormGroup.get("entity").patchValue("",{emitEvent:!1}),null!==e&&t.propagateChange(t.modelValue)}))}else if(e.entityType&&e.id){n=this.checkEntityType(e.entityType);this.entityService.getEntity(n,e.id,{ignoreLoading:!0,ignoreErrors:!0}).subscribe((function(e){t.modelValue=e.id.id,t.selectEntityFormGroup.get("entity").patchValue(e,{emitEvent:!1})}),(function(){t.modelValue=null,t.selectEntityFormGroup.get("entity").patchValue("",{emitEvent:!1}),null!==e&&t.propagateChange(t.modelValue)}))}else this.modelValue=null,this.selectEntityFormGroup.get("entity").patchValue("",{emitEvent:!1});else this.modelValue=null,this.selectEntityFormGroup.get("entity").patchValue("",{emitEvent:!1});this.dirty=!0},e.prototype.onFocus=function(){this.dirty&&(this.selectEntityFormGroup.get("entity").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.reset=function(){this.selectEntityFormGroup.get("entity").patchValue("",{emitEvent:!1})},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displayEntityFn=function(e){return e?e.name:void 0},e.prototype.fetchEntities=function(e){var t=this;this.searchText=e;var n=this.checkEntityType(this.entityTypeValue);return this.entityService.getEntitiesByNameFilter(n,e,50,this.entitySubtypeValue,{ignoreLoading:!0}).pipe(Object(o.a)((function(e){if(e){if(t.excludeEntityIds&&t.excludeEntityIds.length){var n=[];return e.forEach((function(e){-1===t.excludeEntityIds.indexOf(e.id.id)&&n.push(e)})),n}return e}return[]})))},e.prototype.clear=function(){var e=this;this.selectEntityFormGroup.get("entity").patchValue("",{emitEvent:!0}),setTimeout((function(){e.entityInput.nativeElement.blur(),e.entityInput.nativeElement.focus()}),0)},e.prototype.checkEntityType=function(e){return e===c.a.CURRENT_CUSTOMER?c.b.CUSTOMER:e===c.a.CURRENT_TENANT?c.b.TENANT:e===c.a.CURRENT_USER?c.b.USER:e===c.a.CURRENT_USER_OWNER?Object(d.b)(this.store).authority===m.a.TENANT_ADMIN?c.b.TENANT:c.b.CUSTOMER:e},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](f.Store),i["\u0275\u0275directiveInject"](h.TranslateService),i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-autocomplete"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](w,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.entityInput=n.first))},inputs:{entityType:"entityType",entitySubtype:"entitySubtype",excludeEntityIds:"excludeEntityIds",labelText:"labelText",requiredText:"requiredText",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:12,vars:15,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","entity",3,"placeholder","required","matAutocomplete","focusin"],["entityInput",""],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["entityAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[4,"ngIf"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"input",1,2),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,M,3,0,"button",3),i["\u0275\u0275elementStart"](5,"mat-autocomplete",4,5),i["\u0275\u0275template"](7,O,3,5,"mat-option",6),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,x,4,6,"mat-option",7),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,j,3,3,"mat-error",8),i["\u0275\u0275elementEnd"]()),2&e){var n,r=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("formGroup",t.selectEntityFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](3,9,t.entityText)),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",r),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.selectEntityFormGroup.get("entity").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayEntityFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](8,11,t.filteredEntities)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!(null!=(n=i["\u0275\u0275pipeBind1"](10,13,t.filteredEntities))&&n.length)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectEntityFormGroup.get("entity").hasError("required"))}},directives:[y.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,g.MatInput,r.DefaultValueAccessor,b.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,v.NgIf,b.MatAutocomplete,v.NgForOf,C.MatButton,y.MatSuffix,E.MatIcon,T.MatOption,y.MatError],pipes:[h.TranslatePipe,v.AsyncPipe,S.a],styles:["[_nghost-%COMP%]     .mat-form-field-infix{width:auto;min-width:100px}"]}),e}();!function(){i["\u0275setClassMetadata"](A,[{type:i.Component,args:[{selector:"tb-entity-autocomplete",templateUrl:"./entity-autocomplete.component.html",styleUrls:["./entity-autocomplete.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return A})),multi:!0}]}]}],(function(){return[{type:f.Store},{type:h.TranslateService},{type:u.a},{type:r.FormBuilder}]}),{entityType:[{type:i.Input}],entitySubtype:[{type:i.Input}],excludeEntityIds:[{type:i.Input}],labelText:[{type:i.Input}],requiredText:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}],entityInput:[{type:i.ViewChild,args:["entityInput",{static:!0}]}]})}()},"U3y+":function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),function(e){e.TENANT="TENANT",e.TENANT_PROFILE="TENANT_PROFILE",e.CUSTOMER="CUSTOMER",e.USER="USER",e.DASHBOARD="DASHBOARD",e.ASSET="ASSET",e.DEVICE="DEVICE",e.DEVICE_PROFILE="DEVICE_PROFILE",e.ALARM="ALARM",e.RULE_CHAIN="RULE_CHAIN",e.RULE_NODE="RULE_NODE",e.ENTITY_VIEW="ENTITY_VIEW",e.WIDGETS_BUNDLE="WIDGETS_BUNDLE",e.WIDGET_TYPE="WIDGET_TYPE",e.API_USAGE_STATE="API_USAGE_STATE"}(i||(i={})),function(e){e.CURRENT_CUSTOMER="CURRENT_CUSTOMER",e.CURRENT_TENANT="CURRENT_TENANT",e.CURRENT_USER="CURRENT_USER",e.CURRENT_USER_OWNER="CURRENT_USER_OWNER"}(r||(r={}));var a=new Map([[i.TENANT,{type:"entity.type-tenant",typePlural:"entity.type-tenants",list:"entity.list-of-tenants",nameStartsWith:"entity.tenant-name-starts-with",details:"tenant.tenant-details",add:"tenant.add",noEntities:"tenant.no-tenants-text",search:"tenant.search",selectedEntities:"tenant.selected-tenants"}],[i.TENANT_PROFILE,{type:"entity.type-tenant-profile",typePlural:"entity.type-tenant-profiles",list:"entity.list-of-tenant-profiles",nameStartsWith:"entity.tenant-profile-name-starts-with",details:"tenant-profile.tenant-profile-details",add:"tenant-profile.add",noEntities:"tenant-profile.no-tenant-profiles-text",search:"tenant-profile.search",selectedEntities:"tenant-profile.selected-tenant-profiles"}],[i.CUSTOMER,{type:"entity.type-customer",typePlural:"entity.type-customers",list:"entity.list-of-customers",nameStartsWith:"entity.customer-name-starts-with",details:"customer.customer-details",add:"customer.add",noEntities:"customer.no-customers-text",search:"customer.search",selectedEntities:"customer.selected-customers"}],[i.USER,{type:"entity.type-user",typePlural:"entity.type-users",list:"entity.list-of-users",nameStartsWith:"entity.user-name-starts-with",details:"user.user-details",add:"user.add",noEntities:"user.no-users-text",search:"user.search",selectedEntities:"user.selected-users"}],[i.DEVICE,{type:"entity.type-device",typePlural:"entity.type-devices",list:"entity.list-of-devices",nameStartsWith:"entity.device-name-starts-with",details:"device.device-details",add:"device.add",noEntities:"device.no-devices-text",search:"device.search",selectedEntities:"device.selected-devices"}],[i.DEVICE_PROFILE,{type:"entity.type-device-profile",typePlural:"entity.type-device-profiles",list:"entity.list-of-device-profiles",nameStartsWith:"entity.device-profile-name-starts-with",details:"device-profile.device-profile-details",add:"device-profile.add",noEntities:"device-profile.no-device-profiles-text",search:"device-profile.search",selectedEntities:"device-profile.selected-device-profiles"}],[i.ASSET,{type:"entity.type-asset",typePlural:"entity.type-assets",list:"entity.list-of-assets",nameStartsWith:"entity.asset-name-starts-with",details:"asset.asset-details",add:"asset.add",noEntities:"asset.no-assets-text",search:"asset.search",selectedEntities:"asset.selected-assets"}],[i.ENTITY_VIEW,{type:"entity.type-entity-view",typePlural:"entity.type-entity-views",list:"entity.list-of-entity-views",nameStartsWith:"entity.entity-view-name-starts-with",details:"entity-view.entity-view-details",add:"entity-view.add",noEntities:"entity-view.no-entity-views-text",search:"entity-view.search",selectedEntities:"entity-view.selected-entity-views"}],[i.RULE_CHAIN,{type:"entity.type-rulechain",typePlural:"entity.type-rulechains",list:"entity.list-of-rulechains",nameStartsWith:"entity.rulechain-name-starts-with",details:"rulechain.rulechain-details",add:"rulechain.add",noEntities:"rulechain.no-rulechains-text",search:"rulechain.search",selectedEntities:"rulechain.selected-rulechains"}],[i.RULE_NODE,{type:"entity.type-rulenode",typePlural:"entity.type-rulenodes",list:"entity.list-of-rulenodes",nameStartsWith:"entity.rulenode-name-starts-with"}],[i.DASHBOARD,{type:"entity.type-dashboard",typePlural:"entity.type-dashboards",list:"entity.list-of-dashboards",nameStartsWith:"entity.dashboard-name-starts-with",details:"dashboard.dashboard-details",add:"dashboard.add",noEntities:"dashboard.no-dashboards-text",search:"dashboard.search",selectedEntities:"dashboard.selected-dashboards"}],[i.ALARM,{type:"entity.type-alarm",typePlural:"entity.type-alarms",list:"entity.list-of-alarms",nameStartsWith:"entity.alarm-name-starts-with",details:"dashboard.dashboard-details",noEntities:"alarm.no-alarms-prompt",search:"alarm.search",selectedEntities:"alarm.selected-alarms"}],[i.API_USAGE_STATE,{type:"entity.type-api-usage-state"}],[i.WIDGETS_BUNDLE,{details:"widgets-bundle.widgets-bundle-details",add:"widgets-bundle.add",noEntities:"widgets-bundle.no-widgets-bundles-text",search:"widgets-bundle.search",selectedEntities:"widgets-bundle.selected-widgets-bundles"}],[r.CURRENT_CUSTOMER,{type:"entity.type-current-customer",list:"entity.type-current-customer"}],[r.CURRENT_TENANT,{type:"entity.type-current-tenant",list:"entity.type-current-tenant"}],[r.CURRENT_USER,{type:"entity.type-current-user",list:"entity.type-current-user"}],[r.CURRENT_USER_OWNER,{type:"entity.type-current-user-owner",list:"entity.type-current-user-owner"}]]),o=new Map([[i.TENANT,{helpLinkId:"tenants"}],[i.TENANT_PROFILE,{helpLinkId:"tenantProfiles"}],[i.CUSTOMER,{helpLinkId:"customers"}],[i.USER,{helpLinkId:"users"}],[i.DEVICE,{helpLinkId:"devices"}],[i.DEVICE_PROFILE,{helpLinkId:"deviceProfiles"}],[i.ASSET,{helpLinkId:"assets"}],[i.ENTITY_VIEW,{helpLinkId:"entityViews"}],[i.RULE_CHAIN,{helpLinkId:"rulechains"}],[i.DASHBOARD,{helpLinkId:"dashboards"}],[i.WIDGETS_BUNDLE,{helpLinkId:"widgetsBundles"}]])},UZbx:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return g}));var i,r,a,o=n("KMMH"),s=n("WZ6u"),l=n("oKkZ"),c=n("U3y+"),u=n("//Q6");!function(e){e.CRITICAL="CRITICAL",e.MAJOR="MAJOR",e.MINOR="MINOR",e.WARNING="WARNING",e.INDETERMINATE="INDETERMINATE"}(i||(i={})),function(e){e.ACTIVE_UNACK="ACTIVE_UNACK",e.ACTIVE_ACK="ACTIVE_ACK",e.CLEARED_UNACK="CLEARED_UNACK",e.CLEARED_ACK="CLEARED_ACK"}(r||(r={})),function(e){e.ANY="ANY",e.ACTIVE="ACTIVE",e.CLEARED="CLEARED",e.ACK="ACK",e.UNACK="UNACK"}(a||(a={}));var p=new Map([[i.CRITICAL,"alarm.severity-critical"],[i.MAJOR,"alarm.severity-major"],[i.MINOR,"alarm.severity-minor"],[i.WARNING,"alarm.severity-warning"],[i.INDETERMINATE,"alarm.severity-indeterminate"]]),d=new Map([[r.ACTIVE_UNACK,"alarm.display-status.ACTIVE_UNACK"],[r.ACTIVE_ACK,"alarm.display-status.ACTIVE_ACK"],[r.CLEARED_UNACK,"alarm.display-status.CLEARED_UNACK"],[r.CLEARED_ACK,"alarm.display-status.CLEARED_ACK"]]),m=new Map([[a.ANY,"alarm.search-status.ANY"],[a.ACTIVE,"alarm.search-status.ACTIVE"],[a.CLEARED,"alarm.search-status.CLEARED"],[a.ACK,"alarm.search-status.ACK"],[a.UNACK,"alarm.search-status.UNACK"]]),f=new Map([[i.CRITICAL,"red"],[i.MAJOR,"orange"],[i.MINOR,"#ffca3d"],[i.WARNING,"#abab00"],[i.INDETERMINATE,"green"]]),h={id:new s.a(l.a),tenantId:new o.a(l.a),createdTime:(new Date).getTime(),startTs:(new Date).getTime(),endTs:0,ackTs:0,clearTs:0,originatorName:"Simulated",originator:{entityType:c.b.DEVICE,id:"1"},type:"TEMPERATURE",severity:i.MAJOR,status:r.ACTIVE_UNACK,details:{message:"Temperature is high!"},propagate:!1},y={createdTime:{keyName:"createdTime",value:"createdTime",name:"alarm.created-time",time:!0},startTime:{keyName:"startTime",value:"startTs",name:"alarm.start-time",time:!0},endTime:{keyName:"endTime",value:"endTs",name:"alarm.end-time",time:!0},ackTime:{keyName:"ackTime",value:"ackTs",name:"alarm.ack-time",time:!0},clearTime:{keyName:"clearTime",value:"clearTs",name:"alarm.clear-time",time:!0},originator:{keyName:"originator",value:"originatorName",name:"alarm.originator"},originatorType:{keyName:"originatorType",value:"originator.entityType",name:"alarm.originator-type"},type:{keyName:"type",value:"type",name:"alarm.type"},severity:{keyName:"severity",value:"severity",name:"alarm.severity"},status:{keyName:"status",value:"status",name:"alarm.status"}},g=function(){function e(e,t,n,i,r,a){this.affectedEntityId=e,this.pageLink=t,this.searchStatus=n,this.status=i,this.fetchOriginator=r,this.offset=a}return e.prototype.toQuery=function(){var e="/"+this.affectedEntityId.entityType+"/"+this.affectedEntityId.id;return e+=this.pageLink.toQuery(),this.searchStatus?e+="&searchStatus="+this.searchStatus:this.status&&(e+="&status="+this.status),void 0!==this.fetchOriginator&&null!==this.fetchOriginator&&(e+="&fetchOriginator="+this.fetchOriginator),Object(u.y)(this.offset)&&this.offset.length&&(e+="&offset="+this.offset),e},e}()},Uj2l:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var i,r,a,o=n("LRne"),s=n("Cfvw"),l=n("vkgz"),c=n("lJxs");function u(e,t){return(i?Object(o.a)(i):Object(s.a)(n.e(9).then(n.t.bind(null,"6UM0",7))).pipe(Object(l.a)((function(e){i=e})))).pipe(Object(c.a)((function(n){return n.js_beautify(e,t)})))}function p(e,t){return(a?Object(o.a)(a):Object(s.a)(n.e(8).then(n.t.bind(null,"TXwP",7))).pipe(Object(l.a)((function(e){a=e})))).pipe(Object(c.a)((function(n){return n.css_beautify(e,t)})))}function d(e,t){return(r?Object(o.a)(r):Object(s.a)(Promise.all([n.e(9),n.e(8),n.e(49)]).then(n.t.bind(null,"psGv",7))).pipe(Object(l.a)((function(e){r=e})))).pipe(Object(c.a)((function(n){return n.html_beautify(e,t)})))}},"VYz+":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("mrSG"),r=n("fXoL"),a=n("FKr1"),o=n("0IaG"),s=n("3Pt+"),l=n("gmuX"),c=n("l7P3"),u=n("tyNb"),p=n("XiUz"),d=n("R9Cn"),m=n("bTqV"),f=n("ofXK"),h=n("sYmb"),y=function(e){function t(t,n,i,r,a,o){var s=e.call(this,t,n,a)||this;return s.store=t,s.router=n,s.data=i,s.errorStateMatcher=r,s.dialogRef=a,s.fb=o,s.submitted=!1,s}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){this.colorPickerFormGroup=this.fb.group({color:[this.data.color,[s.Validators.required]]})},t.prototype.isErrorState=function(e,t){var n=this.errorStateMatcher.isErrorState(e,t),i=!!(e&&e.invalid&&this.submitted);return n||i},t.prototype.onColorChange=function(e){this.colorPickerFormGroup.get("color").setValue(e),this.colorPickerFormGroup.markAsDirty()},t.prototype.cancel=function(){this.dialogRef.close(null)},t.prototype.select=function(){this.submitted=!0;var e=this.colorPickerFormGroup.get("color").value;this.dialogRef.close(e)},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](c.Store),r["\u0275\u0275directiveInject"](u.Router),r["\u0275\u0275directiveInject"](o.MAT_DIALOG_DATA),r["\u0275\u0275directiveInject"](a.ErrorStateMatcher,4),r["\u0275\u0275directiveInject"](o.MatDialogRef),r["\u0275\u0275directiveInject"](s.FormBuilder))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-color-picker-dialog"]],features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.ErrorStateMatcher,useExisting:t}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:13,vars:18,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-content","","fxLayout","row","fxLayoutAlign","center"],[3,"cpToggle","cpDialogDisplay","colorPicker","colorPickerChange"],["mat-dialog-actions","","fxLayout","row"],["fxFlex",""],["mat-button","","type","button",3,"disabled","click"],["mat-button","","type","submit",3,"disabled"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.select()})),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"span",2),r["\u0275\u0275listener"]("colorPickerChange",(function(e){return t.onColorChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275element"](4,"span",4),r["\u0275\u0275elementStart"](5,"button",5),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275pipe"](6,"async"),r["\u0275\u0275text"](7),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"button",6),r["\u0275\u0275pipe"](10,"async"),r["\u0275\u0275text"](11),r["\u0275\u0275pipe"](12,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.colorPickerFormGroup),r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("background",t.colorPickerFormGroup.get("color").value),r["\u0275\u0275property"]("cpToggle",!0)("cpDialogDisplay","inline")("colorPicker",t.colorPickerFormGroup.get("color").value),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](6,10,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](8,12,"action.cancel")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](10,14,t.isLoading$)||t.colorPickerFormGroup.invalid||!t.colorPickerFormGroup.dirty),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](12,16,"action.select")," "))},directives:[s["\u0275angular_packages_forms_forms_y"],s.NgControlStatusGroup,s.FormGroupDirective,o.MatDialogContent,p.f,p.e,d.a,o.MatDialogActions,p.b,m.MatButton],pipes:[f.AsyncPipe,h.TranslatePipe],encapsulation:2}),t}(l.a);!function(){r["\u0275setClassMetadata"](y,[{type:r.Component,args:[{selector:"tb-color-picker-dialog",templateUrl:"./color-picker-dialog.component.html",providers:[{provide:a.ErrorStateMatcher,useExisting:y}],styleUrls:[]}]}],(function(){return[{type:c.Store},{type:u.Router},{type:void 0,decorators:[{type:r.Inject,args:[o.MAT_DIALOG_DATA]}]},{type:a.ErrorStateMatcher,decorators:[{type:r.SkipSelf}]},{type:o.MatDialogRef},{type:s.FormBuilder}]}),null)}()},Vurf:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n("mrSG"),r=n("fXoL"),a=n("Nm8O"),o=n("LRne"),s=n("z6cu"),l=n("jtHE"),c=n("cp0P"),u=n("vkgz"),p=n("JIr8"),d=n("5+tZ"),m=n("lJxs"),f=n("Y8nr"),h=n("9D3k"),y=n("sIb/"),g=n("C/rb"),b=n("zp9Z"),v=n("BnVf"),C=n("k9IB"),E=n("OiFK"),T=n("YnEf"),S=n("mbhL"),w=n("jKtI"),M=n("xKAQ"),O=n("jXr5"),I=n("l7P3"),x=n("tk/3"),j=n("tyNb"),A=n("sYmb"),R=n("0IaG"),N=function(){function e(e,t,n,i,r,o,s,l,c,u,p,d){this.store=e,this.http=t,this.userService=n,this.timeService=i,this.router=r,this.route=o,this.zone=s,this.utils=l,this.dashboardService=c,this.adminService=u,this.translate=p,this.dialog=d,this.oauth2Clients=null,this.refreshTokenSubject=null,this.jwtHelper=new a.a}return e._storeGet=function(e){return localStorage.getItem(e)},e.isTokenValid=function(t){var n=e._storeGet(t+"_expiration");return n&&Number(n)>(new Date).valueOf()+2e3},e.isJwtTokenValid=function(){return e.isTokenValid("jwt_token")},e.clearTokenData=function(){localStorage.removeItem("jwt_token"),localStorage.removeItem("jwt_token_expiration"),localStorage.removeItem("refresh_token"),localStorage.removeItem("refresh_token_expiration")},e.getJwtToken=function(){return e._storeGet("jwt_token")},e.prototype.reloadUser=function(){var e=this;this.loadUser(!0).subscribe((function(t){e.notifyAuthenticated(t),e.notifyUserLoaded(!0)}),(function(){e.notifyUnauthenticated(),e.notifyUserLoaded(!0)}))},e.prototype.login=function(e){var t=this;return this.http.post("/api/auth/login",e,Object(f.a)()).pipe(Object(u.a)((function(e){t.setUserFromJwtToken(e.token,e.refreshToken,!0)})))},e.prototype.publicLogin=function(e){var t={publicId:e};return this.http.post("/api/auth/login/public",t,Object(f.a)())},e.prototype.sendResetPasswordLink=function(e){return this.http.post("/api/noauth/resetPasswordByEmail",{email:e},Object(f.a)())},e.prototype.activate=function(e,t,n){var i=this;return this.http.post("/api/noauth/activate?sendActivationMail="+n,{activateToken:e,password:t},Object(f.a)()).pipe(Object(u.a)((function(e){i.setUserFromJwtToken(e.token,e.refreshToken,!0)})))},e.prototype.resetPassword=function(e,t){var n=this;return this.http.post("/api/noauth/resetPassword",{resetToken:e,password:t},Object(f.a)()).pipe(Object(u.a)((function(e){n.setUserFromJwtToken(e.token,e.refreshToken,!0)})))},e.prototype.changePassword=function(e,t){return this.http.post("/api/auth/changePassword",{currentPassword:e,newPassword:t},Object(f.a)())},e.prototype.activateByEmailCode=function(e){return this.http.post("/api/noauth/activateByEmailCode?emailCode="+e,null,Object(f.a)())},e.prototype.resendEmailActivation=function(e){var t=encodeURIComponent(e);return this.http.post("/api/noauth/resendEmailActivation?email="+t,null,Object(f.a)())},e.prototype.loginAsUser=function(e){var t=this;return this.http.get("/api/user/"+e+"/token",Object(f.a)()).pipe(Object(u.a)((function(e){t.setUserFromJwtToken(e.token,e.refreshToken,!0)})))},e.prototype.logout=function(e){var t=this;void 0===e&&(e=!1),e&&(this.redirectUrl=this.router.url),this.http.post("/api/auth/logout",null,Object(f.a)(!0,!0)).subscribe((function(){t.clearJwtToken()}),(function(){t.clearJwtToken()}))},e.prototype.notifyUserLoaded=function(e){this.store.dispatch(new y.b({isUserLoaded:e}))},e.prototype.gotoDefaultPlace=function(e){var t=this,n=Object(g.a)(this.store),i=this.defaultUrl(e,n);this.zone.run((function(){t.router.navigateByUrl(i)}))},e.prototype.loadOAuth2Clients=function(){var e=this;return this.http.post("/api/noauth/oauth2Clients",null,Object(f.a)()).pipe(Object(p.a)((function(e){return Object(o.a)([])})),Object(u.a)((function(t){e.oauth2Clients=t})))},e.prototype.forceDefaultPlace=function(e,t,n){return!(!e||!e.authUser||e.authUser.authority!==b.a.TENANT_ADMIN&&e.authUser.authority!==b.a.CUSTOMER_USER||!(this.userHasDefaultDashboard(e)&&e.forceFullscreen||e.authUser.isPublic))&&("profile"===t?!this.userHasProfile(e.authUser):!(t.startsWith("dashboard.")||t.startsWith("dashboards.")&&e.allowedDashboardIds.indexOf(n.dashboardId)>-1))},e.prototype.defaultUrl=function(e,t,n,i){var r=this,a=null;if(e){if(!n||"login"===n||this.forceDefaultPlace(t,n,i)){if(this.redirectUrl){var o=this.redirectUrl;this.redirectUrl=null,a=this.router.parseUrl(o)}else a=this.router.parseUrl("home");if(t.authUser.authority===b.a.TENANT_ADMIN||t.authUser.authority===b.a.CUSTOMER_USER)if(this.userHasDefaultDashboard(t)){var s=t.userDetails.additionalInfo.defaultDashboardId;a=t.forceFullscreen?this.router.parseUrl("dashboard/"+s):this.router.parseUrl("dashboards/"+s)}else t.authUser.isPublic&&(a=this.router.parseUrl("dashboard/"+t.lastPublicDashboardId));else t.authUser.authority===b.a.SYS_ADMIN&&this.adminService.checkUpdates().subscribe((function(e){e&&e.updateAvailable&&r.store.dispatch(new M.b({message:e.message,type:"info",verticalPosition:"bottom",horizontalPosition:"right"}))}))}}else a=this.router.parseUrl("login");return a},e.prototype.loadUser=function(e){var t=this;if(Object(g.b)(this.store))return Object(o.a)({});var n=this.utils.getQueryParam("publicId"),i=this.utils.getQueryParam("accessToken"),r=this.utils.getQueryParam("refreshToken"),a=this.utils.getQueryParam("username"),l=this.utils.getQueryParam("password"),c=this.utils.getQueryParam("loginError");if(n)return this.publicLogin(n).pipe(Object(d.b)((function(e){return t.updateAndValidateTokens(e.token,e.refreshToken,!1),t.procceedJwtTokenValidate()})),Object(p.a)((function(e){throw t.utils.updateQueryParam("publicId",null),Error()})));if(i){this.utils.updateQueryParam("accessToken",null),r&&this.utils.updateQueryParam("refreshToken",null);try{this.updateAndValidateToken(i,"jwt_token",!1),r?this.updateAndValidateToken(r,"refresh_token",!1):(localStorage.removeItem("refresh_token"),localStorage.removeItem("refresh_token_expiration"))}catch(m){return Object(s.a)(m)}return this.procceedJwtTokenValidate()}if(a&&l){this.utils.updateQueryParam("username",null),this.utils.updateQueryParam("password",null);var u={username:a,password:l};return this.http.post("/api/auth/login",u,Object(f.a)()).pipe(Object(d.b)((function(e){return t.updateAndValidateTokens(e.token,e.refreshToken,!1),t.procceedJwtTokenValidate()})))}return c?(this.showLoginErrorDialog(c),this.utils.updateQueryParam("loginError",null),Object(s.a)(Error())):this.procceedJwtTokenValidate(e)},e.prototype.showLoginErrorDialog=function(e){var t=this;this.translate.get(["login.error","action.close"]).subscribe((function(n){var i={disableClose:!0,data:{title:n["login.error"],message:e,ok:n["action.close"]}};t.dialog.open(O.a,i)}))},e.prototype.procceedJwtTokenValidate=function(t){var n=this,r=new l.a;return this.validateJwtToken(t).subscribe((function(){var t={},a=e._storeGet("jwt_token");t.authUser=n.jwtHelper.decodeToken(a),t.authUser&&t.authUser.scopes&&t.authUser.scopes.length?t.authUser.authority=b.a[t.authUser.scopes[0]]:t.authUser&&(t.authUser.authority=b.a.ANONYMOUS),t.authUser.isPublic&&(t.forceFullscreen=!0),t.authUser.isPublic?n.loadSystemParams(t).subscribe((function(e){t=Object(i.a)(Object(i.a)({},t),e),r.next(t),r.complete()}),(function(e){r.error(e)})):t.authUser.userId?n.userService.getUser(t.authUser.userId).subscribe((function(e){t.userDetails=e,t.forceFullscreen=!1,n.userForceFullscreen(t)&&(t.forceFullscreen=!0),n.loadSystemParams(t).subscribe((function(e){var a;a=(t=Object(i.a)(Object(i.a)({},t),e)).userDetails.additionalInfo&&t.userDetails.additionalInfo.lang?t.userDetails.additionalInfo.lang:null,n.notifyUserLang(a),r.next(t),r.complete()}),(function(e){r.error(e),n.logout()}))}),(function(e){r.error(e),n.logout()})):r.error(null)}),(function(e){r.error(e)})),r},e.prototype.loadIsUserTokenAccessEnabled=function(e){return e.authority===b.a.SYS_ADMIN||e.authority===b.a.TENANT_ADMIN?this.http.get("/api/user/tokenAccessEnabled",Object(f.a)()):Object(o.a)(!1)},e.prototype.loadSystemParams=function(e){var t=[this.loadIsUserTokenAccessEnabled(e.authUser),this.fetchAllowedDashboardIds(e),this.timeService.loadMaxDatapointsLimit()];return Object(c.a)(t).pipe(Object(m.a)((function(e){return{userTokenAccessEnabled:e[0],allowedDashboardIds:e[1]}})))},e.prototype.refreshJwtToken=function(t){var n=this;void 0===t&&(t=!0);var i=this.refreshTokenSubject;if(null===this.refreshTokenSubject){this.refreshTokenSubject=new l.a(1),i=this.refreshTokenSubject;var r=e._storeGet("refresh_token"),a=e.isTokenValid("refresh_token");if(this.setUserFromJwtToken(null,null,!1),a){var o={refreshToken:r};this.http.post("/api/auth/token",o,Object(f.a)()).subscribe((function(e){t?n.setUserFromJwtToken(e.token,e.refreshToken,!1):n.updateAndValidateTokens(e.token,e.refreshToken,!0),n.refreshTokenSubject.next(e),n.refreshTokenSubject.complete(),n.refreshTokenSubject=null}),(function(){n.clearJwtToken(),n.refreshTokenSubject.error(new Error(n.translate.instant("access.refresh-token-failed"))),n.refreshTokenSubject=null}))}else this.translate.get("access.refresh-token-expired").subscribe((function(e){n.refreshTokenSubject.error(new Error(e)),n.refreshTokenSubject=null}))}return i},e.prototype.validateJwtToken=function(t){var n=new l.a;return e.isTokenValid("jwt_token")?(n.next(),n.complete()):t?this.refreshJwtToken(!t).subscribe((function(){n.next(),n.complete()}),(function(e){n.error(e)})):(this.clearJwtToken(),n.error(null)),n},e.prototype.refreshTokenPending=function(){return null!==this.refreshTokenSubject},e.prototype.setUserFromJwtToken=function(t,n,i){var r=this;t?(this.updateAndValidateTokens(t,n,!0),i?(this.notifyUserLoaded(!1),this.loadUser(!1).subscribe((function(e){r.notifyUserLoaded(!0),r.notifyAuthenticated(e)}),(function(){r.notifyUserLoaded(!0),r.notifyUnauthenticated()}))):this.loadUser(!1).subscribe()):(e.clearTokenData(),i&&this.notifyUnauthenticated())},e.prototype.updateAndValidateTokens=function(e,t,n){this.updateAndValidateToken(e,"jwt_token",n),this.updateAndValidateToken(t,"refresh_token",n)},e.prototype.parsePublicId=function(){var t=e.getJwtToken();if(t){var n=this.jwtHelper.decodeToken(t);if(n&&n.isPublic)return n.sub}return null},e.prototype.notifyUnauthenticated=function(){this.store.dispatch(new y.c)},e.prototype.notifyAuthenticated=function(e){this.store.dispatch(new y.a(e))},e.prototype.notifyUserLang=function(e){this.store.dispatch(new v.a({userLang:e}))},e.prototype.updateAndValidateToken=function(e,t,n){var i=!1,r=this.jwtHelper.decodeToken(e),a=r.iat,o=r.exp;if(a&&o){var s=o-a;if(s>0){var l=(new Date).valueOf()+1e3*s;localStorage.setItem(t,e),localStorage.setItem(t+"_expiration",""+l),i=!0}}!i&&n&&this.notifyUnauthenticated()},e.prototype.clearJwtToken=function(){this.setUserFromJwtToken(null,null,!0)},e.prototype.userForceFullscreen=function(e){return e.authUser&&e.authUser.isPublic||e.userDetails&&e.userDetails.additionalInfo&&e.userDetails.additionalInfo.defaultDashboardFullscreen&&!0===e.userDetails.additionalInfo.defaultDashboardFullscreen},e.prototype.userHasProfile=function(e){return e&&!e.isPublic},e.prototype.userHasDefaultDashboard=function(e){return!!(e&&e.userDetails&&e.userDetails.additionalInfo&&e.userDetails.additionalInfo.defaultDashboardId)},e.prototype.fetchAllowedDashboardIds=function(e){if(!e.forceFullscreen||e.authUser.authority!==b.a.TENANT_ADMIN&&e.authUser.authority!==b.a.CUSTOMER_USER)return Object(o.a)([]);var t=new S.b(100);return(e.authUser.authority===b.a.TENANT_ADMIN?this.dashboardService.getTenantDashboards(t):this.dashboardService.getCustomerDashboards(e.authUser.customerId,t)).pipe(Object(m.a)((function(e){return e.data.map((function(e){return e.id.id}))})))},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](I.Store),r["\u0275\u0275inject"](x.b),r["\u0275\u0275inject"](h.a),r["\u0275\u0275inject"](C.a),r["\u0275\u0275inject"](j.Router),r["\u0275\u0275inject"](j.ActivatedRoute),r["\u0275\u0275inject"](r.NgZone),r["\u0275\u0275inject"](E.a),r["\u0275\u0275inject"](T.a),r["\u0275\u0275inject"](w.a),r["\u0275\u0275inject"](A.TranslateService),r["\u0275\u0275inject"](R.MatDialog))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){r["\u0275setClassMetadata"](N,[{type:r.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:I.Store},{type:x.b},{type:h.a},{type:C.a},{type:j.Router},{type:j.ActivatedRoute},{type:r.NgZone},{type:E.a},{type:T.a},{type:w.a},{type:A.TranslateService},{type:R.MatDialog}]}),null)}()},Vz2p:function(e,t,n){"use strict";n.d(t,"c",(function(){return L})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return U}));var i=n("PXG5"),r=n("AytR"),a=n("mrSG"),o=n("l7P3"),s=n("EP1h");var l=n("m8m0"),c={isLoading:!1};var u=n("sIb/"),p={authUser:null,userDetails:null,userTokenAccessEnabled:!1,forceFullscreen:!1,allowedDashboardIds:[]},d=Object(a.a)({isAuthenticated:!1,isUserLoaded:!1,lastPublicDashboardId:null},p);var m=n("BnVf"),f={userLang:null};var h=n("tyNb"),y=n("fXoL"),g=n("9jGm"),b=n("VRyK"),v=n("zp1y"),C=n("vkgz"),E=n("lJxs"),T=n("/uUt"),S=n("pLZG"),w=Object(o.createFeatureSelector)("settings"),M=Object(o.createSelector)(w,(function(e){return e})),O=(Object(o.createSelector)(M,(function(e){return e.userLang})),n("NXKV")),I=n("wd/R");function x(e,t){var n=t;r.a.production||console.log("User lang: "+n),n||(n=e.getBrowserCultureLang(),r.a.production||console.log("Fallback to browser lang: "+n));var i=function(e){var t=(e||"").split("-").join("_");if(t.length){if(r.a.supportedLangs.indexOf(t)>-1)return t;var n,i=t.split("_");n=2===i.length?i[0]:t;var a=r.a.supportedLangs.filter((function(e){return e.split("_")[0]===n}));if(a.length)return a[0]}return r.a.defaultLang}(n);r.a.production||console.log("Detected supported lang: "+i),e.use(i),I.locale([i])}var j=n("Vurf"),A=n("OiFK"),R=n("C/rb"),N=n("sYmb"),k=function(){function e(e,t,n,i,r,a,s,l){var c=this;this.actions$=e,this.store=t,this.authService=n,this.utils=i,this.router=r,this.localStorageService=a,this.titleService=s,this.translate=l,this.persistSettings=this.actions$.pipe(Object(g.e)(m.b.CHANGE_LANGUAGE),Object(v.a)(this.store.pipe(Object(o.select)(w))),Object(C.a)((function(e){e[0];var t=e[1];return c.localStorageService.setItem("SETTINGS",t)}))),this.setTranslateServiceLanguage=this.store.pipe(Object(o.select)(w),Object(E.a)((function(e){return e.userLang})),Object(T.a)(),Object(C.a)((function(e){return x(c.translate,e)}))),this.setTitle=Object(b.a)(this.actions$.pipe(Object(g.e)(m.b.CHANGE_LANGUAGE)),this.router.events.pipe(Object(S.a)((function(e){return e instanceof h.ActivationEnd})))).pipe(Object(C.a)((function(){c.titleService.setTitle(c.router.routerState.snapshot.root,c.translate)}))),this.setPublicId=Object(b.a)(this.router.events.pipe(Object(S.a)((function(e){return e instanceof h.ActivationEnd})))).pipe(Object(C.a)((function(e){var t=Object(R.b)(c.store),n=e.snapshot;t&&t.isPublic&&n.url&&n.url.length&&"dashboard"===n.url[0].path&&(c.utils.updateQueryParam("publicId",t.sub),c.store.dispatch(new u.d({lastPublicDashboardId:n.params.dashboardId})))})))}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275inject"](g.a),y["\u0275\u0275inject"](o.Store),y["\u0275\u0275inject"](j.a),y["\u0275\u0275inject"](A.a),y["\u0275\u0275inject"](h.Router),y["\u0275\u0275inject"](s.a),y["\u0275\u0275inject"](O.a),y["\u0275\u0275inject"](N.TranslateService))},e.\u0275prov=y["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),Object(a.c)([Object(g.b)({dispatch:!1}),Object(a.e)("design:type",Object)],e.prototype,"persistSettings",void 0),Object(a.c)([Object(g.b)({dispatch:!1}),Object(a.e)("design:type",Object)],e.prototype,"setTranslateServiceLanguage",void 0),Object(a.c)([Object(g.b)({dispatch:!1}),Object(a.e)("design:type",Object)],e.prototype,"setTitle",void 0),Object(a.c)([Object(g.b)({dispatch:!1}),Object(a.e)("design:type",Object)],e.prototype,"setPublicId",void 0),e}();!function(){y["\u0275setClassMetadata"](k,[{type:y.Injectable}],(function(){return[{type:g.a},{type:o.Store},{type:j.a},{type:A.a},{type:h.Router},{type:s.a},{type:O.a},{type:N.TranslateService}]}),{persistSettings:[],setTranslateServiceLanguage:[],setTitle:[],setPublicId:[]})}();var P=n("xKAQ"),_={notification:null,hideNotification:null};var V=n("Y4+Y"),F=function(){function e(e,t){var n=this;this.actions$=e,this.notificationService=t,this.dispatchNotification=this.actions$.pipe(Object(g.e)(P.c.SHOW_NOTIFICATION),Object(E.a)((function(e){var t=e.notification;n.notificationService.dispatchNotification(t)}))),this.hideNotification=this.actions$.pipe(Object(g.e)(P.c.HIDE_NOTIFICATION),Object(E.a)((function(e){var t=e.hideNotification;n.notificationService.hideNotification(t)})))}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275inject"](g.a),y["\u0275\u0275inject"](V.a))},e.\u0275prov=y["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),Object(a.c)([Object(g.b)({dispatch:!1}),Object(a.e)("design:type",Object)],e.prototype,"dispatchNotification",void 0),Object(a.c)([Object(g.b)({dispatch:!1}),Object(a.e)("design:type",Object)],e.prototype,"hideNotification",void 0),e}();!function(){y["\u0275setClassMetadata"](F,[{type:y.Injectable}],(function(){return[{type:g.a},{type:V.a}]}),{dispatchNotification:[],hideNotification:[]})}();var L={load:function(e,t){switch(void 0===e&&(e=c),t.type){case l.c.START_LOAD:return Object(a.a)(Object(a.a)({},e),{isLoading:!0});case l.c.FINISH_LOAD:return Object(a.a)(Object(a.a)({},e),{isLoading:!1});default:return e}},auth:function(e,t){switch(void 0===e&&(e=d),t.type){case u.f.AUTHENTICATED:return Object(a.a)(Object(a.a)(Object(a.a)({},e),{isAuthenticated:!0}),t.payload);case u.f.UNAUTHENTICATED:return Object(a.a)(Object(a.a)(Object(a.a)({},e),{isAuthenticated:!1}),p);case u.f.LOAD_USER:return Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e),t.payload),{isAuthenticated:!!t.payload.isUserLoaded&&e.isAuthenticated}),t.payload.isUserLoaded?{}:p);case u.f.UPDATE_USER_DETAILS:case u.f.UPDATE_LAST_PUBLIC_DASHBOARD_ID:return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}},settings:function(e,t){switch(void 0===e&&(e=f),t.type){case m.b.CHANGE_LANGUAGE:return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}},notification:function(e,t){switch(void 0===e&&(e=_),t.type){case P.c.SHOW_NOTIFICATION:return Object(a.a)(Object(a.a)({},e),{notification:t.notification});case P.c.HIDE_NOTIFICATION:return Object(a.a)(Object(a.a)({},e),{hideNotification:t.hideNotification});default:return e}}},D=[function(e){return function(t,n){var i=e(t,n);return[o.INIT.toString(),o.UPDATE.toString()].includes(n.type)?Object(a.a)(Object(a.a)({},i),s.a.loadInitialState()):i}}];r.a.production||(D.unshift(i.a),D.unshift((function(e){return function(t,n){var i=e(t,n);return console.log("[DEBUG] action: "+n.type,{payload:n.payload,oldState:t,newState:i}),i}})));var U=[k,F]},WEPN:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),r=n("yl57"),a=n("ofXK"),o=n("znSr");function s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",9),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n)}}function l(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td",6),i["\u0275\u0275template"](2,s,2,1,"span",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",8),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",n.formatted),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.description)}}function c(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table"),i["\u0275\u0275elementStart"](1,"tbody"),i["\u0275\u0275template"](2,l,5,2,"tr",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",n.hotkeysList)}}var u=function(e){return{in:e}},p=function(){function e(e,t){var n=this;this.elementRef=e,this.hotkeysService=t,this.helpVisible=!1,this.title="Keyboard Shortcuts:",this.mousetrap=new Mousetrap(this.elementRef.nativeElement),this.mousetrap.bind("?",(function(e,t){n.toggleCheatSheet()}))}return e.prototype.ngOnInit=function(){this.hotkeys&&(this.hotkeysList=this.hotkeys.filter((function(e){return e.description})))},e.prototype.setHotKeys=function(e){this.hotkeysList=e.filter((function(e){return e.description}))},e.prototype.toggleCheatSheet=function(){this.helpVisible=!this.helpVisible},e.prototype.ngOnDestroy=function(){this.mousetrap.unbind("?")},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](r.e))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-hotkeys-cheatsheet"]],inputs:{title:"title",hotkeys:"hotkeys"},decls:7,vars:5,consts:[["tabindex","-1",1,"tb-hotkeys-container","fade",2,"display","none",3,"ngClass"],[1,"tb-hotkeys"],[1,"tb-hotkeys-title"],[4,"ngIf"],[1,"tb-hotkeys-close",3,"click"],[4,"ngFor","ngForOf"],[1,"tb-hotkeys-keys"],["class","tb-hotkeys-key",4,"ngFor","ngForOf"],[1,"tb-hotkeys-text"],[1,"tb-hotkeys-key"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h4",2),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,c,3,1,"table",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275listener"]("click",(function(){return t.toggleCheatSheet()})),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](3,u,t.helpVisible)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.helpVisible))},directives:[a.NgClass,o.b,a.NgIf,a.NgForOf],styles:[".tb-hotkeys-container[_ngcontent-%COMP%] {\n  display: table !important;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  color: #333;\n  font-size: 1em;\n  background-color: rgba(255,255,255,0.9);\n  outline: 0;\n}\n.tb-hotkeys-container.fade[_ngcontent-%COMP%] {\n  z-index: -1024;\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: opacity 0.15s linear;\n  -moz-transition: opacity 0.15s linear;\n  -o-transition: opacity 0.15s linear;\n  transition: opacity 0.15s linear;\n}\n.tb-hotkeys-container.fade.in[_ngcontent-%COMP%] {\n  z-index: 10002;\n  visibility: visible;\n  opacity: 1;\n}\n.tb-hotkeys-title[_ngcontent-%COMP%] {\n  font-weight: bold;\n  text-align: center;\n  font-size: 1.2em;\n}\n.tb-hotkeys[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  display: table-cell;\n  vertical-align: middle;\n}\n.tb-hotkeys[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\n  margin: auto;\n  color: #333;\n}\n.tb-content[_ngcontent-%COMP%] {\n  display: table-cell;\n  vertical-align: middle;\n}\n.tb-hotkeys-keys[_ngcontent-%COMP%] {\n  padding: 5px;\n  text-align: right;\n}\n.tb-hotkeys-key[_ngcontent-%COMP%] {\n  display: inline-block;\n  color: #fff;\n  background-color: #333;\n  border: 1px solid #333;\n  border-radius: 5px;\n  text-align: center;\n  margin-right: 5px;\n  box-shadow: inset 0 1px 0 #666, 0 1px 0 #bbb;\n  padding: 5px 9px;\n  font-size: 1em;\n}\n.tb-hotkeys-text[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  font-size: 1em;\n}\n.tb-hotkeys-close[_ngcontent-%COMP%] {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  font-size: 2em;\n  font-weight: bold;\n  padding: 5px 10px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  min-height: 45px;\n  min-width: 45px;\n  text-align: center;\n}\n.tb-hotkeys-close[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  cursor: pointer;\n}\n@media all and (max-width: 500px) {\n  .tb-hotkeys[_ngcontent-%COMP%] {\n    font-size: 0.8em;\n  }\n}\n@media all and (min-width: 750px) {\n  .tb-hotkeys[_ngcontent-%COMP%] {\n    font-size: 1.2em;\n  }\n}"]}),e}();!function(){i["\u0275setClassMetadata"](p,[{type:i.Component,args:[{selector:"tb-hotkeys-cheatsheet",styles:["\n.tb-hotkeys-container {\n  display: table !important;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  color: #333;\n  font-size: 1em;\n  background-color: rgba(255,255,255,0.9);\n  outline: 0;\n}\n.tb-hotkeys-container.fade {\n  z-index: -1024;\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: opacity 0.15s linear;\n  -moz-transition: opacity 0.15s linear;\n  -o-transition: opacity 0.15s linear;\n  transition: opacity 0.15s linear;\n}\n.tb-hotkeys-container.fade.in {\n  z-index: 10002;\n  visibility: visible;\n  opacity: 1;\n}\n.tb-hotkeys-title {\n  font-weight: bold;\n  text-align: center;\n  font-size: 1.2em;\n}\n.tb-hotkeys {\n  width: 100%;\n  height: 100%;\n  display: table-cell;\n  vertical-align: middle;\n}\n.tb-hotkeys table {\n  margin: auto;\n  color: #333;\n}\n.tb-content {\n  display: table-cell;\n  vertical-align: middle;\n}\n.tb-hotkeys-keys {\n  padding: 5px;\n  text-align: right;\n}\n.tb-hotkeys-key {\n  display: inline-block;\n  color: #fff;\n  background-color: #333;\n  border: 1px solid #333;\n  border-radius: 5px;\n  text-align: center;\n  margin-right: 5px;\n  box-shadow: inset 0 1px 0 #666, 0 1px 0 #bbb;\n  padding: 5px 9px;\n  font-size: 1em;\n}\n.tb-hotkeys-text {\n  padding-left: 10px;\n  font-size: 1em;\n}\n.tb-hotkeys-close {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  font-size: 2em;\n  font-weight: bold;\n  padding: 5px 10px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  min-height: 45px;\n  min-width: 45px;\n  text-align: center;\n}\n.tb-hotkeys-close:hover {\n  background-color: #fff;\n  cursor: pointer;\n}\n@media all and (max-width: 500px) {\n  .tb-hotkeys {\n    font-size: 0.8em;\n  }\n}\n@media all and (min-width: 750px) {\n  .tb-hotkeys {\n    font-size: 1.2em;\n  }\n}  "],template:'<div tabindex="-1" class="tb-hotkeys-container fade" [ngClass]="{\'in\': helpVisible}" style="display:none"><div class="tb-hotkeys">\n  <h4 class="tb-hotkeys-title">{{ title }}</h4>\n  <table *ngIf="helpVisible"><tbody>\n    <tr *ngFor="let hotkey of hotkeysList">\n      <td class="tb-hotkeys-keys">\n        <span *ngFor="let key of hotkey.formatted" class="tb-hotkeys-key">{{ key }}</span>\n      </td>\n      <td class="tb-hotkeys-text">{{ hotkey.description }}</td>\n    </tr>\n  </tbody></table>\n  <div class="tb-hotkeys-close" (click)="toggleCheatSheet()">&#215;</div>\n</div></div>'}]}],(function(){return[{type:i.ElementRef},{type:r.e}]}),{title:[{type:i.Input}],hotkeys:[{type:i.Input}]})}()},WKhm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("//Q6"),a=function(){function e(){}return e.prototype.transform=function(e){return Object(r.x)(e)?JSON.stringify(e):Object(r.v)(e)?e.toString():e},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"tbJson",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Pipe,args:[{name:"tbJson"}]}],null,null)}()},WNjs:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.getTenants=function(e,t){return this.http.get("/api/tenants"+e.toQuery(),Object(r.b)(t))},e.prototype.getTenantInfos=function(e,t){return this.http.get("/api/tenantInfos"+e.toQuery(),Object(r.b)(t))},e.prototype.getTenant=function(e,t){return this.http.get("/api/tenant/"+e,Object(r.b)(t))},e.prototype.getTenantInfo=function(e,t){return this.http.get("/api/tenant/info/"+e,Object(r.b)(t))},e.prototype.saveTenant=function(e,t){return this.http.post("/api/tenant",e,Object(r.b)(t))},e.prototype.deleteTenant=function(e,t){return this.http.delete("/api/tenant/"+e,Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},WZ6u:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("U3y+"),r=function(e){this.entityType=i.b.ALARM,this.id=e}},Wa9K:function(e,t,n){"use strict";var i=n("jlK2"),r=n("mhvu"),a=n.n(r),o=n("LvDl"),s=n.n(o),l=n("//Q6");function c(e){if(Array.isArray(e)&&2===e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e}var u=function(e){var t=[];return e.forEach((function(e){t.push({name:e,value:e})})),t},p=function(e,t){if(!s.a.isArray(e)){var n=[];if(t)t.forEach((function(t){n.push({name:e[t],value:t})}));else for(var i=0,r=Object.keys(e);i<r.length;i++){var a=r[i];e.hasOwnProperty(a)&&n.push({name:a,value:e[a]})}return n}return e},d=function(e,t,n){var i=(n=n||{}).global&&n.global.formDefaults?s.a.cloneDeep(n.global.formDefaults):{};return n.global&&!0===n.global.supressPropertyTitles?i.title=t.title:i.title=t.title||e,t.description&&(i.description=t.description),!0!==n.required&&!0!==t.required||(i.required=!0),t.maxLength&&(i.maxlength=t.maxLength),t.minLength&&(i.minlength=t.minLength),(t.readOnly||t.readonly)&&(i.readonly=!0),t.minimum&&(i.minimum=t.minimum+(t.exclusiveMinimum?1:0)),t.maximum&&(i.maximum=t.maximum-(t.exclusiveMaximum?1:0)),t.validationMessage&&(i.validationMessage=t.validationMessage),t.enumNames&&(i.titleMap=p(t.enumNames,t.enum)),i.schema=t,i.ngModelOptions=i.ngModelOptions||{},i},m={string:[function(e,t,n){if("string"===c(t.type)&&t.enum){var i=d(e,t,n);return i.key=n.path,i.type="select",i.titleMap||(i.titleMap=u(t.enum)),n.lookup[a.a.stringify(n.path)]=i,i}},function(e,t,n){if("string"===c(t.type)&&!t.enum){var i=d(e,t,n);return i.key=n.path,i.type="text",n.lookup[a.a.stringify(n.path)]=i,i}}],object:[function(e,t,n){if("object"===c(t.type)){var i=d(e,t,n);i.type="fieldset",i.items=[],n.lookup[a.a.stringify(n.path)]=i;for(var r=0,o=Object.keys(t.properties);r<o.length;r++){var s=o[r];if(t.properties.hasOwnProperty(s)){var l=n.path.slice();if(l.push(s),!0!==n.ignore[a.a.stringify(l)]){var u=t.required&&-1!==t.required.indexOf(s),p=f(s,t.properties[s],{path:l,required:u||!1,lookup:n.lookup,ignore:n.ignore,global:n.global});p&&i.items.push(p)}}}return i}}],number:[function(e,t,n){if("number"===c(t.type)){var i=d(e,t,n);return i.key=n.path,i.type="number",n.lookup[a.a.stringify(n.path)]=i,i}}],integer:[function(e,t,n){if("integer"===c(t.type)){var i=d(e,t,n);return i.key=n.path,i.type="number",n.lookup[a.a.stringify(n.path)]=i,i}}],boolean:[function(e,t,n){if("boolean"===c(t.type)){var i=d(e,t,n);return i.key=n.path,i.type="checkbox",n.lookup[a.a.stringify(n.path)]=i,i}}],array:[function(e,t,n){if("array"===c(t.type)&&t.items&&t.items.enum){var i=d(e,t,n);return i.key=n.path,i.type="checkboxes",i.titleMap||(i.titleMap=u(t.items.enum)),n.lookup[a.a.stringify(n.path)]=i,i}},function(e,t,n){if("array"===c(t.type)){var i=d(e,t,n);if(i.type="array",i.key=n.path,n.lookup[a.a.stringify(n.path)]=i,void 0!==t.items){var r=t.required&&-1!==t.required.indexOf(n.path[n.path.length-1]),o=n.path.slice();o.push("");var s=f(e,t.items,{path:o,required:r||!1,lookup:n.lookup,ignore:n.ignore,global:n.global});i.items=s?[s]:t.items}return i}}],date:[function(e,t,n){if("date"===c(t.type)){var i=d(e,t,n);return i.key=n.path,i.type="date",n.lookup[a.a.stringify(n.path)]=i,i}}]};function f(e,t,n){var i=m[c(t.type)];if(i)for(var r=void 0,a=0,o=i;a<o.length;a++){if(r=(0,o[a])(e,t,n))return r.schema["x-schema-form"]&&s.a.isObject(r.schema["x-schema-form"])&&(r=s.a.extend(r,r.schema["x-schema-form"])),r}}function h(e,t,n){var i=!1;return e&&(Object(l.z)(n)?Object(l.n)(e[t])&&(delete e[t],i=!0):(i=!Object(l.r)(e[t],n),e[t]=n)),i}var y={validateBySchema:function(e,t){return i.validateResult(t,e)},validate:function(e,t){if(!e)return{valid:!0};var n=e.schema;if(!n)return{valid:!0};""===t&&(t=void 0),"number"===e.type&&null===t&&(t=void 0),"number"===e.type&&isNaN(parseFloat(t))&&(t=void 0);var r={type:"object",properties:{}},a=e.key[e.key.length-1];r.properties[a]=n,e.required&&(r.required=[a]);var o={};void 0!==t&&(o[a]=t);var s=i.validateResult(o,r);return null==s||s.valid||null==e.validationMessage||void 0===t||(s.error.message=e.validationMessage),s},merge:function e(t,n,i,r,o){n=n||["*"],r=r||{},o=o||t.readonly||t.readOnly;var l=function(e,t,n){var i=[],r={};if(t=t||{},n=n||{},"object"!==c(e.type))throw new Error('Not implemented. Only type "object" allowed at root level of schema.');for(var a=0,o=Object.keys(e.properties);a<o.length;a++){var s=o[a];if(e.properties.hasOwnProperty(s)&&!0!==t[s]){var l=e.required&&-1!==e.required.indexOf(s),u=f(s,e.properties[s],{path:[s],lookup:r,ignore:t,required:l,global:n});u&&i.push(u)}}return{form:i,lookup:r}}(t,i,r),u=n.indexOf("*");-1!==u&&(n=n.slice(0,u).concat(l.form).concat(n.slice(u+1)));var d=l.lookup;return n.map((function(n){if("string"==typeof n&&(n={key:n}),n.key&&"string"==typeof n.key&&(n.key=a.a.parse(n.key)),n.titleMap&&(n.titleMap=p(n.titleMap)),n.itemForm){n.items=[];var l=a.a.stringify(n.key);d[l].items.forEach((function(e){var t=s.a.cloneDeep(n.itemForm);t.key=e.key,n.items.push(t)}))}if(n.key){var c=a.a.stringify(n.key);if(d[c])for(var u=d[c],m=0,f=Object.keys(u);m<f.length;m++){var h=f[m];u.hasOwnProperty(h)&&void 0===n[h]&&(n[h]=u[h])}}return!0===o&&(n.readonly=!0),n.items&&n.items.length>0&&(n.items=e(t,n.items,i,r,n.readonly)),n.tabs&&n.tabs.forEach((function(a){a.items=e(t,a.items,i,r,n.readonly)})),"checkbox"===n.type&&s.a.isUndefined(n.schema.default)&&(n.schema.default=!1),n}))},updateValue:function(e,t,n){var i=/^\d+$/;if(t||(t=this),!t)return!1;var r=Object(l.y)(e)?a.a.parse(e):e;if(1===r.length)return h(t,r[0],n);Object(l.z)(t[r[0]])&&(t[r[0]]=r.length>2&&i.test(r[1])?[]:{});for(var o=t[r[0]],s=1;s<r.length;s++){if(""===r[s])return!1;if(s===r.length-1)return h(o,r[s],n);var c=o[r[s]];(Object(l.z)(c)||null===c)&&(c=i.test(r[s+1])?[]:{},o[r[s]]=c),o=c}return o},selectOrSet:function(e,t,n){var i=/^\d+$/;t||(t=this);var r="string"==typeof e?a.a.parse(e):e;if(void 0!==n&&1===r.length)return t[r[0]]=n,t;void 0!==n&&void 0===t[r[0]]&&(t[r[0]]=r.length>2&&i.test(r[1])?[]:{});for(var o=t[r[0]],s=1;s<r.length;s++){if(""===r[s])return;if(void 0!==n){if(s===r.length-1)return o[r[s]]=n,n;var l=o[r[s]];null==l&&(l=i.test(r[s+1])?[]:{},o[r[s]]=l),o=l}else o&&(o=o[r[s]])}return o},traverseSchema:function(e,t,n,i){i=void 0===i||i;var r=function(e,t,n){if(t(e,n),e.properties)for(var a=0,o=Object.keys(e.properties);a<o.length;a++){var s=o[a];if(e.properties.hasOwnProperty(s)){var l=n.slice();l.push(s),r(e.properties[s],t,l)}}if(!i&&e.items){var c=n.slice();c.push(""),r(e.items,t,c)}};r(e,t,(n=n||[])||[])},traverseForm:function e(t,n){n(t),t.items&&t.items.forEach((function(t){e(t,n)})),t.tabs&&t.tabs.forEach((function(t){t.items.forEach((function(t){e(t,n)}))}))}};t.a=y},Ww7o:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("3Pt+"),a=n("bSwM"),o=["*"],s=function(){function e(){this.trueValue=!0,this.falseValue=!1,this.valueChange=new i.EventEmitter,this.propagateChange=function(e){}}return e.prototype.onHostChange=function(e){this.propagateChange(e.checked?this.trueValue:this.falseValue)},e.prototype.modelChange=function(e){e?(this.innerValue=!0,this.valueChange.emit(this.trueValue)):(this.innerValue=!1,this.valueChange.emit(this.falseValue))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){e===this.trueValue?this.innerValue=!0:this.innerValue=!1},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-checkbox"]],inputs:{disabled:"disabled",trueValue:"trueValue",falseValue:"falseValue"},outputs:{valueChange:"valueChange"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],ngContentSelectors:o,decls:2,vars:3,consts:[[3,"ngModel","checked","disabled","ngModelChange","change"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"mat-checkbox",0),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.innerValue=e}))("ngModelChange",(function(e){return t.modelChange(e)}))("change",(function(e){return t.onHostChange(e)})),i["\u0275\u0275projection"](1),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("ngModel",t.innerValue)("checked",t.innerValue)("disabled",t.disabled)},directives:[a.MatCheckbox,r.NgControlStatus,r.NgModel],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](s,[{type:i.Component,args:[{selector:"tb-checkbox",templateUrl:"./tb-checkbox.component.html",providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return s})),multi:!0}]}]}],null,{disabled:[{type:i.Input}],trueValue:[{type:i.Input}],falseValue:[{type:i.Input}],valueChange:[{type:i.Output}]})}()},XGqO:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("mrSG"),r=n("fXoL"),a=n("RxGS"),o=n("3Pt+"),s=n("8LU1"),l=n("OiFK"),c=n("l7P3"),u=n("sYmb"),p=n("3TNn"),d=n("bTqV"),m=n("Qu3c"),f=n("NFeN"),h=n("ofXK"),y=n("0Miz"),g=["flow"];function b(e,t){if(1&e&&(r["\u0275\u0275element"](0,"tb-error",13),r["\u0275\u0275pipe"](1,"translate")),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275propertyInterpolate"]("error",r["\u0275\u0275pipeBind1"](1,1,n.noFileText))}}function v(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",14),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.noFileText)}}function C(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.fileName)}}var E=function(){return{singleFile:!0,allowDuplicateUploads:!0}},T=function(e){return{accept:e}},S=function(e){function t(t,n,i){var a=e.call(this,t)||this;return a.store=t,a.utils=n,a.translate=i,a.accept="*/*",a.noFileText="import.no-file",a.inputId=a.utils.guid(),a.fileNameChanged=new r.EventEmitter,a.propagateChange=null,a}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"required",{get:function(){return this.requiredValue},set:function(e){var t=Object(s.coerceBooleanProperty)(e);this.requiredValue!==t&&(this.requiredValue=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredAsError",{get:function(){return this.requiredAsErrorValue},set:function(e){var t=Object(s.coerceBooleanProperty)(e);this.requiredAsErrorValue!==t&&(this.requiredAsErrorValue=t)},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this.autoUploadSubscription=this.flow.events$.subscribe((function(t){if("fileAdded"===t.type){var n=t.event[0];if(e.filterFile(n)){var i=new FileReader;i.onload=function(t){if("string"==typeof i.result){var r=i.result;r&&r.length>0&&(e.contentConvertFunction?e.fileContent=e.contentConvertFunction(r):e.fileContent=r,e.fileContent?e.fileName=n.name:e.fileName=null,e.updateModel())}},i.readAsText(n.file)}}}))},t.prototype.filterFile=function(e){return!this.allowedExtensions||this.allowedExtensions.split(",").indexOf(e.getExtension())>-1},t.prototype.ngOnDestroy=function(){this.autoUploadSubscription.unsubscribe()},t.prototype.registerOnChange=function(e){this.propagateChange=e},t.prototype.registerOnTouched=function(e){},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype.writeValue=function(e){this.fileName=this.existingFileName||null},t.prototype.ngOnChanges=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];r.currentValue!==r.previousValue&&"existingFileName"===i&&(this.fileName=this.existingFileName||null)}},t.prototype.updateModel=function(){this.propagateChange(this.fileContent),this.fileNameChanged.emit(this.fileName)},t.prototype.clearFile=function(){this.fileName=null,this.fileContent=null,this.updateModel()},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](c.Store),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](u.TranslateService))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-file-input"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275staticViewQuery"](g,!0),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.flow=n.first))},inputs:{label:"label",accept:"accept",noFileText:"noFileText",inputId:"inputId",allowedExtensions:"allowedExtensions",dropLabel:"dropLabel",contentConvertFunction:"contentConvertFunction",required:"required",requiredAsError:"requiredAsError",disabled:"disabled",existingFileName:"existingFileName"},outputs:{fileNameChanged:"fileNameChanged"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return t})),multi:!0}]),r["\u0275\u0275InheritDefinitionFeature"],r["\u0275\u0275NgOnChangesFeature"]],decls:19,vars:17,consts:[[1,"tb-container"],[1,"tb-title"],[3,"flowConfig"],["flow","flow"],[1,"tb-file-select-container"],[1,"tb-file-clear-container"],["mat-button","","mat-icon-button","","color","primary","type","button","matTooltipPosition","above",1,"tb-file-clear-btn",3,"matTooltip","click"],["flowDrop","",1,"drop-area","tb-flow-drop",3,"flow"],[3,"for"],["flowButton","","type","file",1,"file-input",3,"flow","flowAttributes","id"],[3,"error",4,"ngIf"],["translate","",4,"ngIf"],[4,"ngIf"],[3,"error"],["translate",""]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"label",1),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerStart"](3,2,3),r["\u0275\u0275elementStart"](5,"div",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"button",6),r["\u0275\u0275listener"]("click",(function(){return t.clearFile()})),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementStart"](9,"mat-icon"),r["\u0275\u0275text"](10,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](11,"div",7),r["\u0275\u0275elementStart"](12,"label",8),r["\u0275\u0275text"](13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](14,"input",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div"),r["\u0275\u0275template"](16,b,2,3,"tb-error",10),r["\u0275\u0275template"](17,v,2,1,"div",11),r["\u0275\u0275template"](18,C,2,1,"div",12),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275reference"](4);r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.label),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("flowConfig",r["\u0275\u0275pureFunction0"](14,E)),r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](8,12,"action.remove")),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("flow",n.flowJs),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("for",t.inputId),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.dropLabel),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("id",t.inputId),r["\u0275\u0275property"]("flow",n.flowJs)("flowAttributes",r["\u0275\u0275pureFunction1"](15,T,t.accept)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.fileName&&t.required&&t.requiredAsError),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!t.fileName&&!t.requiredAsError),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.fileName)}},directives:[p.c,d.MatButton,m.MatTooltip,f.MatIcon,p.b,p.a,h.NgIf,y.a,u.TranslateDirective],pipes:[u.TranslatePipe],styles:["[_nghost-%COMP%]   .tb-container[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .tb-container[_ngcontent-%COMP%]   label.tb-title[_ngcontent-%COMP%]{display:block;padding-bottom:8px}[_nghost-%COMP%]   .tb-file-select-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100px}[_nghost-%COMP%]   .tb-file-preview[_ngcontent-%COMP%]{width:auto;max-width:100px;height:auto;max-height:100px}[_nghost-%COMP%]   .tb-file-clear-container[_ngcontent-%COMP%]{position:relative;float:right;width:48px;height:100px}[_nghost-%COMP%]   .tb-file-clear-btn[_ngcontent-%COMP%]{position:absolute!important;top:50%;transform:translateY(-50%)!important}[_nghost-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .tb-flow-drop[_ngcontent-%COMP%]{position:relative;height:100px;overflow:hidden;border:2px dashed}[_nghost-%COMP%]   .tb-flow-drop[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;font-size:16px;text-align:center}@media screen and (min-width:960px){[_nghost-%COMP%]   .tb-flow-drop[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:24px}}"]}),t}(a.a);!function(){r["\u0275setClassMetadata"](S,[{type:r.Component,args:[{selector:"tb-file-input",templateUrl:"./file-input.component.html",styleUrls:["./file-input.component.scss"],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return S})),multi:!0}]}]}],(function(){return[{type:c.Store},{type:l.a},{type:u.TranslateService}]}),{label:[{type:r.Input}],accept:[{type:r.Input}],noFileText:[{type:r.Input}],inputId:[{type:r.Input}],allowedExtensions:[{type:r.Input}],dropLabel:[{type:r.Input}],contentConvertFunction:[{type:r.Input}],required:[{type:r.Input}],requiredAsError:[{type:r.Input}],disabled:[{type:r.Input}],existingFileName:[{type:r.Input}],fileNameChanged:[{type:r.Output}],flow:[{type:r.ViewChild,args:["flow",{static:!0}]}]})}()},XMqU:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("fXoL"),r=n("3Pt+"),a=n("LRne"),o=n("mbhL"),s=n("4r/P"),l=n("vkgz"),c=n("JX91"),u=n("lJxs"),p=n("5+tZ"),d=n("Duvn"),m=n("YnEf"),f=n("C/rb"),h=n("zp9Z"),y=n("8LU1"),g=n("l7P3"),b=n("sYmb"),v=n("kmnG"),C=n("qFsG"),E=n("/1cH"),T=n("ofXK"),S=n("bTqV"),w=n("NFeN"),M=n("FKr1"),O=n("d5eY"),I=["dashboardInput"];function x(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",9),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",10),i["\u0275\u0275element"](1,"span",11),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,n.title,r.searchText),i["\u0275\u0275sanitizeHtml"])}}var A=function(e){return{entity:e}};function R(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",10),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,n.translate.get("dashboard.no-dashboards-matching",i["\u0275\u0275pureFunction1"](4,A,n.searchText)))," ")}}var N=[[["","tb-error",""]],[["","tb-hint",""]]],k=["[tb-error]","[tb-hint]"],P=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.dashboardService=n,this.fb=i,this.useIdValue=!0,this.selectFirstDashboard=!1,this.searchText="",this.propagateChange=function(e){},this.selectDashboardFormGroup=this.fb.group({dashboard:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(y.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredDashboards=this.selectDashboardFormGroup.get("dashboard").valueChanges.pipe(Object(l.a)((function(t){var n;n="string"!=typeof t&&t?e.useIdValue?t.id.id:t:null,e.updateView(n)})),Object(c.a)(""),Object(u.a)((function(e){return e?"string"==typeof e?e:e.name:""})),Object(p.b)((function(t){return e.fetchDashboards(t)})))},e.prototype.ngAfterViewInit=function(){},e.prototype.selectFirstDashboardIfNeeded=function(){var e=this;this.selectFirstDashboard&&!this.modelValue&&this.getDashboards(new o.b(1)).subscribe((function(t){if(t.data.length){var n=t.data[0];e.modelValue=e.useIdValue?n.id.id:n,e.selectDashboardFormGroup.get("dashboard").patchValue(n,{emitEvent:!1}),e.propagateChange(e.modelValue)}}))},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){var t=this;this.searchText="",null!=e?"string"==typeof e?this.dashboardService.getDashboardInfo(e).subscribe((function(e){t.modelValue=t.useIdValue?e.id.id:e,t.selectDashboardFormGroup.get("dashboard").patchValue(e,{emitEvent:!0})})):(this.modelValue=this.useIdValue?e.id.id:e,this.selectDashboardFormGroup.get("dashboard").patchValue(e,{emitEvent:!0})):(this.modelValue=null,this.selectDashboardFormGroup.get("dashboard").patchValue(null,{emitEvent:!0}),this.selectFirstDashboardIfNeeded())},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displayDashboardFn=function(e){return e?e.title:void 0},e.prototype.fetchDashboards=function(e){this.searchText=e;var t=new o.b(10,0,e,{property:"title",direction:s.a.ASC});return this.getDashboards(t).pipe(Object(u.a)((function(e){return e.data})))},e.prototype.getDashboards=function(e){var t=Object(f.b)(this.store);return"customer"===this.dashboardsScope||t.authority===h.a.CUSTOMER_USER?this.customerId?this.dashboardService.getCustomerDashboards(this.customerId,e,{ignoreLoading:!0}):Object(a.a)(Object(d.a)()):t.authority===h.a.SYS_ADMIN?this.tenantId?this.dashboardService.getTenantDashboardsByTenantId(this.tenantId,e,{ignoreLoading:!0}):Object(a.a)(Object(d.a)()):this.dashboardService.getTenantDashboards(e,{ignoreLoading:!0})},e.prototype.clear=function(){var e=this;this.selectDashboardFormGroup.get("dashboard").patchValue(null,{emitEvent:!0}),setTimeout((function(){e.dashboardInput.nativeElement.blur(),e.dashboardInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](g.Store),i["\u0275\u0275directiveInject"](b.TranslateService),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-dashboard-autocomplete"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](I,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.dashboardInput=n.first))},inputs:{useIdValue:"useIdValue",selectFirstDashboard:"selectFirstDashboard",placeholder:"placeholder",dashboardsScope:"dashboardsScope",tenantId:"tenantId",customerId:"customerId",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],ngContentSelectors:k,decls:15,vars:14,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","dashboard",3,"placeholder","required","matAutocomplete"],["dashboardInput",""],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["dashboardAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275projectionDef"](N),i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275element"](1,"input",1,2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275template"](4,x,3,0,"button",3),i["\u0275\u0275elementStart"](5,"mat-autocomplete",4,5),i["\u0275\u0275template"](7,j,3,5,"mat-option",6),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,R,4,6,"mat-option",7),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"mat-error"),i["\u0275\u0275projection"](12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"mat-hint"),i["\u0275\u0275projection"](14,1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n,r=i["\u0275\u0275reference"](6);i["\u0275\u0275property"]("formGroup",t.selectDashboardFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("placeholder",t.placeholder||i["\u0275\u0275pipeBind1"](3,8,"dashboard.dashboard")),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",r),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.selectDashboardFormGroup.get("dashboard").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayDashboardFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](8,10,t.filteredDashboards)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!(null!=(n=i["\u0275\u0275pipeBind1"](10,12,t.filteredDashboards))&&n.length))}},directives:[v.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,C.MatInput,r.DefaultValueAccessor,E.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,T.NgIf,E.MatAutocomplete,T.NgForOf,v.MatError,v.MatHint,S.MatButton,v.MatSuffix,w.MatIcon,M.MatOption],pipes:[b.TranslatePipe,T.AsyncPipe,O.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](P,[{type:i.Component,args:[{selector:"tb-dashboard-autocomplete",templateUrl:"./dashboard-autocomplete.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return P})),multi:!0}]}]}],(function(){return[{type:g.Store},{type:b.TranslateService},{type:m.a},{type:r.FormBuilder}]}),{useIdValue:[{type:i.Input}],selectFirstDashboard:[{type:i.Input}],placeholder:[{type:i.Input}],dashboardsScope:[{type:i.Input}],tenantId:[{type:i.Input}],customerId:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}],dashboardInput:[{type:i.ViewChild,args:["dashboardInput",{static:!0}]}]})}()},"Y4+Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("XNiG"),a=function(){function e(){this.notificationSubject=new r.b,this.hideNotificationSubject=new r.b}return e.prototype.dispatchNotification=function(e){this.notificationSubject.next(e)},e.prototype.hideNotification=function(e){this.hideNotificationSubject.next(e)},e.prototype.getNotification=function(){return this.notificationSubject.asObservable()},e.prototype.getHideNotification=function(){return this.hideNotificationSubject.asObservable()},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null)}()},Y8nr:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n("C60G"),r=n("tk/3"),a=n("iQEk");function o(e){return e||(e={}),s(e.ignoreLoading,e.ignoreErrors,e.resendRequest)}function s(e,t,n){return void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1),{headers:new r.e({"Content-Type":"application/json"}),params:new i.a(new a.a(e,t,n))}}},YnEf:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("fXoL"),r=n("Y8nr"),a=n("wtyh"),o=n("tyNb"),s=n("pLZG"),l=n("lJxs"),c=n("05l1"),u=n("x+ZX"),p=n("tk/3"),d=function(){function e(e,t,n){var i=this;this.http=e,this.router=t,this.window=n,this.currentUrl=this.router.url.split("?")[0],this.router.events.pipe(Object(s.a)((function(e){return e instanceof o.NavigationEnd}))).subscribe((function(){var e=i.router.url.split("?")[0];i.currentUrl!==e&&(i.stDiffObservable=null,i.currentUrl=e)}))}return e.prototype.getTenantDashboards=function(e,t){return this.http.get("/api/tenant/dashboards"+e.toQuery(),Object(r.b)(t))},e.prototype.getTenantDashboardsByTenantId=function(e,t,n){return this.http.get("/api/tenant/"+e+"/dashboards"+t.toQuery(),Object(r.b)(n))},e.prototype.getCustomerDashboards=function(e,t,n){return this.http.get("/api/customer/"+e+"/dashboards"+t.toQuery(),Object(r.b)(n))},e.prototype.getDashboard=function(e,t){return this.http.get("/api/dashboard/"+e,Object(r.b)(t))},e.prototype.getDashboardInfo=function(e,t){return this.http.get("/api/dashboard/info/"+e,Object(r.b)(t))},e.prototype.saveDashboard=function(e,t){return this.http.post("/api/dashboard",e,Object(r.b)(t))},e.prototype.deleteDashboard=function(e,t){return this.http.delete("/api/dashboard/"+e,Object(r.b)(t))},e.prototype.assignDashboardToCustomer=function(e,t,n){return this.http.post("/api/customer/"+e+"/dashboard/"+t,null,Object(r.b)(n))},e.prototype.unassignDashboardFromCustomer=function(e,t,n){return this.http.delete("/api/customer/"+e+"/dashboard/"+t,Object(r.b)(n))},e.prototype.makeDashboardPublic=function(e,t){return this.http.post("/api/customer/public/dashboard/"+e,null,Object(r.b)(t))},e.prototype.makeDashboardPrivate=function(e,t){return this.http.delete("/api/customer/public/dashboard/"+e,Object(r.b)(t))},e.prototype.updateDashboardCustomers=function(e,t,n){return this.http.post("/api/dashboard/"+e+"/customers",t,Object(r.b)(n))},e.prototype.addDashboardCustomers=function(e,t,n){return this.http.post("/api/dashboard/"+e+"/customers/add",t,Object(r.b)(n))},e.prototype.removeDashboardCustomers=function(e,t,n){return this.http.post("/api/dashboard/"+e+"/customers/remove",t,Object(r.b)(n))},e.prototype.getHomeDashboard=function(e){return this.http.get("/api/dashboard/home",Object(r.b)(e))},e.prototype.getTenantHomeDashboardInfo=function(e){return this.http.get("/api/tenant/dashboard/home/info",Object(r.b)(e))},e.prototype.setTenantHomeDashboardInfo=function(e,t){return this.http.post("/api/tenant/dashboard/home/info",e,Object(r.b)(t))},e.prototype.getPublicDashboardLink=function(e){if(e&&e.assignedCustomers&&e.assignedCustomers.length>0){var t=e.assignedCustomers.filter((function(e){return e.public}));if(t.length>0){var n=t[0].customerId.id,i=this.window.location.protocol+"//"+this.window.location.hostname,r=this.window.location.port;return r&&r.length>0&&"80"!==r&&"443"!==r&&(i+=":"+r),i+="/dashboard/"+e.id.id+"?publicId="+n}}return null},e.prototype.getServerTimeDiff=function(){if(!this.stDiffObservable){var e=Date.now();this.stDiffObservable=this.http.get("/api/dashboard/serverTime",Object(r.a)(!0)).pipe(Object(l.a)((function(t){var n=Date.now();return Math.ceil(t-(e+n)/2)})),Object(c.a)(1),Object(u.a)())}return this.stDiffObservable},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](p.b),i["\u0275\u0275inject"](o.Router),i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](d,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:p.b},{type:o.Router},{type:Window,decorators:[{type:i.Inject,args:[a.b]}]}]}),null)}()},"ZI//":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("3Pt+"),a=n("FKr1"),o=function(){function e(e,t,n){this.render=e,this.element=t,this.errorStateMatcher=n,this.propagateChange=null}return e.prototype.input=function(e){try{this.data=JSON.parse(e),this.parseError=!1}catch(t){this.parseError=!0}this.propagateChange(this.data)},e.prototype.isErrorState=function(e,t){var n=this.errorStateMatcher.isErrorState(e,t),i=!!(e&&e.invalid&&this.parseError);return n||i},e.prototype.validate=function(e){return this.parseError?{invalidJSON:{valid:!1}}:null},e.prototype.writeValue=function(e){e&&(this.data=e,this.parseError=!1,this.render.setProperty(this.element.nativeElement,"value",JSON.stringify(e)))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](a.ErrorStateMatcher,4))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","tb-json-to-string",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("input",(function(e){return t.input(e.target.value)}))},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0},{provide:r.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0},{provide:a.ErrorStateMatcher,useExisting:e}])]}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Directive,args:[{selector:"[tb-json-to-string]",providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return o})),multi:!0},{provide:r.NG_VALIDATORS,useExisting:Object(i.forwardRef)((function(){return o})),multi:!0},{provide:a.ErrorStateMatcher,useExisting:o}]}]}],(function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:a.ErrorStateMatcher,decorators:[{type:i.SkipSelf}]}]}),{input:[{type:i.HostListener,args:["input",["$event.target.value"]]}]})}()},aX2P:function(e,t,n){"use strict";n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return y})),n.d(t,"k",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"H",(function(){return C})),n.d(t,"y",(function(){return E})),n.d(t,"I",(function(){return S})),n.d(t,"N",(function(){return w})),n.d(t,"M",(function(){return M})),n.d(t,"t",(function(){return O})),n.d(t,"J",(function(){return I})),n.d(t,"v",(function(){return x})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return A})),n.d(t,"q",(function(){return R})),n.d(t,"K",(function(){return N})),n.d(t,"p",(function(){return k})),n.d(t,"o",(function(){return P})),n.d(t,"w",(function(){return _})),n.d(t,"u",(function(){return V})),n.d(t,"x",(function(){return L})),n.d(t,"j",(function(){return F})),n.d(t,"L",(function(){return D})),n.d(t,"G",(function(){return G})),n.d(t,"F",(function(){return q})),n.d(t,"C",(function(){return z})),n.d(t,"B",(function(){return H})),n.d(t,"z",(function(){return W})),n.d(t,"D",(function(){return Y})),n.d(t,"E",(function(){return K})),n.d(t,"A",(function(){return Q}));var i,r,a,o,s=n("//Q6"),l=n("wd/R"),c=n("f0Wu"),u=l,p=1e3,d=60*p,m=60*d,f=24*m,h=7*f,y=365*f;!function(e){e[e.REALTIME=0]="REALTIME",e[e.HISTORY=1]="HISTORY"}(i||(i={})),function(e){e[e.LAST_INTERVAL=0]="LAST_INTERVAL",e[e.INTERVAL=1]="INTERVAL"}(r||(r={})),function(e){e[e.LAST_INTERVAL=0]="LAST_INTERVAL",e[e.FIXED=1]="FIXED",e[e.INTERVAL=2]="INTERVAL"}(a||(a={})),function(e){e.MIN="MIN",e.MAX="MAX",e.AVG="AVG",e.SUM="SUM",e.COUNT="COUNT",e.NONE="NONE"}(o||(o={}));var g,b=new Map([[o.MIN,"aggregation.min"],[o.MAX,"aggregation.max"],[o.AVG,"aggregation.avg"],[o.SUM,"aggregation.sum"],[o.COUNT,"aggregation.count"],[o.NONE,"aggregation.none"]]);!function(e){e.YESTERDAY="YESTERDAY",e.DAY_BEFORE_YESTERDAY="DAY_BEFORE_YESTERDAY",e.THIS_DAY_LAST_WEEK="THIS_DAY_LAST_WEEK",e.PREVIOUS_WEEK="PREVIOUS_WEEK",e.PREVIOUS_WEEK_ISO="PREVIOUS_WEEK_ISO",e.PREVIOUS_MONTH="PREVIOUS_MONTH",e.PREVIOUS_YEAR="PREVIOUS_YEAR",e.CURRENT_HOUR="CURRENT_HOUR",e.CURRENT_DAY="CURRENT_DAY",e.CURRENT_DAY_SO_FAR="CURRENT_DAY_SO_FAR",e.CURRENT_WEEK="CURRENT_WEEK",e.CURRENT_WEEK_ISO="CURRENT_WEEK_ISO",e.CURRENT_WEEK_SO_FAR="CURRENT_WEEK_SO_FAR",e.CURRENT_WEEK_ISO_SO_FAR="CURRENT_WEEK_ISO_SO_FAR",e.CURRENT_MONTH="CURRENT_MONTH",e.CURRENT_MONTH_SO_FAR="CURRENT_MONTH_SO_FAR",e.CURRENT_YEAR="CURRENT_YEAR",e.CURRENT_YEAR_SO_FAR="CURRENT_YEAR_SO_FAR"}(g||(g={}));var v=new Map([[g.YESTERDAY,"timeinterval.predefined.yesterday"],[g.DAY_BEFORE_YESTERDAY,"timeinterval.predefined.day-before-yesterday"],[g.THIS_DAY_LAST_WEEK,"timeinterval.predefined.this-day-last-week"],[g.PREVIOUS_WEEK,"timeinterval.predefined.previous-week"],[g.PREVIOUS_WEEK_ISO,"timeinterval.predefined.previous-week-iso"],[g.PREVIOUS_MONTH,"timeinterval.predefined.previous-month"],[g.PREVIOUS_YEAR,"timeinterval.predefined.previous-year"],[g.CURRENT_HOUR,"timeinterval.predefined.current-hour"],[g.CURRENT_DAY,"timeinterval.predefined.current-day"],[g.CURRENT_DAY_SO_FAR,"timeinterval.predefined.current-day-so-far"],[g.CURRENT_WEEK,"timeinterval.predefined.current-week"],[g.CURRENT_WEEK_ISO,"timeinterval.predefined.current-week-iso"],[g.CURRENT_WEEK_SO_FAR,"timeinterval.predefined.current-week-so-far"],[g.CURRENT_WEEK_ISO_SO_FAR,"timeinterval.predefined.current-week-iso-so-far"],[g.CURRENT_MONTH,"timeinterval.predefined.current-month"],[g.CURRENT_MONTH_SO_FAR,"timeinterval.predefined.current-month-so-far"],[g.CURRENT_YEAR,"timeinterval.predefined.current-year"],[g.CURRENT_YEAR_SO_FAR,"timeinterval.predefined.current-year-so-far"]]);function C(e){return{selectedTab:i.HISTORY,history:{historyType:a.LAST_INTERVAL,timewindowMs:e}}}function E(e){var t=u().valueOf();return{displayValue:"",hideInterval:!1,hideAggregation:!1,hideAggInterval:!1,hideTimezone:!1,selectedTab:i.REALTIME,realtime:{realtimeType:r.LAST_INTERVAL,interval:p,timewindowMs:d,quickInterval:g.CURRENT_DAY},history:{historyType:a.LAST_INTERVAL,interval:p,timewindowMs:d,fixedTimewindow:{startTimeMs:t-f,endTimeMs:t},quickInterval:g.CURRENT_DAY},aggregation:{type:o.AVG,limit:Math.floor(e.getMaxDatapointsLimit()/2)}}}function T(e){return Object(s.z)(e.selectedTab)?Object(s.n)(e.realtime)?i.REALTIME:i.HISTORY:e.selectedTab}function S(e,t){var n=E(t);return e&&(n.hideInterval=e.hideInterval,n.hideAggregation=e.hideAggregation,n.hideAggInterval=e.hideAggInterval,n.hideTimezone=e.hideTimezone,n.selectedTab=T(e),n.selectedTab===i.REALTIME?(Object(s.n)(e.realtime.interval)&&(n.realtime.interval=e.realtime.interval),Object(s.z)(e.realtime.realtimeType)?Object(s.n)(e.realtime.quickInterval)?n.realtime.realtimeType=r.INTERVAL:n.realtime.realtimeType=r.LAST_INTERVAL:n.realtime.realtimeType=e.realtime.realtimeType,n.realtime.realtimeType===r.INTERVAL?n.realtime.quickInterval=e.realtime.quickInterval:n.realtime.timewindowMs=e.realtime.timewindowMs):(Object(s.n)(e.history.interval)&&(n.history.interval=e.history.interval),Object(s.z)(e.history.historyType)?Object(s.n)(e.history.timewindowMs)?n.history.historyType=a.LAST_INTERVAL:Object(s.n)(e.history.quickInterval)?n.history.historyType=a.INTERVAL:n.history.historyType=a.FIXED:n.history.historyType=e.history.historyType,n.history.historyType===a.LAST_INTERVAL?n.history.timewindowMs=e.history.timewindowMs:n.history.historyType===a.INTERVAL?n.history.quickInterval=e.history.quickInterval:(n.history.fixedTimewindow.startTimeMs=e.history.fixedTimewindow.startTimeMs,n.history.fixedTimewindow.endTimeMs=e.history.fixedTimewindow.endTimeMs)),e.aggregation&&(e.aggregation.type&&(n.aggregation.type=e.aggregation.type),n.aggregation.limit=e.aggregation.limit||Math.floor(t.getMaxDatapointsLimit()/2)),n.timezone=e.timezone),n}function w(e,t,n,r,l){var c,u;return r=e.history?Object(s.n)(r)?r:e.history.interval:e.realtime?e.realtime.interval:0,e.aggregation?(c=e.aggregation.type||o.AVG,u=e.aggregation.limit||l.getMaxDatapointsLimit()):(c=o.AVG,u=l.getMaxDatapointsLimit()),{hideInterval:e.hideInterval||!1,hideAggregation:e.hideAggregation||!1,hideAggInterval:e.hideAggInterval||!1,hideTimezone:e.hideTimezone||!1,selectedTab:i.HISTORY,history:{historyType:a.FIXED,fixedTimewindow:{startTimeMs:t,endTimeMs:n},interval:l.boundIntervalToTimewindow(n-t,r,o.AVG)},aggregation:{type:c,limit:u},timezone:e.timezone}}function M(e,t){return!(!e||!t)&&T(e)!==T(t)}function O(e){if(e){var t=K(e),n=u().utcOffset();return 60*(t.utcOffset()-n)*1e3}return 0}function I(e){return T(e)===i.HISTORY}function x(e,t,n,l){var c,u={fixedWindow:null,realtimeWindowMs:null,aggregation:{interval:p,limit:l.getMaxDatapointsLimit(),type:o.AVG},timezone:e.timezone,tsOffset:O(e.timezone)};if(n&&(u.aggregation.type=o.NONE,u.aggregation.stateData=!0),Object(s.n)(e.aggregation)&&!n&&(u.aggregation={type:e.aggregation.type||o.AVG,limit:e.aggregation.limit||l.getMaxDatapointsLimit()}),T(e)===i.REALTIME){var d=e.realtime.realtimeType;if(Object(s.z)(d)&&(d=Object(s.n)(e.realtime.quickInterval)?r.INTERVAL:r.LAST_INTERVAL),d===r.INTERVAL){u.realtimeWindowMs=function(e,t){var n;switch(e){case g.CURRENT_HOUR:return m;case g.CURRENT_DAY:case g.CURRENT_DAY_SO_FAR:return f;case g.CURRENT_WEEK:case g.CURRENT_WEEK_ISO:case g.CURRENT_WEEK_SO_FAR:case g.CURRENT_WEEK_ISO_SO_FAR:return h;case g.CURRENT_MONTH:case g.CURRENT_MONTH_SO_FAR:return(n=W(t)).endOf("month").diff(n.clone().startOf("month"));case g.CURRENT_YEAR:case g.CURRENT_YEAR_SO_FAR:return(n=W(t)).endOf("year").diff(n.clone().startOf("year"))}}(e.realtime.quickInterval,e.timezone),u.quickInterval=e.realtime.quickInterval;var y=W(e.timezone);u.startTs=A(e.realtime.quickInterval,y).valueOf()}else{u.realtimeWindowMs=e.realtime.timewindowMs;y=W(e.timezone);u.startTs=y.valueOf()+t-u.realtimeWindowMs}if(u.aggregation.interval=l.boundIntervalToTimewindow(u.realtimeWindowMs,e.realtime.interval,u.aggregation.type),c=u.realtimeWindowMs,d!==r.INTERVAL){var b=u.startTs%u.aggregation.interval;b&&(u.startTs-=b,c+=u.aggregation.interval)}}else{var v=e.history.historyType;if(Object(s.z)(v)&&(v=Object(s.n)(e.history.timewindowMs)?a.LAST_INTERVAL:Object(s.n)(e.history.quickInterval)?a.INTERVAL:a.FIXED),v===a.LAST_INTERVAL){var C=(y=W(e.timezone)).valueOf();u.fixedWindow={startTimeMs:C-e.history.timewindowMs,endTimeMs:C},c=e.history.timewindowMs}else if(v===a.INTERVAL){var E=j(e.history.quickInterval,e.timezone);u.fixedWindow={startTimeMs:E[0],endTimeMs:E[1]},c=u.fixedWindow.endTimeMs-u.fixedWindow.startTimeMs,u.quickInterval=e.history.quickInterval}else u.fixedWindow={startTimeMs:e.history.fixedTimewindow.startTimeMs-u.tsOffset,endTimeMs:e.history.fixedTimewindow.endTimeMs-u.tsOffset},c=u.fixedWindow.endTimeMs-u.fixedWindow.startTimeMs;u.startTs=u.fixedWindow.startTimeMs,u.aggregation.interval=l.boundIntervalToTimewindow(c,e.history.interval,u.aggregation.type)}var S=u.aggregation;return S.timeWindow=c,S.type!==o.NONE&&(S.limit=Math.ceil(c/u.aggregation.interval)),u}function j(e,t){var n=[0,0],i=A(e,W(t));n[0]=i.valueOf();var r=R(e,i,t);return n[1]=r.valueOf(),n}function A(e,t){switch(e){case g.YESTERDAY:return t.subtract(1,"days"),t.startOf("day");case g.DAY_BEFORE_YESTERDAY:return t.subtract(2,"days"),t.startOf("day");case g.THIS_DAY_LAST_WEEK:return t.subtract(1,"weeks"),t.startOf("day");case g.PREVIOUS_WEEK:return t.subtract(1,"weeks"),t.startOf("week");case g.PREVIOUS_WEEK_ISO:return t.subtract(1,"weeks"),t.startOf("isoWeek");case g.PREVIOUS_MONTH:return t.subtract(1,"months"),t.startOf("month");case g.PREVIOUS_YEAR:return t.subtract(1,"years"),t.startOf("year");case g.CURRENT_HOUR:return t.startOf("hour");case g.CURRENT_DAY:case g.CURRENT_DAY_SO_FAR:return t.startOf("day");case g.CURRENT_WEEK:case g.CURRENT_WEEK_SO_FAR:return t.startOf("week");case g.CURRENT_WEEK_ISO:case g.CURRENT_WEEK_ISO_SO_FAR:return t.startOf("isoWeek");case g.CURRENT_MONTH:case g.CURRENT_MONTH_SO_FAR:return t.startOf("month");case g.CURRENT_YEAR:case g.CURRENT_YEAR_SO_FAR:return t.startOf("year")}}function R(e,t,n){switch(e){case g.YESTERDAY:case g.DAY_BEFORE_YESTERDAY:case g.THIS_DAY_LAST_WEEK:case g.CURRENT_DAY:return t.add(1,"day").valueOf();case g.PREVIOUS_WEEK:case g.PREVIOUS_WEEK_ISO:case g.CURRENT_WEEK:case g.CURRENT_WEEK_ISO:return t.add(1,"week").valueOf();case g.PREVIOUS_MONTH:case g.CURRENT_MONTH:return t.add(1,"month").valueOf();case g.PREVIOUS_YEAR:case g.CURRENT_YEAR:return t.add(1,"year").valueOf();case g.CURRENT_HOUR:return t.add(1,"hour").valueOf();case g.CURRENT_DAY_SO_FAR:case g.CURRENT_WEEK_SO_FAR:case g.CURRENT_WEEK_ISO_SO_FAR:case g.CURRENT_MONTH_SO_FAR:case g.CURRENT_YEAR_SO_FAR:return W(n).valueOf()}}function N(e){switch(e){case g.CURRENT_HOUR:return m;case g.YESTERDAY:case g.DAY_BEFORE_YESTERDAY:case g.THIS_DAY_LAST_WEEK:case g.CURRENT_DAY:case g.CURRENT_DAY_SO_FAR:return f;case g.PREVIOUS_WEEK:case g.PREVIOUS_WEEK_ISO:case g.CURRENT_WEEK:case g.CURRENT_WEEK_ISO:case g.CURRENT_WEEK_SO_FAR:case g.CURRENT_WEEK_ISO_SO_FAR:return h;case g.PREVIOUS_MONTH:case g.CURRENT_MONTH:case g.CURRENT_MONTH_SO_FAR:return 30*f;case g.PREVIOUS_YEAR:case g.CURRENT_YEAR:case g.CURRENT_YEAR_SO_FAR:return y}}function k(e,t){switch(e){case g.YESTERDAY:case g.DAY_BEFORE_YESTERDAY:case g.CURRENT_DAY:case g.CURRENT_DAY_SO_FAR:return t.subtract(1,"days"),t.startOf("day");case g.THIS_DAY_LAST_WEEK:return t.subtract(1,"weeks"),t.startOf("day");case g.PREVIOUS_WEEK:case g.CURRENT_WEEK:case g.CURRENT_WEEK_SO_FAR:return t.subtract(1,"weeks"),t.startOf("week");case g.PREVIOUS_WEEK_ISO:case g.CURRENT_WEEK_ISO:case g.CURRENT_WEEK_ISO_SO_FAR:return t.subtract(1,"weeks"),t.startOf("isoWeek");case g.PREVIOUS_MONTH:case g.CURRENT_MONTH:case g.CURRENT_MONTH_SO_FAR:return t.subtract(1,"months"),t.startOf("month");case g.PREVIOUS_YEAR:case g.CURRENT_YEAR:case g.CURRENT_YEAR_SO_FAR:return t.subtract(1,"years"),t.startOf("year");case g.CURRENT_HOUR:return t.subtract(1,"hour"),t.startOf("hour")}}function P(e,t,n){switch(e){case g.CURRENT_DAY_SO_FAR:return n.subtract(1,"days").valueOf();case g.CURRENT_WEEK_SO_FAR:case g.CURRENT_WEEK_ISO_SO_FAR:return n.subtract(1,"week").valueOf();case g.CURRENT_MONTH_SO_FAR:return n.subtract(1,"month").valueOf();case g.CURRENT_YEAR_SO_FAR:return n.subtract(1,"year").valueOf();default:return R(e,t)}}function _(e,t){var n={fixedWindow:null,realtimeWindowMs:null,aggregation:e.aggregation,tsOffset:e.tsOffset};if(e.fixedWindow){var i=void 0,r=void 0;if("previousInterval"===t)if(e.quickInterval){var a=u(e.fixedWindow.startTimeMs),o=u(e.fixedWindow.endTimeMs);e.timezone&&(a.tz(e.timezone),o.tz(e.timezone));var s=k(e.quickInterval,a);i=s.valueOf(),r=P(e.quickInterval,s,o)}else{var l=e.fixedWindow.endTimeMs-e.fixedWindow.startTimeMs;i=(r=e.fixedWindow.startTimeMs)-l}else{l=e.fixedWindow.endTimeMs-e.fixedWindow.startTimeMs;i=(r=u(e.fixedWindow.endTimeMs).subtract(1,t).valueOf())-l}n.startTs=i,n.fixedWindow={startTimeMs:n.startTs,endTimeMs:r}}return n}function V(e){var t={};return t.hideInterval=e.hideInterval||!1,t.hideAggregation=e.hideAggregation||!1,t.hideAggInterval=e.hideAggInterval||!1,t.hideTimezone=e.hideTimezone||!1,Object(s.n)(e.selectedTab)&&(t.selectedTab=e.selectedTab,e.selectedTab===i.REALTIME?t.realtime=Object(s.e)(e.realtime):e.selectedTab===i.HISTORY&&(t.history=Object(s.e)(e.history))),t.aggregation=Object(s.e)(e.aggregation),t.timezone=e.timezone,t}var F,L=new Array({name:"timeinterval.seconds-interval",translateParams:{seconds:1},value:p},{name:"timeinterval.seconds-interval",translateParams:{seconds:5},value:5*p},{name:"timeinterval.seconds-interval",translateParams:{seconds:10},value:10*p},{name:"timeinterval.seconds-interval",translateParams:{seconds:15},value:15*p},{name:"timeinterval.seconds-interval",translateParams:{seconds:30},value:30*p},{name:"timeinterval.minutes-interval",translateParams:{minutes:1},value:d},{name:"timeinterval.minutes-interval",translateParams:{minutes:2},value:2*d},{name:"timeinterval.minutes-interval",translateParams:{minutes:5},value:5*d},{name:"timeinterval.minutes-interval",translateParams:{minutes:10},value:10*d},{name:"timeinterval.minutes-interval",translateParams:{minutes:15},value:15*d},{name:"timeinterval.minutes-interval",translateParams:{minutes:30},value:30*d},{name:"timeinterval.hours-interval",translateParams:{hours:1},value:m},{name:"timeinterval.hours-interval",translateParams:{hours:2},value:2*m},{name:"timeinterval.hours-interval",translateParams:{hours:5},value:5*m},{name:"timeinterval.hours-interval",translateParams:{hours:10},value:10*m},{name:"timeinterval.hours-interval",translateParams:{hours:12},value:12*m},{name:"timeinterval.days-interval",translateParams:{days:1},value:f},{name:"timeinterval.days-interval",translateParams:{days:7},value:7*f},{name:"timeinterval.days-interval",translateParams:{days:30},value:30*f});!function(e){e.SECONDS="SECONDS",e.MINUTES="MINUTES",e.HOURS="HOURS",e.DAYS="DAYS"}(F||(F={}));var D=new Map([[F.SECONDS,"timeunit.seconds"],[F.MINUTES,"timeunit.minutes"],[F.HOURS,"timeunit.hours"],[F.DAYS,"timeunit.days"]]),U=null,B=null;function G(){return U||(U=c.tz.names().map((function(e){var t=c.tz(e);return{id:e,name:e.replace(/_/g," "),offset:"UTC"+t.format("Z"),nOffset:t.utcOffset(),abbr:t.zoneAbbr()}}))),U}function q(e,t,n){var i=G(),r=e?i.find((function(t){return t.id===e})):null;if(!r)if(n){var a=H();r=i.find((function(e){return e.id===a}))}else t&&(r=i.find((function(e){return e.id===t})));return r}function z(){return q(H())}function H(){return B||(B=c.tz.guess()),B}function W(e){return e?u().tz(e):u()}function Y(e,t){return t?u(e).tz(t):u(e)}function K(e){return u.tz(e)}function Q(e,t){return W(t).subtract(1,e)}},aiIW:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("fXoL"),r=n("3Pt+"),a=n("LRne"),o=n("vkgz"),s=n("JX91"),l=n("lJxs"),c=n("5+tZ"),u=n("8LU1"),p=n("+5dr"),d=n("//Q6"),m=n("l7P3"),f=n("sYmb"),h=n("kmnG"),y=n("qFsG"),g=n("/1cH"),b=n("ofXK"),v=n("bTqV"),C=n("NFeN"),E=n("FKr1"),T=n("d5eY"),S=["messageTypeInput"];function w(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",8),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",9),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function M(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",10),i["\u0275\u0275element"](1,"span",11),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,r.displayMessageTypeFn(n),r.searchText),i["\u0275\u0275sanitizeHtml"])}}function O(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"rulenode.message-type-required")," "))}var I=function(){function e(e,t,n){this.store=e,this.translate=t,this.fb=n,this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.messageTypeFormGroup=this.fb.group({messageType:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(u.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredMessageTypes=this.messageTypeFormGroup.get("messageType").valueChanges.pipe(Object(o.a)((function(t){e.updateView(t)})),Object(s.a)(""),Object(l.a)((function(e){return e||""})),Object(c.b)((function(t){return e.fetchMessageTypes(t)})))},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.messageTypeFormGroup.disable({emitEvent:!1}):this.messageTypeFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){this.searchText="",this.modelValue=e;var t=null;e&&(t=Object(d.F)(p.a).includes(e)?p.a[e]:e),this.messageTypeFormGroup.get("messageType").patchValue(t,{emitEvent:!1}),this.dirty=!0},e.prototype.onFocus=function(){this.dirty&&(this.messageTypeFormGroup.get("messageType").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.updateView=function(e){var t=null;e&&(t=Object(d.F)(p.a).includes(e)?p.a[e]:e),this.modelValue!==t&&(this.modelValue=t,this.propagateChange(this.modelValue))},e.prototype.displayMessageTypeFn=function(e){if(e)return Object(d.F)(p.a).includes(e)?p.e.get(p.a[e]):e},e.prototype.fetchMessageTypes=function(e){this.searchText=e;var t=[];return p.e.forEach((function(n,i){n.toUpperCase().includes(e.toUpperCase())&&t.push(i)})),t.length?Object(a.a)(t):Object(a.a)([e])},e.prototype.clear=function(){var e=this;this.messageTypeFormGroup.get("messageType").patchValue(null,{emitEvent:!0}),setTimeout((function(){e.messageTypeInput.nativeElement.blur(),e.messageTypeInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](m.Store),i["\u0275\u0275directiveInject"](f.TranslateService),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-message-type-autocomplete"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](S,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.messageTypeInput=n.first))},inputs:{required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:13,vars:15,consts:[[1,"mat-block",3,"formGroup"],["matInput","","type","text","formControlName","messageType",3,"placeholder","required","matAutocomplete","focusin"],["messageTypeInput",""],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith"],["messageTypeAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"input",1,2),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](7,w,3,0,"button",3),i["\u0275\u0275elementStart"](8,"mat-autocomplete",4,5),i["\u0275\u0275template"](10,M,3,5,"mat-option",6),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](12,O,3,3,"mat-error",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](9);i["\u0275\u0275property"]("formGroup",t.messageTypeFormGroup),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,9,"rulenode.message-type")),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](6,11,"rulenode.select-message-type")),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",n),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.messageTypeFormGroup.get("messageType").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayMessageTypeFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](11,13,t.filteredMessageTypes)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.messageTypeFormGroup.get("messageType").hasError("required"))}},directives:[h.MatFormField,r.NgControlStatusGroup,r.FormGroupDirective,h.MatLabel,y.MatInput,r.DefaultValueAccessor,g.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,b.NgIf,g.MatAutocomplete,b.NgForOf,v.MatButton,h.MatSuffix,C.MatIcon,E.MatOption,h.MatError],pipes:[f.TranslatePipe,b.AsyncPipe,T.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](I,[{type:i.Component,args:[{selector:"tb-message-type-autocomplete",templateUrl:"./message-type-autocomplete.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return I})),multi:!0}]}]}],(function(){return[{type:m.Store},{type:f.TranslateService},{type:r.FormBuilder}]}),{required:[{type:i.Input}],disabled:[{type:i.Input}],messageTypeInput:[{type:i.ViewChild,args:["messageTypeInput",{static:!0}]}]})}()},bdDX:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),r=n("3Pt+"),a=n("XiUz"),o=n("ofXK"),s=n("znSr"),l=n("NFeN"),c=n("bTqV"),u=["searchInput"];function p(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",3),i["\u0275\u0275listener"]("click",(function(e){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear(e)})),i["\u0275\u0275elementStart"](1,"mat-icon",4),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}var d=function(e){return{focus:e}},m=function(){function e(){this.focus=!1,this.propagateChange=function(e){}}return e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.writeValue=function(e){this.searchText=e},e.prototype.updateSearchText=function(){this.updateView()},e.prototype.updateView=function(){this.propagateChange(this.searchText)},e.prototype.clear=function(e){e.preventDefault(),e.stopPropagation(),this.searchText="",this.updateView()},e.prototype.toggleFocus=function(){this.focus=!this.focus},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-widgets-bundle-search"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275viewQuery"](u,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.searchInput=n.first))},inputs:{placeholder:"placeholder"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:5,vars:6,consts:[["fxLayoutAlign","start center","fxLayoutGap","16px",1,"input-wrapper",3,"ngClass"],["type","text",3,"ngModel","placeholder","ngModelChange","focus","blur"],["mat-button","","type","button","mat-icon-button","",3,"click",4,"ngIf"],["mat-button","","type","button","mat-icon-button","",3,"click"],[1,"close"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-icon"),i["\u0275\u0275text"](2,"search"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",1),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchText=e}))("ngModelChange",(function(){return t.updateSearchText()}))("focus",(function(){return t.toggleFocus()}))("blur",(function(){return t.toggleFocus()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,p,3,0,"button",2),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](4,d,t.focus)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.searchText)("placeholder",t.placeholder),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.searchText))},directives:[a.e,a.g,o.NgClass,s.b,l.MatIcon,r.DefaultValueAccessor,r.NgControlStatus,r.NgModel,o.NgIf,c.MatButton],styles:[".input-wrapper{background:hsla(0,0%,100%,.2);border-radius:8px;color:hsla(0,0%,100%,.84);padding:5px 8px 5px 16px;height:46px}.input-wrapper input{width:100%;height:100%;padding:0;font-size:20px;outline:none;border:none;background-color:transparent;color:#fff}.input-wrapper input::-moz-placeholder{color:#fff;opacity:.6;line-height:26px}.input-wrapper input:-ms-input-placeholder{color:#fff;opacity:.6;line-height:26px}.input-wrapper input::placeholder{color:#fff;opacity:.6;line-height:26px}.input-wrapper.focus{background:#fff;color:rgba(0,0,0,.54)}.input-wrapper.focus input{color:#000;opacity:.6}.input-wrapper.focus .close{color:#000!important;opacity:.54}"],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](m,[{type:i.Component,args:[{selector:"tb-widgets-bundle-search",templateUrl:"./widgets-bundle-search.component.html",styleUrls:["./widgets-bundle-search.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return m})),multi:!0}],encapsulation:i.ViewEncapsulation.None}]}],(function(){return[]}),{placeholder:[{type:i.Input}],searchInput:[{type:i.ViewChild,args:["searchInput"]}]})}()},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},d5eY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){function e(){}return e.prototype.transform=function(e,t){var n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i=new RegExp("^"+n,"i");return t?e.replace(i,(function(e){return"<b>"+e+"</b>"})):e},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"highlight",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](r,[{type:i.Pipe,args:[{name:"highlight"}]}],null,null)}()},dUlv:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i=n("fXoL"),r=n("l5mm"),a=n("pLZG"),o=n("XiUz"),s=n("bTqV"),l=n("NFeN"),c=n("ofXK"),u=n("znSr"),p=n("5RNC"),d=n("3Pt+"),m=n("d3UM"),f=n("FKr1"),h=n("sYmb");function y(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"date"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind2"](2,1,n.currentTime,"medium"))}}function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,"widget.no-data-found")))}var b=function(e){return{color:e}};function v(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",15),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().play()})),i["\u0275\u0275elementStart"](1,"mat-icon",3),i["\u0275\u0275text"](2," play_circle_outline "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](1,b,r.settings.buttonColor))}}function C(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().pause()})),i["\u0275\u0275elementStart"](1,"mat-icon",3),i["\u0275\u0275text"](2," pause_circle_outline "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](1,b,r.settings.buttonColor))}}function E(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",17),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"]("",n," ")}}var T=function(){function e(e){this.cd=e,this.step=1e3,this.anchors=[],this.useAnchors=!1,this.timeUpdated=new i.EventEmitter,this.minTimeIndex=0,this.maxTimeIndex=0,this.speed=1,this.index=0,this.playing=!1,this.speeds=[1,5,10,25],this.currentTime=null}return e.prototype.ngOnChanges=function(){this.maxTimeIndex=Math.ceil((this.maxTime-this.minTime)/this.step),this.currentTime=this.minTime===1/0?null:this.minTime},e.prototype.play=function(){var e=this;this.playing=!0,this.interval||(this.interval=Object(r.a)(1e3/this.speed).pipe(Object(a.a)((function(){return e.playing}))).subscribe((function(){e.index++,e.currentTime=e.minTime+e.index*e.step,e.index<=e.maxTimeIndex?(e.cd.detectChanges(),e.timeUpdated.emit(e.currentTime)):(e.playing=!1,e.interval.complete(),e.cd.detectChanges())}),(function(e){console.error(e)}),(function(){e.interval=null})))},e.prototype.reInit=function(){this.interval&&this.interval.complete(),this.playing&&this.play()},e.prototype.pause=function(){this.playing=!1,this.currentTime=this.minTime+this.index*this.step,this.cd.detectChanges(),this.timeUpdated.emit(this.currentTime)},e.prototype.moveNext=function(){if(this.index<this.maxTimeIndex)if(this.useAnchors){var e=this.findIndex(this.currentTime,this.anchors)+1;this.index=Math.floor((this.anchors[e]-this.minTime)/this.step)}else this.index++;this.pause()},e.prototype.movePrev=function(){if(this.index>this.minTimeIndex)if(this.useAnchors){var e=this.findIndex(this.currentTime,this.anchors)-1;this.index=Math.floor((this.anchors[e]-this.minTime)/this.step)}else this.index--;this.pause()},e.prototype.findIndex=function(e,t){for(var n=0;t[n]<e;)n++;return n},e.prototype.moveStart=function(){this.index=this.minTimeIndex,this.pause()},e.prototype.moveEnd=function(){this.index=this.maxTimeIndex,this.pause()},e.prototype.changeIndex=function(e){this.index=e,this.currentTime=this.minTime+e*this.step,this.timeUpdated.emit(this.currentTime)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-history-selector"]],inputs:{settings:"settings",minTime:"minTime",maxTime:"maxTime",step:"step",anchors:"anchors",useAnchors:"useAnchors"},outputs:{timeUpdated:"timeUpdated"},features:[i["\u0275\u0275NgOnChangesFeature"]],decls:23,vars:21,consts:[[1,"trip-animation-control-panel"],["fxFlex","","fxLayout","row","fxFlexAlign","center"],["mat-icon-button","","aria-label","Start",1,"mat-icon-button",3,"click"],[1,"material-icons",3,"ngStyle"],["mat-icon-button","","aria-label","Previous",1,"mat-icon-button",3,"click"],["fxLayout","column","fxFlex","100"],[3,"ngModel","min","max","ngModelChange","input"],[1,"panel-timer"],[4,"ngIf"],["mat-icon-button","","aria-label","Next",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","End",1,"mat-icon-button",3,"click"],["mat-icon-button","","class","mat-icon-button","aria-label","Play",3,"click",4,"ngIf"],["mat-icon-button","","class","mat-icon-button","aria-label","Stop",3,"click",4,"ngIf"],["aria-label","Speed selector",1,"speed-select",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Play",1,"mat-icon-button",3,"click"],["mat-icon-button","","aria-label","Stop",1,"mat-icon-button",3,"click"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"button",2),i["\u0275\u0275listener"]("click",(function(){return t.moveStart()})),i["\u0275\u0275elementStart"](3,"mat-icon",3),i["\u0275\u0275text"](4,"fast_rewind"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",4),i["\u0275\u0275listener"]("click",(function(){return t.movePrev()})),i["\u0275\u0275elementStart"](6,"mat-icon",3),i["\u0275\u0275text"](7,"skip_previous"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",5),i["\u0275\u0275elementStart"](9,"mat-slider",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.index=e}))("input",(function(e){return t.changeIndex(e.value)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",7),i["\u0275\u0275template"](11,y,3,4,"span",8),i["\u0275\u0275template"](12,g,3,3,"span",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"button",9),i["\u0275\u0275listener"]("click",(function(){return t.moveNext()})),i["\u0275\u0275elementStart"](14,"mat-icon",3),i["\u0275\u0275text"](15,"skip_next"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"button",10),i["\u0275\u0275listener"]("click",(function(){return t.moveEnd()})),i["\u0275\u0275elementStart"](17,"mat-icon",3),i["\u0275\u0275text"](18,"fast_forward"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](19,v,3,3,"button",11),i["\u0275\u0275template"](20,C,3,3,"button",12),i["\u0275\u0275elementStart"](21,"mat-select",13),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.speed=e}))("selectionChange",(function(){return t.reInit()})),i["\u0275\u0275template"](22,E,2,2,"mat-option",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](13,b,t.settings.buttonColor)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](15,b,t.settings.buttonColor)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngModel",t.index)("min",t.minTimeIndex)("max",t.maxTimeIndex),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.currentTime),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.currentTime),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](17,b,t.settings.buttonColor)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](19,b,t.settings.buttonColor)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.playing),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.playing),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngModel",t.speed),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.speeds))},directives:[o.b,o.f,o.a,s.MatButton,l.MatIcon,c.NgStyle,u.e,p.MatSlider,d.NgControlStatus,d.NgModel,c.NgIf,m.MatSelect,c.NgForOf,f.MatOption],pipes:[c.DatePipe,h.TranslatePipe],styles:[".trip-animation-label-container[_ngcontent-%COMP%]{height:24px}.trip-animation-container[_ngcontent-%COMP%]{position:relative;z-index:1;-ms-flex:1;flex:1;width:100%}.trip-animation-container[_ngcontent-%COMP%]   #trip-animation-map[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%}.trip-animation-container[_ngcontent-%COMP%]   #trip-animation-map[_ngcontent-%COMP%]   .pointsLayerMarkerIcon[_ngcontent-%COMP%]{border-radius:50%}.trip-animation-container[_ngcontent-%COMP%]   .trip-animation-info-panel[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2;pointer-events:none}.trip-animation-container[_ngcontent-%COMP%]   .trip-animation-info-panel[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{top:0;left:0;width:32px;min-width:32px;height:32px;min-height:32px;padding:0 0 2px;margin:2px;line-height:24px}.trip-animation-container[_ngcontent-%COMP%]   .trip-animation-info-panel[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:24px;height:24px}.trip-animation-container[_ngcontent-%COMP%]   .trip-animation-info-panel[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:inherit;height:inherit}.trip-animation-container[_ngcontent-%COMP%]   .trip-animation-tooltip[_ngcontent-%COMP%]{position:absolute;top:38px;right:0;z-index:2;padding:10px;background-color:#fff;transition:.3s ease-in-out}.trip-animation-container[_ngcontent-%COMP%]   .trip-animation-tooltip-hidden[_ngcontent-%COMP%]{transform:translateX(110%)}.trip-animation-control-panel[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;width:100%;padding-bottom:16px;padding-left:10px}.trip-animation-control-panel[_ngcontent-%COMP%]   mat-slider-container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{min-width:80px}.trip-animation-control-panel[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:44px;min-width:44px;height:48px;min-height:48px;margin:0;line-height:28px}.trip-animation-control-panel[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.trip-animation-control-panel[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:inherit;height:inherit}.trip-animation-control-panel[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{margin:0}.trip-animation-control-panel[_ngcontent-%COMP%]   .panel-timer[_ngcontent-%COMP%]{max-width:none;margin-top:-20px;font-size:12px;font-weight:500;text-align:center}.speed-select[_ngcontent-%COMP%]{width:70px;margin-left:10px;margin-top:10px}"]}),e}();!function(){i["\u0275setClassMetadata"](T,[{type:i.Component,args:[{selector:"tb-history-selector",templateUrl:"./history-selector.component.html",styleUrls:["./history-selector.component.scss"]}]}],(function(){return[{type:i.ChangeDetectorRef}]}),{settings:[{type:i.Input}],minTime:[{type:i.Input}],maxTime:[{type:i.Input}],step:[{type:i.Input}],anchors:[{type:i.Input}],useAnchors:[{type:i.Input}],timeUpdated:[{type:i.Output}]})}()},efJA:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n("fXoL"),r=n("zp9Z"),a=n("l7P3"),o=n("C/rb"),s=n("lJxs"),l=n("Vurf"),c=n("tyNb"),u=n("XiUz"),p=n("ofXK"),d=n("bTqV"),m=n("STbY"),f=n("NFeN"),h=n("znSr"),y=n("sYmb");function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",12),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n)}}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",13),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,n))}}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"mat-icon",8),i["\u0275\u0275text"](2,"account_circle"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",9),i["\u0275\u0275template"](4,g,2,1,"span",10),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275template"](6,b,3,3,"span",11),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](5,2,n.userDisplayName$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](7,4,n.authorityName$))}}function C(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",14),i["\u0275\u0275elementStart"](1,"button",15),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().openProfile()})),i["\u0275\u0275elementStart"](2,"mat-icon",3),i["\u0275\u0275text"](3,"account_circle"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"span",16),i["\u0275\u0275text"](5,"home.profile"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",15),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().logout()})),i["\u0275\u0275elementStart"](7,"mat-icon",3),i["\u0275\u0275text"](8,"exit_to_app"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"span",16),i["\u0275\u0275text"](10,"home.logout"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}var E=function(){function e(e,t,n){var i=this;this.store=e,this.router=t,this.authService=n,this.authorities=r.a,this.authority$=this.store.pipe(Object(a.select)(o.d),Object(s.a)((function(e){return e?e.authority:r.a.ANONYMOUS}))),this.authorityName$=this.store.pipe(Object(a.select)(o.g),Object(s.a)((function(e){return i.getAuthorityName(e)}))),this.userDisplayName$=this.store.pipe(Object(a.select)(o.g),Object(s.a)((function(e){return i.getUserDisplayName(e)})))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.getAuthorityName=function(e){var t=null;if(e)switch(e.authority){case r.a.SYS_ADMIN:t="user.sys-admin";break;case r.a.TENANT_ADMIN:t="user.tenant-admin";break;case r.a.CUSTOMER_USER:t="user.customer"}return t},e.prototype.getUserDisplayName=function(e){var t="";return e&&(e.firstName&&e.firstName.length>0||e.lastName&&e.lastName.length>0?(e.firstName&&(t+=e.firstName),e.lastName&&(t.length>0&&(t+=" "),t+=e.lastName)):t=e.email),t},e.prototype.openProfile=function(){this.router.navigate(["profile"])},e.prototype.logout=function(){this.authService.logout()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](a.Store),i["\u0275\u0275directiveInject"](c.Router),i["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-user-menu"]],inputs:{displayUserInfo:"displayUserInfo"},decls:9,vars:5,consts:[["fxLayout","row"],["fxHide.lt-lg","","class","tb-user-info","fxLayout","row",4,"ngIf"],["mat-button","","mat-icon-button","",3,"matMenuTriggerFor"],[1,"material-icons"],["xPosition","before"],["userMenu","matMenu"],["class","tb-user-menu-items",4,"ngIf"],["fxHide.lt-lg","","fxLayout","row",1,"tb-user-info"],[1,"material-icons","tb-mini-avatar"],["fxLayout","column","fxLayoutAlign","center"],["class","tb-user-display-name",4,"ngIf"],["class","tb-user-authority",4,"ngIf"],[1,"tb-user-display-name"],[1,"tb-user-authority"],[1,"tb-user-menu-items"],["mat-menu-item","",3,"click"],["translate",""]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275template"](1,v,8,6,"div",1),i["\u0275\u0275elementStart"](2,"button",2),i["\u0275\u0275elementStart"](3,"mat-icon",3),i["\u0275\u0275text"](4,"more_vert"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"mat-menu",4,5),i["\u0275\u0275template"](7,C,11,0,"div",6),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](6);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.displayUserInfo),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("matMenuTriggerFor",n),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](8,3,t.authority$))}},directives:[u.f,p.NgIf,d.MatButton,m.MatMenuTrigger,f.MatIcon,m._MatMenu,h.d,u.e,m.MatMenuItem,y.TranslateDirective],pipes:[p.AsyncPipe,y.TranslatePipe],styles:["[_nghost-%COMP%]   div.tb-user-info[_ngcontent-%COMP%]{line-height:1.5}[_nghost-%COMP%]   div.tb-user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:none}[_nghost-%COMP%]   div.tb-user-info[_ngcontent-%COMP%]   span.tb-user-display-name[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300;letter-spacing:.008em}[_nghost-%COMP%]   div.tb-user-info[_ngcontent-%COMP%]   span.tb-user-authority[_ngcontent-%COMP%]{font-size:.8rem;font-weight:300;letter-spacing:.005em;opacity:.8}[_nghost-%COMP%]   mat-icon.tb-mini-avatar[_ngcontent-%COMP%]{width:36px;height:36px;margin:auto 8px;font-size:36px;cursor:default}.tb-user-menu-items[_ngcontent-%COMP%]{min-width:256px}"]}),e}();!function(){i["\u0275setClassMetadata"](E,[{type:i.Component,args:[{selector:"tb-user-menu",templateUrl:"./user-menu.component.html",styleUrls:["./user-menu.component.scss"]}]}],(function(){return[{type:a.Store},{type:c.Router},{type:l.a}]}),{displayUserInfo:[{type:i.Input}]})}()},fjw6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){function e(){}return e.prototype.transform=function(e){var t=Object.keys(e);return t.slice(t.length/2)},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"enumToArray",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](r,[{type:i.Pipe,args:[{name:"enumToArray"}]}],null,null)}()},gM18:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("XNiG"),a=n("pLZG"),o=function(){function e(){this.broadcastSubject=new r.b}return e.prototype.broadcast=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i={name:e,args:t};this.broadcastSubject.next(i)},e.prototype.on=function(e,t){return this.broadcastSubject.asObservable().pipe(Object(a.a)((function(t){return t.name===e}))).subscribe((function(e){var n={name:e.name};t(n,e.args)}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],null,null)}()},gaqQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(e){this.editorCompletions=e,this.identifierRegexps=[/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF.]/]}return e.prototype.getCompletions=function(e,t,n,i,r){var a=this.prepareCompletions(i);a&&r(null,a)},e.prototype.resolvePath=function(e){if(!e||!e.length)return[];var t=e.split(".");t.length?t.pop():t=[];for(var n=this.editorCompletions,i=0,r=t;i<r.length;i++){var a=r[i];if(!n[a])return null;if(!(n=n[a].children))return null}return t},e.prototype.prepareCompletions=function(e){var t=this.resolvePath(e);return null!==t?this.toAceCompletionsList(this.editorCompletions,t):[]},e.prototype.toAceCompletionsList=function(e,t){var n=[],i=e,r="";if(t.length){r=t.join(".")+".";for(var a=0,o=t;a<o.length;a++){i=i[o[a]].children}}for(var s=0,l=Object.keys(i);s<l.length;s++){var c=l[s];n.push(this.toAceCompletion(c,i[c],r))}return n},e.prototype.toAceCompletion=function(e,t,n){return{isTbEditorAceCompletion:!0,snippet:n+e,name:e,caption:n+e,score:1e5,value:n+e,meta:t.meta,type:t.type,description:t.description,args:t.args,return:t.return}},e.prototype.getDocTooltip=function(e){if(e&&e.isTbEditorAceCompletion)return{docHTML:this.createDocHTML(e)}},e.prototype.createDocHTML=function(e){var t="<b>"+e.name+"</b>";if("function"===e.meta){if(t+="(",e.args){for(var n=[],i=0,r=e.args;i<r.length;i++){var a=""+(p=r[i]).name;p.optional&&(a+="?"),p.type&&(a+=": "+p.type),n.push(a)}t+=n.join(", ")}t+="): ",e.return?t+=e.return.type:t+="void"}else t+=": "+(e.type?e.type:e.meta);var o='<div class="tb-ace-doc-tooltip"><code class="title">'+t+"</code>";if(e.description&&(o+="<hr><div>"+e.description+"</div>"),e.args||e.return){var s='<div class="tb-function-info">';if(e.args){s+='<div class="tb-api-title">Parameters</div>';for(var l='<table class="tb-api-table"><tbody>',c=(n=[],0),u=e.args;c<u.length;c++){var p;a='<tr><td class="arg-name"><code>'+(p=u[c]).name;p.optional&&(a+=" (optional)"),a+="</code></td><td>",p.type&&(a+="<code>"+p.type+"</code>"),a+='</td><td class="arg-description">',p.description&&(a+=""+p.description),a+="</td></tr>",n.push(a)}s+=l+=n.join("")+"</tbody></table>"}if(e.return){var d='<div class="tb-api-title">Returns</div>';d+='<div class="tb-function-return"><code>'+e.return.type+"</code>",e.return.description&&(d+=": "+e.return.description),s+=d+="</div>"}o+=s+="</div>"}return o+="</div>"},e}()},"gl+N":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("fXoL"),r=n("3Pt+"),a=n("8LU1"),o=n("XiUz"),s=n("kmnG"),l=n("ofXK"),c=n("znSr"),u=n("xoCY"),p=n("qFsG"),d=n("sYmb");function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-placeholder"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,n.dateText))}}function f(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-placeholder"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](2,1,n.timeText))}}var h=function(e){return{"no-label":e}},y=function(){function e(){this.showLabel=!0,this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(a.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{set:function(e){this.minDateValue=e?new Date(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{set:function(e){this.maxDateValue=e?new Date(e):null},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.ngOnInit=function(){},e.prototype.writeValue=function(e){this.modelValue=e,this.modelValue?this.date=new Date(this.modelValue):this.date=null},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.onDateChange=function(){var e=this.date?this.date.getTime():null;this.updateView(e)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-datetime"]],inputs:{required:"required",disabled:"disabled",dateText:"dateText",timeText:"timeText",showLabel:"showLabel",minDate:"minDate",maxDate:"maxDate"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:13,vars:26,consts:[["fxLayout","row","fxLayoutAlign","start start","fxLayoutGap","16px"],[3,"floatLabel","hideRequiredMarker","ngClass"],[4,"ngIf"],["matPrefix","",3,"for"],["type","date","openOnFocus","true"],["datePicker",""],["matInput","",3,"min","max","disabled","required","ngModel","matDatetimepicker","ngModelChange"],["type","time","openOnFocus","true"],["timePicker",""]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"mat-form-field",1),i["\u0275\u0275template"](2,m,3,3,"mat-placeholder",2),i["\u0275\u0275element"](3,"mat-datetimepicker-toggle",3),i["\u0275\u0275element"](4,"mat-datetimepicker",4,5),i["\u0275\u0275elementStart"](6,"input",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.date=e}))("ngModelChange",(function(){return t.onDateChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"mat-form-field",1),i["\u0275\u0275template"](8,f,3,3,"mat-placeholder",2),i["\u0275\u0275element"](9,"mat-datetimepicker-toggle",3),i["\u0275\u0275element"](10,"mat-datetimepicker",7,8),i["\u0275\u0275elementStart"](12,"input",6),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.date=e}))("ngModelChange",(function(){return t.onDateChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275reference"](5),r=i["\u0275\u0275reference"](11);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("floatLabel",t.showLabel?"auto":"always")("hideRequiredMarker",!t.showLabel)("ngClass",i["\u0275\u0275pureFunction1"](22,h,!t.showLabel)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("for",n),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("min",t.minDateValue)("max",t.maxDateValue)("disabled",t.disabled)("required",t.required)("ngModel",t.date)("matDatetimepicker",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("floatLabel",t.showLabel?"auto":"always")("hideRequiredMarker",!t.showLabel)("ngClass",i["\u0275\u0275pureFunction1"](24,h,!t.showLabel)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.showLabel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("for",r),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("min",t.minDateValue)("max",t.maxDateValue)("disabled",t.disabled)("required",t.required)("ngModel",t.date)("matDatetimepicker",r)}},directives:[o.f,o.e,o.g,s.MatFormField,l.NgClass,c.b,l.NgIf,u.i,s.MatPrefix,u.a,p.MatInput,r.DefaultValueAccessor,u.f,r.RequiredValidator,r.NgControlStatus,r.NgModel,s.MatPlaceholder],pipes:[d.TranslatePipe],styles:["[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:8px}[_nghost-%COMP%]     .mat-form-field-underline{bottom:8px}[_nghost-%COMP%]     .mat-form-field-infix{width:auto;min-width:100px}[_nghost-%COMP%]     mat-form-field.no-label .mat-form-field-infix{border-top-width:.2em}"]}),e}();!function(){i["\u0275setClassMetadata"](y,[{type:i.Component,args:[{selector:"tb-datetime",templateUrl:"./datetime.component.html",styleUrls:["./datetime.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return y})),multi:!0}]}]}],(function(){return[]}),{required:[{type:i.Input}],disabled:[{type:i.Input}],dateText:[{type:i.Input}],timeText:[{type:i.Input}],showLabel:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}]})}()},gmuX:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),r=n("fXoL"),a=n("RxGS"),o=n("tyNb"),s=n("pLZG"),l=n("l7P3"),c=n("0IaG"),u=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.store=t,r.router=n,r.dialogRef=i,r.routerSubscription=r.router.events.pipe(Object(s.a)((function(e){return e instanceof o.NavigationStart})),Object(s.a)((function(){return!!r.dialogRef}))).subscribe((function(){r.dialogRef.close()})),r}return Object(i.d)(t,e),t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.routerSubscription&&this.routerSubscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](l.Store),r["\u0275\u0275directiveInject"](o.Router),r["\u0275\u0275directiveInject"](c.MatDialogRef))},t.\u0275dir=r["\u0275\u0275defineDirective"]({type:t,features:[r["\u0275\u0275InheritDefinitionFeature"]]}),t}(a.a);!function(){r["\u0275setClassMetadata"](u,[{type:r.Directive}],(function(){return[{type:l.Store},{type:o.Router},{type:c.MatDialogRef}]}),null)}()},he9t:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"d",(function(){return f}));var i,r=n("fXoL"),a={serverErrorCode:{general:2,authentication:10,jwtTokenExpired:11,tenantTrialExpired:12,credentialsExpired:15,permissionDenied:20,invalidArguments:30,badRequestParams:31,itemNotFound:32,tooManyRequests:33,tooManyUpdates:34},entryPoints:{login:"/api/auth/login",tokenRefresh:"/api/auth/token",nonTokenBased:"/api/noauth"}},o={xs:"screen and (max-width: 599px)",sm:"screen and (min-width: 600px) and (max-width: 959px)",md:"screen and (min-width: 960px) and (max-width: 1279px)",lg:"screen and (min-width: 1280px) and (max-width: 1919px)",xl:"screen and (min-width: 1920px) and (max-width: 5000px)","lt-sm":"screen and (max-width: 599px)","lt-md":"screen and (max-width: 959px)","lt-lg":"screen and (max-width: 1279px)","lt-xl":"screen and (max-width: 1919px)","gt-xs":"screen and (min-width: 600px)","gt-sm":"screen and (min-width: 960px)","gt-md":"screen and (min-width: 1280px)","gt-lg":"screen and (min-width: 1920px)","gt-xl":"screen and (min-width: 5001px)"},s="https://thingsboard.io",l={linksMap:{outgoingMailSettings:s+"/docs/user-guide/ui/mail-settings",smsProviderSettings:s+"/docs/user-guide/ui/sms-provider-settings",securitySettings:s+"/docs/user-guide/ui/security-settings",oauth2Settings:s+"/docs/user-guide/oauth-2-support/",ruleEngine:s+"/docs/user-guide/rule-engine-2-0/overview/",ruleNodeCheckRelation:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#check-relation-filter-node",ruleNodeCheckExistenceFields:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#check-existence-fields-node",ruleNodeGpsGeofencingFilter:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#gps-geofencing-filter-node",ruleNodeJsFilter:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#script-filter-node",ruleNodeJsSwitch:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#switch-node",ruleNodeMessageTypeFilter:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#message-type-filter-node",ruleNodeMessageTypeSwitch:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#message-type-switch-node",ruleNodeOriginatorTypeFilter:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#originator-type-filter-node",ruleNodeOriginatorTypeSwitch:s+"/docs/user-guide/rule-engine-2-0/filter-nodes/#originator-type-switch-node",ruleNodeOriginatorAttributes:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#originator-attributes",ruleNodeOriginatorFields:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#originator-fields",ruleNodeOriginatorTelemetry:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#originator-telemetry",ruleNodeCustomerAttributes:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#customer-attributes",ruleNodeCustomerDetails:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#customer-details",ruleNodeDeviceAttributes:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#device-attributes",ruleNodeRelatedAttributes:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#related-attributes",ruleNodeTenantAttributes:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#tenant-attributes",ruleNodeTenantDetails:s+"/docs/user-guide/rule-engine-2-0/enrichment-nodes/#tenant-details",ruleNodeChangeOriginator:s+"/docs/user-guide/rule-engine-2-0/transformation-nodes/#change-originator",ruleNodeTransformMsg:s+"/docs/user-guide/rule-engine-2-0/transformation-nodes/#script-transformation-node",ruleNodeMsgToEmail:s+"/docs/user-guide/rule-engine-2-0/transformation-nodes/#to-email-node",ruleNodeAssignToCustomer:s+"/docs/user-guide/rule-engine-2-0/transformation-nodes/#assign-to-customer-node",ruleNodeUnassignFromCustomer:s+"/docs/user-guide/rule-engine-2-0/transformation-nodes/#unassign-from-customer-node",ruleNodeClearAlarm:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#clear-alarm-node",ruleNodeCreateAlarm:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#create-alarm-node",ruleNodeCreateRelation:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#create-relation-node",ruleNodeDeleteRelation:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#delete-relation-node",ruleNodeMsgDelay:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#delay-node",ruleNodeMsgGenerator:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#generator-node",ruleNodeGpsGeofencingEvents:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#gps-geofencing-events-node",ruleNodeLog:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#log-node",ruleNodeRpcCallReply:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#rpc-call-reply-node",ruleNodeRpcCallRequest:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#rpc-call-request-node",ruleNodeSaveAttributes:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#save-attributes-node",ruleNodeSaveTimeseries:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#save-timeseries-node",ruleNodeSaveToCustomTable:s+"/docs/user-guide/rule-engine-2-0/action-nodes/#save-to-custom-table",ruleNodeRuleChain:s+"/docs/user-guide/ui/rule-chains/",ruleNodeAwsSns:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#aws-sns-node",ruleNodeAwsSqs:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#aws-sqs-node",ruleNodeKafka:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#kafka-node",ruleNodeMqtt:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#mqtt-node",ruleNodeAzureIotHub:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#azure-iot-hub-node",ruleNodeRabbitMq:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#rabbitmq-node",ruleNodeRestApiCall:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#rest-api-call-node",ruleNodeSendEmail:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#send-email-node",ruleNodeSendSms:s+"/docs/user-guide/rule-engine-2-0/external-nodes/#send-sms-node",tenants:s+"/docs/user-guide/ui/tenants",tenantProfiles:s+"/docs/user-guide/ui/tenant-profiles",customers:s+"/docs/user-guide/ui/customers",users:s+"/docs/user-guide/ui/users",devices:s+"/docs/user-guide/ui/devices",deviceProfiles:s+"/docs/user-guide/ui/device-profiles",assets:s+"/docs/user-guide/ui/assets",entityViews:s+"/docs/user-guide/ui/entity-views",entitiesImport:s+"/docs/user-guide/bulk-provisioning",rulechains:s+"/docs/user-guide/ui/rule-chains",dashboards:s+"/docs/user-guide/ui/dashboards",widgetsBundles:s+"/docs/user-guide/ui/widget-library#bundles",widgetsConfig:s+"/docs/user-guide/ui/dashboards#widget-configuration",widgetsConfigTimeseries:s+"/docs/user-guide/ui/dashboards#timeseries",widgetsConfigLatest:s+"/docs/user-guide/ui/dashboards#latest",widgetsConfigRpc:s+"/docs/user-guide/ui/dashboards#rpc",widgetsConfigAlarm:s+"/docs/user-guide/ui/dashboards#alarm",widgetsConfigStatic:s+"/docs/user-guide/ui/dashboards#static"}};!function(e){e.STRING="STRING",e.INTEGER="INTEGER",e.DOUBLE="DOUBLE",e.BOOLEAN="BOOLEAN",e.JSON="JSON"}(i||(i={}));var c,u=new Map([[i.STRING,{name:"value.string",icon:"mdi:format-text"}],[i.INTEGER,{name:"value.integer",icon:"mdi:numeric"}],[i.DOUBLE,{name:"value.double",icon:"mdi:numeric"}],[i.BOOLEAN,{name:"value.boolean",icon:"mdi:checkbox-marked-outline"}],[i.JSON,{name:"value.json",icon:"mdi:json"}]]);!function(e){e.JSON="JSON",e.TEXT="TEXT",e.BINARY="BINARY"}(c||(c={}));var p=new Map([[c.JSON,{name:"content-type.json",code:"json"}],[c.TEXT,{name:"content-type.text",code:"text"}],[c.BINARY,{name:"content-type.binary",code:"text"}]]),d="custom.",m="i18n",f=new r.InjectionToken("ModulesMap")},hwpn:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("fXoL"),r=n("kIhZ"),a=n("3Pt+"),o=n("kmnG"),s=n("sYmb"),l=n("d3UM"),c=n("ofXK"),u=n("XiUz"),p=n("qFsG"),d=n("FKr1");function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",14),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n," ")}}function f(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"contact.postal-code-invalid")," "))}function h(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"user.invalid-email-format")," "))}var y=function(){function e(){this.countries=r.a}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-contact"]],inputs:{parentForm:"parentForm",isEdit:"isEdit"},decls:37,vars:4,consts:[[3,"formGroup"],[1,"mat-block"],["translate",""],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["fxLayout.gt-sm","row","fxLayoutGap.gt-sm","10px"],["matInput","","formControlName","city"],["matInput","","formControlName","state"],["matInput","","formControlName","zip"],[4,"ngIf"],["matInput","","formControlName","address"],["matInput","","formControlName","address2"],["matInput","","formControlName","phone"],["matInput","","formControlName","email"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"mat-form-field",1),i["\u0275\u0275elementStart"](2,"mat-label",2),i["\u0275\u0275text"](3,"contact.country"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"mat-select",3),i["\u0275\u0275template"](5,m,2,2,"mat-option",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"mat-form-field",1),i["\u0275\u0275elementStart"](8,"mat-label",2),i["\u0275\u0275text"](9,"contact.city"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](10,"input",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"mat-form-field",1),i["\u0275\u0275elementStart"](12,"mat-label",2),i["\u0275\u0275text"](13,"contact.state"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](14,"input",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"mat-form-field",1),i["\u0275\u0275elementStart"](16,"mat-label",2),i["\u0275\u0275text"](17,"contact.postal-code"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"input",8),i["\u0275\u0275template"](19,f,3,3,"mat-error",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"mat-form-field",1),i["\u0275\u0275elementStart"](21,"mat-label",2),i["\u0275\u0275text"](22,"contact.address"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"input",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"mat-form-field",1),i["\u0275\u0275elementStart"](25,"mat-label",2),i["\u0275\u0275text"](26,"contact.address2"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](27,"input",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"mat-form-field",1),i["\u0275\u0275elementStart"](29,"mat-label",2),i["\u0275\u0275text"](30,"contact.phone"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](31,"input",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"mat-form-field",1),i["\u0275\u0275elementStart"](33,"mat-label",2),i["\u0275\u0275text"](34,"contact.email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](35,"input",13),i["\u0275\u0275template"](36,h,3,3,"mat-error",9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.parentForm),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngForOf",t.countries),i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("ngIf",t.parentForm.get("zip").hasError("pattern")),i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("ngIf",t.parentForm.get("email").hasError("email")))},directives:[a.NgControlStatusGroup,a.FormGroupDirective,o.MatFormField,o.MatLabel,s.TranslateDirective,l.MatSelect,a.NgControlStatus,a.FormControlName,c.NgForOf,u.f,u.g,p.MatInput,a.DefaultValueAccessor,c.NgIf,d.MatOption,o.MatError],pipes:[s.TranslatePipe],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](y,[{type:i.Component,args:[{selector:"tb-contact",templateUrl:"./contact.component.html"}]}],null,{parentForm:[{type:i.Input}],isEdit:[{type:i.Input}]})}()},iQEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1),this.ignoreLoading=e,this.ignoreErrors=t,this.resendRequest=n}},ikDa:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("0IaG"),a=n("XiUz"),o=n("bTqV"),s=function(){function e(e){this.dialogRef=e}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.MatDialogRef))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-todo-dialog"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h2",0),i["\u0275\u0275text"](1,"Coming soon!"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"h1"),i["\u0275\u0275text"](4,"COMING SOON!"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",2),i["\u0275\u0275elementStart"](6,"button",3),i["\u0275\u0275text"](7,"Ok"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("mat-dialog-close",!0))},directives:[r.MatDialogTitle,r.MatDialogContent,r.MatDialogActions,a.f,a.e,o.MatButton,r.MatDialogClose],styles:["[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px 24px}[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:500px}"]}),e}();!function(){i["\u0275setClassMetadata"](s,[{type:i.Component,args:[{selector:"tb-todo-dialog",templateUrl:"./todo-dialog.component.html",styleUrls:["./todo-dialog.component.scss"]}]}],(function(){return[{type:r.MatDialogRef}]}),null)}()},"j+T/":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return E}));var i=n("mrSG"),r=n("fXoL"),a=n("aX2P"),o=n("RxGS"),s=n("3Pt+"),l=n("k9IB"),c=n("rDax"),u=n("l7P3"),p=function(){return{standalone:!0}};function d(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"section",26),r["\u0275\u0275elementStart"](1,"label",27),r["\u0275\u0275text"](2,"timewindow.hide"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"mat-checkbox",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideInterval=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideIntervalChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](2,p))("ngModel",i.timewindow.hideInterval)}}function m(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"section",26),r["\u0275\u0275elementStart"](1,"label",27),r["\u0275\u0275text"](2,"timewindow.hide"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"mat-checkbox",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideInterval=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideIntervalChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](2,p))("ngModel",i.timewindow.hideInterval)}}function f(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",39),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,2,i.aggregationTypesTranslations.get(i.aggregationTypes[n]))," ")}}function h(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",29),r["\u0275\u0275elementStart"](1,"section",5),r["\u0275\u0275elementStart"](2,"section",30),r["\u0275\u0275elementStart"](3,"label",27),r["\u0275\u0275text"](4,"timewindow.hide"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"mat-checkbox",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideAggregation=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideAggregationChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"section",31),r["\u0275\u0275elementStart"](7,"mat-form-field"),r["\u0275\u0275elementStart"](8,"mat-label",12),r["\u0275\u0275text"](9,"aggregation.function"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](10,"mat-select",32),r["\u0275\u0275template"](11,f,3,4,"mat-option",33),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"section",34),r["\u0275\u0275elementStart"](13,"section",30),r["\u0275\u0275elementStart"](14,"label",27),r["\u0275\u0275text"](15,"timewindow.hide"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](16,"mat-checkbox",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideAggInterval=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideAggIntervalChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"section",7),r["\u0275\u0275elementStart"](18,"div",35),r["\u0275\u0275elementStart"](19,"span",12),r["\u0275\u0275text"](20,"aggregation.limit"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](21,"mat-slider",36),r["\u0275\u0275elementStart"](22,"mat-form-field",37),r["\u0275\u0275element"](23,"input",38),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("fxShow",i.isEdit),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](16,p))("ngModel",i.timewindow.hideAggregation),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",i.isEdit||!i.timewindow.hideAggregation),r["\u0275\u0275advance"](5),r["\u0275\u0275property"]("ngForOf",i.aggregations),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",i.timewindowForm.get("aggregation.type").value===i.aggregationTypes.NONE),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",i.isEdit),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](17,p))("ngModel",i.timewindow.hideAggInterval),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",i.isEdit||!i.timewindow.hideAggInterval),r["\u0275\u0275advance"](4),r["\u0275\u0275propertyInterpolate"]("min",i.minDatapointsLimit()),r["\u0275\u0275propertyInterpolate"]("max",i.maxDatapointsLimit()),r["\u0275\u0275property"]("value",i.timewindowForm.get("aggregation.limit").value),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("min",i.minDatapointsLimit()),r["\u0275\u0275propertyInterpolate"]("max",i.maxDatapointsLimit()),r["\u0275\u0275property"]("value",i.timewindowForm.get("aggregation.limit").value)}}function y(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",40),r["\u0275\u0275elementStart"](1,"tb-timeinterval",41),r["\u0275\u0275listener"]("hideFlagChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideAggInterval=e}))("hideFlagChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideAggIntervalChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("isEdit",i.isEdit)("hideFlag",i.timewindow.hideAggInterval)("min",i.minRealtimeAggInterval())("max",i.maxRealtimeAggInterval())}}function g(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",42),r["\u0275\u0275elementStart"](1,"tb-timeinterval",41),r["\u0275\u0275listener"]("hideFlagChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideAggInterval=e}))("hideFlagChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideAggIntervalChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("isEdit",i.isEdit)("hideFlag",i.timewindow.hideAggInterval)("min",i.minHistoryAggInterval())("max",i.maxHistoryAggInterval())}}function b(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",43),r["\u0275\u0275elementStart"](1,"section",30),r["\u0275\u0275elementStart"](2,"label",27),r["\u0275\u0275text"](3,"timewindow.hide"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"mat-checkbox",28),r["\u0275\u0275listener"]("ngModelChange",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().timewindow.hideTimezone=e}))("ngModelChange",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onHideTimezoneChanged()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"tb-timezone-select",44),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",i.isEdit),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngModelOptions",r["\u0275\u0275pureFunction0"](4,p))("ngModel",i.timewindow.hideTimezone),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",i.isEdit||!i.timewindow.hideTimezone)}}var v=function(e){return{"tb-headless":e}},C=new r.InjectionToken("TimewindowPanelData"),E=function(e){function t(t,n,i,r,o,s){var l=e.call(this,i)||this;return l.data=t,l.overlayRef=n,l.store=i,l.fb=r,l.timeService=o,l.viewContainerRef=s,l.historyOnly=!1,l.aggregation=!1,l.timezone=!1,l.isEdit=!1,l.historyTypes=a.d,l.realtimeTypes=a.h,l.timewindowTypes=a.k,l.aggregationTypes=a.a,l.aggregations=Object.keys(a.a),l.aggregationTypesTranslations=a.n,l.historyOnly=t.historyOnly,l.timewindow=t.timewindow,l.aggregation=t.aggregation,l.timezone=t.timezone,l.isEdit=t.isEdit,l}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var e=this.timewindow.hideInterval||!1,t=this.timewindow.hideAggregation||!1,n=this.timewindow.hideAggInterval||!1,i=this.timewindow.hideTimezone||!1;this.timewindowForm=this.fb.group({realtime:this.fb.group({realtimeType:this.fb.control({value:this.timewindow.realtime&&void 0!==this.timewindow.realtime.realtimeType?this.timewindow.realtime.realtimeType:a.h.LAST_INTERVAL,disabled:e}),timewindowMs:[this.timewindow.realtime&&void 0!==this.timewindow.realtime.timewindowMs?this.timewindow.realtime.timewindowMs:null],interval:[this.timewindow.realtime&&void 0!==this.timewindow.realtime.interval?this.timewindow.realtime.interval:null],quickInterval:this.fb.control({value:this.timewindow.realtime&&void 0!==this.timewindow.realtime.quickInterval?this.timewindow.realtime.quickInterval:null,disabled:e})}),history:this.fb.group({historyType:this.fb.control({value:this.timewindow.history&&void 0!==this.timewindow.history.historyType?this.timewindow.history.historyType:a.d.LAST_INTERVAL,disabled:e}),timewindowMs:this.fb.control({value:this.timewindow.history&&void 0!==this.timewindow.history.timewindowMs?this.timewindow.history.timewindowMs:null,disabled:e}),interval:[this.timewindow.history&&void 0!==this.timewindow.history.interval?this.timewindow.history.interval:null],fixedTimewindow:this.fb.control({value:this.timewindow.history&&void 0!==this.timewindow.history.fixedTimewindow?this.timewindow.history.fixedTimewindow:null,disabled:e}),quickInterval:this.fb.control({value:this.timewindow.history&&void 0!==this.timewindow.history.quickInterval?this.timewindow.history.quickInterval:null,disabled:e})}),aggregation:this.fb.group({type:this.fb.control({value:this.timewindow.aggregation&&void 0!==this.timewindow.aggregation.type?this.timewindow.aggregation.type:null,disabled:t}),limit:this.fb.control({value:this.timewindow.aggregation&&void 0!==this.timewindow.aggregation.limit?this.timewindow.aggregation.limit:null,disabled:n},[s.Validators.min(this.minDatapointsLimit()),s.Validators.max(this.maxDatapointsLimit())])}),timezone:this.fb.control({value:"undefined"!==this.timewindow.timezone?this.timewindow.timezone:null,disabled:i})})},t.prototype.update=function(){var e=this.timewindowForm.getRawValue();this.timewindow.realtime={realtimeType:e.realtime.realtimeType,timewindowMs:e.realtime.timewindowMs,quickInterval:e.realtime.quickInterval,interval:e.realtime.interval},this.timewindow.history={historyType:e.history.historyType,timewindowMs:e.history.timewindowMs,interval:e.history.interval,fixedTimewindow:e.history.fixedTimewindow,quickInterval:e.history.quickInterval},this.aggregation&&(this.timewindow.aggregation={type:e.aggregation.type,limit:e.aggregation.limit}),this.timezone&&(this.timewindow.timezone=e.timezone),this.result=this.timewindow,this.overlayRef.dispose()},t.prototype.cancel=function(){this.overlayRef.dispose()},t.prototype.minDatapointsLimit=function(){return this.timeService.getMinDatapointsLimit()},t.prototype.maxDatapointsLimit=function(){return this.timeService.getMaxDatapointsLimit()},t.prototype.minRealtimeAggInterval=function(){return this.timeService.minIntervalLimit(this.currentRealtimeTimewindow())},t.prototype.maxRealtimeAggInterval=function(){return this.timeService.maxIntervalLimit(this.currentRealtimeTimewindow())},t.prototype.currentRealtimeTimewindow=function(){var e=this.timewindowForm.getRawValue();switch(e.realtime.realtimeType){case a.h.LAST_INTERVAL:return e.realtime.timewindowMs;case a.h.INTERVAL:return Object(a.K)(e.realtime.quickInterval);default:return a.b}},t.prototype.minHistoryAggInterval=function(){return this.timeService.minIntervalLimit(this.currentHistoryTimewindow())},t.prototype.maxHistoryAggInterval=function(){return this.timeService.maxIntervalLimit(this.currentHistoryTimewindow())},t.prototype.currentHistoryTimewindow=function(){var e=this.timewindowForm.getRawValue();return e.history.historyType===a.d.LAST_INTERVAL?e.history.timewindowMs:e.history.historyType===a.d.INTERVAL?Object(a.K)(e.history.quickInterval):e.history.fixedTimewindow?e.history.fixedTimewindow.endTimeMs-e.history.fixedTimewindow.startTimeMs:a.b},t.prototype.onHideIntervalChanged=function(){this.timewindow.hideInterval?(this.timewindowForm.get("history.historyType").disable({emitEvent:!1}),this.timewindowForm.get("history.timewindowMs").disable({emitEvent:!1}),this.timewindowForm.get("history.fixedTimewindow").disable({emitEvent:!1}),this.timewindowForm.get("history.quickInterval").disable({emitEvent:!1}),this.timewindowForm.get("realtime.realtimeType").disable({emitEvent:!1}),this.timewindowForm.get("realtime.timewindowMs").disable({emitEvent:!1}),this.timewindowForm.get("realtime.quickInterval").disable({emitEvent:!1})):(this.timewindowForm.get("history.historyType").enable({emitEvent:!1}),this.timewindowForm.get("history.timewindowMs").enable({emitEvent:!1}),this.timewindowForm.get("history.fixedTimewindow").enable({emitEvent:!1}),this.timewindowForm.get("history.quickInterval").enable({emitEvent:!1}),this.timewindowForm.get("realtime.realtimeType").enable({emitEvent:!1}),this.timewindowForm.get("realtime.timewindowMs").enable({emitEvent:!1}),this.timewindowForm.get("realtime.quickInterval").enable({emitEvent:!1})),this.timewindowForm.markAsDirty()},t.prototype.onHideAggregationChanged=function(){this.timewindow.hideAggregation?this.timewindowForm.get("aggregation.type").disable({emitEvent:!1}):this.timewindowForm.get("aggregation.type").enable({emitEvent:!1}),this.timewindowForm.markAsDirty()},t.prototype.onHideAggIntervalChanged=function(){this.timewindow.hideAggInterval?this.timewindowForm.get("aggregation.limit").disable({emitEvent:!1}):this.timewindowForm.get("aggregation.limit").enable({emitEvent:!1}),this.timewindowForm.markAsDirty()},t.prototype.onHideTimezoneChanged=function(){this.timewindow.hideTimezone?this.timewindowForm.get("timezone").disable({emitEvent:!1}):this.timewindowForm.get("timezone").enable({emitEvent:!1}),this.timewindowForm.markAsDirty()},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](C),r["\u0275\u0275directiveInject"](c.OverlayRef),r["\u0275\u0275directiveInject"](u.Store),r["\u0275\u0275directiveInject"](s.FormBuilder),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](r.ViewContainerRef))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-timewindow-panel"]],features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:57,vars:49,consts:[[3,"formGroup","ngSubmit"],[3,"disabled"],["fxLayout","column",1,"mat-content",2,"height","100%"],["dynamicHeight","",3,"ngClass","selectedIndex","selectedIndexChange"],[3,"label"],["fxLayout","row"],["fxLayout","column","style","padding-top: 8px; padding-left: 16px;",4,"ngIf"],["fxLayout","column","fxFlex","",3,"fxShow"],["formGroupName","realtime",1,"mat-content","mat-padding",2,"padding-top","8px"],["formControlName","realtimeType"],["color","primary",3,"value"],["fxLayout","column"],["translate",""],["formControlName","timewindowMs","predefinedName","timewindow.last",2,"padding-top","8px",3,"fxShow","required"],["formControlName","quickInterval","onlyCurrentInterval","true",2,"padding-top","8px","min-width","364px",3,"fxShow","required"],["formGroupName","history",1,"mat-content","mat-padding",2,"padding-top","8px"],["formControlName","historyType"],["formControlName","fixedTimewindow",2,"padding-top","8px",3,"fxShow","required"],["formControlName","quickInterval",2,"padding-top","8px","min-width","364px",3,"fxShow","required"],["formGroupName","aggregation","class","mat-content mat-padding","fxLayout","column",4,"ngIf"],["formGroupName","realtime","class","mat-content mat-padding","fxLayout","column",4,"ngIf"],["formGroupName","history","class","mat-content mat-padding","fxLayout","column",4,"ngIf"],["class","mat-content mat-padding","fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center",1,"tb-panel-actions"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["fxLayout","column",2,"padding-top","8px","padding-left","16px"],["translate","",1,"tb-small","hide-label"],[3,"ngModelOptions","ngModel","ngModelChange"],["formGroupName","aggregation","fxLayout","column",1,"mat-content","mat-padding"],["fxLayout","column",3,"fxShow"],["fxFlex","","fxLayout","column",3,"fxShow"],["formControlName","type",2,"min-width","150px"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row",3,"fxShow"],["fxLayout","row","fxLayoutAlign","start center",1,"limit-slider-container"],["fxFlex","","formControlName","limit","thumbLabel","",3,"value","min","max"],[2,"max-width","80px"],["matInput","","formControlName","limit","type","number","step","1",3,"value","min","max"],[3,"value"],["formGroupName","realtime","fxLayout","column",1,"mat-content","mat-padding"],["formControlName","interval","predefinedName","aggregation.group-interval",3,"isEdit","hideFlag","min","max","hideFlagChange"],["formGroupName","history","fxLayout","column",1,"mat-content","mat-padding"],["fxLayout","row",1,"mat-content","mat-padding"],["fxFlex","","localBrowserTimezonePlaceholderOnEmpty","true","formControlName","timezone",3,"fxShow"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.update()})),r["\u0275\u0275elementStart"](1,"fieldset",1),r["\u0275\u0275pipe"](2,"async"),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275elementStart"](4,"mat-tab-group",3),r["\u0275\u0275listener"]("selectedIndexChange",(function(){return t.timewindowForm.markAsDirty()}))("selectedIndexChange",(function(e){return t.timewindow.selectedTab=e})),r["\u0275\u0275elementStart"](5,"mat-tab",4),r["\u0275\u0275pipe"](6,"translate"),r["\u0275\u0275elementStart"](7,"section",5),r["\u0275\u0275template"](8,d,4,3,"section",6),r["\u0275\u0275elementStart"](9,"section",7),r["\u0275\u0275elementStart"](10,"div",8),r["\u0275\u0275elementStart"](11,"mat-radio-group",9),r["\u0275\u0275elementStart"](12,"mat-radio-button",10),r["\u0275\u0275elementStart"](13,"section",11),r["\u0275\u0275elementStart"](14,"span",12),r["\u0275\u0275text"](15,"timewindow.last"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](16,"tb-timeinterval",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](17,"mat-radio-button",10),r["\u0275\u0275elementStart"](18,"section",11),r["\u0275\u0275elementStart"](19,"span",12),r["\u0275\u0275text"](20,"timewindow.interval"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](21,"tb-quick-time-interval",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](22,"mat-tab",4),r["\u0275\u0275pipe"](23,"translate"),r["\u0275\u0275elementStart"](24,"section",5),r["\u0275\u0275template"](25,m,4,3,"section",6),r["\u0275\u0275elementStart"](26,"section",7),r["\u0275\u0275elementStart"](27,"div",15),r["\u0275\u0275elementStart"](28,"mat-radio-group",16),r["\u0275\u0275elementStart"](29,"mat-radio-button",10),r["\u0275\u0275elementStart"](30,"section",11),r["\u0275\u0275elementStart"](31,"span",12),r["\u0275\u0275text"](32,"timewindow.last"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](33,"tb-timeinterval",13),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](34,"mat-radio-button",10),r["\u0275\u0275elementStart"](35,"section",11),r["\u0275\u0275elementStart"](36,"span",12),r["\u0275\u0275text"](37,"timewindow.time-period"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](38,"tb-datetime-period",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](39,"mat-radio-button",10),r["\u0275\u0275elementStart"](40,"section",11),r["\u0275\u0275elementStart"](41,"span",12),r["\u0275\u0275text"](42,"timewindow.interval"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](43,"tb-quick-time-interval",18),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](44,h,24,18,"div",19),r["\u0275\u0275template"](45,y,2,4,"div",20),r["\u0275\u0275template"](46,g,2,4,"div",21),r["\u0275\u0275template"](47,b,6,5,"div",22),r["\u0275\u0275elementStart"](48,"div",23),r["\u0275\u0275elementStart"](49,"button",24),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275pipe"](50,"async"),r["\u0275\u0275text"](51),r["\u0275\u0275pipe"](52,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](53,"button",25),r["\u0275\u0275pipe"](54,"async"),r["\u0275\u0275text"](55),r["\u0275\u0275pipe"](56,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.timewindowForm),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](2,33,t.isLoading$)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](47,v,t.historyOnly))("selectedIndex",t.timewindow.selectedTab),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("label",r["\u0275\u0275pipeBind1"](6,35,"timewindow.realtime")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.isEdit),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",t.isEdit||!t.timewindow.hideInterval),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("value",t.realtimeTypes.LAST_INTERVAL),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("fxShow",t.timewindowForm.get("realtime.realtimeType").value===t.realtimeTypes.LAST_INTERVAL)("required",t.timewindow.selectedTab===t.timewindowTypes.REALTIME&&t.timewindowForm.get("realtime.realtimeType").value===t.realtimeTypes.LAST_INTERVAL),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",t.realtimeTypes.INTERVAL),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("fxShow",t.timewindowForm.get("realtime.realtimeType").value===t.realtimeTypes.INTERVAL)("required",t.timewindow.selectedTab===t.timewindowTypes.REALTIME&&t.timewindowForm.get("realtime.realtimeType").value===t.realtimeTypes.INTERVAL),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("label",r["\u0275\u0275pipeBind1"](23,37,"timewindow.history")),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",t.isEdit),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("fxShow",t.isEdit||!t.timewindow.hideInterval),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("value",t.historyTypes.LAST_INTERVAL),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("fxShow",t.timewindowForm.get("history.historyType").value===t.historyTypes.LAST_INTERVAL)("required",t.timewindow.selectedTab===t.timewindowTypes.HISTORY&&t.timewindowForm.get("history.historyType").value===t.historyTypes.LAST_INTERVAL),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",t.historyTypes.FIXED),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("fxShow",t.timewindowForm.get("history.historyType").value===t.historyTypes.FIXED)("required",t.timewindow.selectedTab===t.timewindowTypes.HISTORY&&t.timewindowForm.get("history.historyType").value===t.historyTypes.FIXED),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",t.historyTypes.INTERVAL),r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("fxShow",t.timewindowForm.get("history.historyType").value===t.historyTypes.INTERVAL)("required",t.timewindow.selectedTab===t.timewindowTypes.HISTORY&&t.timewindowForm.get("history.historyType").value===t.historyTypes.INTERVAL),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.aggregation),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.aggregation&&t.timewindowForm.get("aggregation.type").value!==t.aggregationTypes.NONE&&t.timewindow.selectedTab===t.timewindowTypes.REALTIME),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.aggregation&&t.timewindowForm.get("aggregation.type").value!==t.aggregationTypes.NONE&&t.timewindow.selectedTab===t.timewindowTypes.HISTORY),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.timezone),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](50,39,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](52,41,"action.cancel")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](54,43,t.isLoading$)||t.timewindowForm.invalid||!t.timewindowForm.dirty),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](56,45,"action.update")," "))},styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%], [_nghost-%COMP%]   fieldset[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .mat-content[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff}[_nghost-%COMP%]   .mat-padding[_ngcontent-%COMP%]{padding:0 16px}[_nghost-%COMP%]   .hide-label[_ngcontent-%COMP%]{margin-bottom:5px;margin-right:5px}[_nghost-%COMP%]   tb-timeinterval[ng-reflect-fx-show=true][_ngcontent-%COMP%]{margin-bottom:-16px}[_nghost-%COMP%]   .limit-slider-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-right:16px}[_nghost-%COMP%]   .limit-slider-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:16px}[_nghost-%COMP%]   .limit-slider-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .limit-slider-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{min-width:25px;max-width:42px}[_nghost-%COMP%]   .limit-slider-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     mat-radio-button{display:block;margin-bottom:16px}[_nghost-%COMP%]     mat-radio-button .mat-radio-label{width:100%;-ms-flex-align:start;align-items:start}[_nghost-%COMP%]     mat-radio-button .mat-radio-label .mat-radio-label-content{width:100%}"]}),t}(o.a);!function(){r["\u0275setClassMetadata"](E,[{type:r.Component,args:[{selector:"tb-timewindow-panel",templateUrl:"./timewindow-panel.component.html",styleUrls:["./timewindow-panel.component.scss"]}]}],(function(){return[{type:void 0,decorators:[{type:r.Inject,args:[C]}]},{type:c.OverlayRef},{type:u.Store},{type:s.FormBuilder},{type:l.a},{type:r.ViewContainerRef}]}),null)}()},j37L:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.getTenantEntityViewInfos=function(e,t,n){return void 0===t&&(t=""),this.http.get("/api/tenant/entityViewInfos"+e.toQuery()+"&type="+t,Object(r.b)(n))},e.prototype.getCustomerEntityViewInfos=function(e,t,n,i){return void 0===n&&(n=""),this.http.get("/api/customer/"+e+"/entityViewInfos"+t.toQuery()+"&type="+n,Object(r.b)(i))},e.prototype.getEntityView=function(e,t){return this.http.get("/api/entityView/"+e,Object(r.b)(t))},e.prototype.getEntityViewInfo=function(e,t){return this.http.get("/api/entityView/info/"+e,Object(r.b)(t))},e.prototype.saveEntityView=function(e,t){return this.http.post("/api/entityView",e,Object(r.b)(t))},e.prototype.deleteEntityView=function(e,t){return this.http.delete("/api/entityView/"+e,Object(r.b)(t))},e.prototype.getEntityViewTypes=function(e){return this.http.get("/api/entityView/types",Object(r.b)(e))},e.prototype.makeEntityViewPublic=function(e,t){return this.http.post("/api/customer/public/entityView/"+e,null,Object(r.b)(t))},e.prototype.assignEntityViewToCustomer=function(e,t,n){return this.http.post("/api/customer/"+e+"/entityView/"+t,null,Object(r.b)(n))},e.prototype.unassignEntityViewFromCustomer=function(e,t){return this.http.delete("/api/customer/entityView/"+e,Object(r.b)(t))},e.prototype.findByQuery=function(e,t){return this.http.post("/api/entityViews",e,Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},jCow:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var i,r=n("LRne"),a=n("Cfvw"),o=n("cp0P"),s=n("vkgz"),l=n("5+tZ"),c=n("lJxs"),u=!1;function p(){if(u)return Object(r.a)(null);var e=[];return e.push(Object(a.a)(n.e(23).then(n.t.bind(null,"2nlJ",7)))),e.push(Object(a.a)(n.e(24).then(n.t.bind(null,"dnnr",7)))),e.push(Object(a.a)(n.e(27).then(n.t.bind(null,"tAGt",7)))),e.push(Object(a.a)(n.e(25).then(n.t.bind(null,"k1/B",7)))),e.push(Object(a.a)(n.e(29).then(n.t.bind(null,"VeWa",7)))),e.push(Object(a.a)(n.e(28).then(n.t.bind(null,"kiLR",7)))),e.push(Object(a.a)(n.e(31).then(n.t.bind(null,"YJMw",7)))),e.push(Object(a.a)(n.e(30).then(n.t.bind(null,"VVRk",7)))),e.push(Object(a.a)(n.e(26).then(n.t.bind(null,"s6ZR",7)))),e.push(Object(a.a)(n.e(34).then(n.t.bind(null,"U9cf",7)))),e.push(Object(a.a)(n.e(32).then(n.t.bind(null,"9eQV",7)))),e.push(Object(a.a)(n.e(36).then(n.t.bind(null,"wNra",7)))),e.push(Object(a.a)(n.e(35).then(n.t.bind(null,"7E8U",7)))),e.push(Object(a.a)(n.e(38).then(n.t.bind(null,"h4f5",7)))),e.push(Object(a.a)(n.e(37).then(n.t.bind(null,"T1/B",7)))),e.push(Object(a.a)(n.e(33).then(n.t.bind(null,"UgiY",7)))),e.push(Object(a.a)(n.e(39).then(n.t.bind(null,"umNf",7)))),Object(o.a)(e).pipe(Object(s.a)((function(){u=!0})))}function d(){return i?Object(r.a)(i):Object(a.a)(n.e(7).then(n.t.bind(null,"bU/s",7))).pipe(Object(l.b)((function(e){return p().pipe(Object(c.a)((function(){return e})))})),Object(s.a)((function(e){i=e})))}var m=function(){function e(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}}return e.fromPoints=function(t,n){return new e(t.row,t.column,n.row,n.column)},e.prototype.clipRows=function(t,n){var i,r;return this.end.row>n?i={row:n+1,column:0}:this.end.row<t&&(i={row:t,column:0}),this.start.row>n?r={row:n+1,column:0}:this.start.row<t&&(r={row:t,column:0}),e.fromPoints(r||this.start,i||this.end)},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return 0===this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},e.prototype.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},e.prototype.compareEnd=function(e,t){return this.end.row===e&&this.end.column===t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row===e&&this.end.column===t?1:this.start.row===e&&this.start.column===t?-1:this.compare(e,t)},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.compareRange=function(e){var t,n=e.end,i=e.start;return 1===(t=this.compare(n.row,n.column))?1===(t=this.compare(i.row,i.column))?2:0===t?1:0:-1===t?-2:-1===(t=this.compare(i.row,i.column))?-1:1===t?42:0},e.prototype.compareStart=function(e,t){return this.start.row===e&&this.start.column===t?-1:this.compare(e,t)},e.prototype.contains=function(e,t){return 0===this.compare(e,t)},e.prototype.containsRange=function(e){return 0===this.comparePoint(e.start)&&0===this.comparePoint(e.end)},e.prototype.extend=function(t,n){var i,r,a=this.compare(t,n);return 0===a?this:(-1===a?r={row:t,column:n}:i={row:t,column:n},e.fromPoints(r||this.start,i||this.end))},e.prototype.inside=function(e,t){return 0===this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},e.prototype.insideEnd=function(e,t){return 0===this.compare(e,t)&&!this.isStart(e,t)},e.prototype.insideStart=function(e,t){return 0===this.compare(e,t)&&!this.isEnd(e,t)},e.prototype.intersects=function(e){var t=this.compareRange(e);return-1===t||0===t||1===t},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isEnd=function(e,t){return this.end.row===e&&this.end.column===t},e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.isStart=function(e,t){return this.start.row===e&&this.start.column===t},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e.prototype.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),i=t.documentToScreenPosition(this.end);return new e(n.row,n.column,i.row,i.column)},e}()},jKtI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.getAdminSettings=function(e,t){return this.http.get("/api/admin/settings/"+e,Object(r.b)(t))},e.prototype.saveAdminSettings=function(e,t){return this.http.post("/api/admin/settings",e,Object(r.b)(t))},e.prototype.sendTestMail=function(e,t){return this.http.post("/api/admin/settings/testMail",e,Object(r.b)(t))},e.prototype.sendTestSms=function(e,t){return this.http.post("/api/admin/settings/testSms",e,Object(r.b)(t))},e.prototype.getSecuritySettings=function(e){return this.http.get("/api/admin/securitySettings",Object(r.b)(e))},e.prototype.saveSecuritySettings=function(e,t){return this.http.post("/api/admin/securitySettings",e,Object(r.b)(t))},e.prototype.checkUpdates=function(e){return this.http.get("/api/admin/updates",Object(r.b)(e))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},jXr5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("0IaG"),a=n("XiUz"),o=n("bTqV"),s=function(){function e(e,t){this.dialogRef=e,this.data=t}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.MatDialogRef),i["\u0275\u0275directiveInject"](r.MAT_DIALOG_DATA))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-alert-dialog"]],decls:6,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",3,"innerHTML"],["mat-dialog-actions","","fxLayoutAlign","end center"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h2",0),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](2,"div",1),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",t.data.message,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("mat-dialog-close",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.ok))},directives:[r.MatDialogTitle,r.MatDialogContent,r.MatDialogActions,a.e,o.MatButton,r.MatDialogClose],styles:["[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px 24px}"]}),e}();!function(){i["\u0275setClassMetadata"](s,[{type:i.Component,args:[{selector:"tb-alert-dialog",templateUrl:"./alert-dialog.component.html",styleUrls:["./alert-dialog.component.scss"]}]}],(function(){return[{type:r.MatDialogRef},{type:void 0,decorators:[{type:i.Inject,args:[r.MAT_DIALOG_DATA]}]}]}),null)}()},"jy/V":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("fXoL"),a=n("RxGS"),o=n("3Pt+"),s=n("S+vS"),l=n("l7P3"),c=n("XiUz"),u=n("NFeN"),p=n("kmnG"),d=n("sYmb"),m=n("qFsG"),f=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.store=t,r.dialogs=n,r.fb=i,r.propagateChange=null,r}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var e=this;this.materialIconFormGroup=this.fb.group({icon:[null,[]]}),this.materialIconFormGroup.valueChanges.subscribe((function(){e.updateModel()}))},t.prototype.registerOnChange=function(e){this.propagateChange=e},t.prototype.registerOnTouched=function(e){},t.prototype.setDisabledState=function(e){this.disabled=e,e?this.materialIconFormGroup.disable({emitEvent:!1}):this.materialIconFormGroup.enable({emitEvent:!1})},t.prototype.writeValue=function(e){this.modelValue=e,this.materialIconFormGroup.patchValue({icon:this.modelValue},{emitEvent:!1})},t.prototype.updateModel=function(){var e=this.materialIconFormGroup.get("icon").value;this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},t.prototype.openIconDialog=function(){var e=this;this.dialogs.materialIconPicker(this.materialIconFormGroup.get("icon").value).subscribe((function(t){t&&e.materialIconFormGroup.patchValue({icon:t},{emitEvent:!0})}))},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](l.Store),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](o.FormBuilder))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-material-icon-select"]],inputs:{disabled:"disabled"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return t})),multi:!0}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:2,consts:[["fxLayout","row",3,"formGroup"],[3,"click"],["fxFlex",""],["translate",""],["matInput","","formControlName","icon",3,"mousedown"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"mat-icon",1),r["\u0275\u0275listener"]("click",(function(){return t.openIconDialog()})),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"mat-form-field",2),r["\u0275\u0275elementStart"](4,"mat-label",3),r["\u0275\u0275text"](5,"icon.icon"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"input",4),r["\u0275\u0275listener"]("mousedown",(function(){return t.openIconDialog()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.materialIconFormGroup),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.materialIconFormGroup.get("icon").value))},directives:[c.f,o.NgControlStatusGroup,o.FormGroupDirective,u.MatIcon,p.MatFormField,c.b,p.MatLabel,d.TranslateDirective,m.MatInput,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName],styles:["[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{padding:4px;margin:8px 4px 4px;cursor:pointer;border:1px solid rgba(0,0,0,.27)}[_nghost-%COMP%]     .mat-form-field-infix{width:146px}"]}),t}(a.a);!function(){r["\u0275setClassMetadata"](f,[{type:r.Component,args:[{selector:"tb-material-icon-select",templateUrl:"./material-icon-select.component.html",styleUrls:["./material-icon-select.component.scss"],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return f})),multi:!0}]}]}],(function(){return[{type:l.Store},{type:s.a},{type:o.FormBuilder}]}),{disabled:[{type:r.Input}]})}()},k81w:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("fXoL"),r=n("3Pt+"),a=n("z36O"),o=n("aX2P"),s=n("ofXK"),l=n("rDax"),c=n("j+T/"),u=n("+rOU"),p=n("he9t"),d=n("wtyh"),m=n("k9IB"),f=n("//Q6"),h=n("8LU1"),y=n("sYmb"),g=n("0MNC"),b=n("bTqV"),v=n("NFeN"),C=n("XiUz"),E=n("znSr"),T=n("Qu3c"),S=["timewindowPanelOrigin"];function w(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",2,3),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().openEditMode()})),i["\u0275\u0275elementStart"](2,"mat-icon",4),i["\u0275\u0275text"](3,"query_builder"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"span"),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",r.timewindowDisabled),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](null==r.innerValue?null:r.innerValue.displayValue)}}function M(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",10),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).openEditMode()})),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementStart"](2,"mat-icon",4),i["\u0275\u0275text"](3,"query_builder"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind1"](1,3,"timewindow.edit")),i["\u0275\u0275property"]("disabled",r.timewindowDisabled)("matTooltipPosition",r.tooltipPosition)}}function O(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",10),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"](2).openEditMode()})),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementStart"](2,"mat-icon",4),i["\u0275\u0275text"](3,"query_builder"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"](2);i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind1"](1,3,"timewindow.edit")),i["\u0275\u0275property"]("disabled",r.timewindowDisabled)("matTooltipPosition",r.tooltipPosition)}}function I(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"section",5,3),i["\u0275\u0275template"](2,M,4,5,"button",6),i["\u0275\u0275elementStart"](3,"span",7),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().openEditMode()})),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275text"](5),i["\u0275\u0275elementStart"](6,"span",8),i["\u0275\u0275text"](7,"| "),i["\u0275\u0275elementStart"](8,"span",9),i["\u0275\u0275text"](9),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](10,O,4,5,"button",6),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf","left"===r.direction),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind1"](4,8,"timewindow.edit")),i["\u0275\u0275property"]("fxHide",r.hideLabel())("matTooltipPosition",r.tooltipPosition),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",null==r.innerValue?null:r.innerValue.displayValue," "),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",""!==(null==r.innerValue?null:r.innerValue.displayTimezoneAbbr)),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](r.innerValue.displayTimezoneAbbr),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","right"===r.direction)}}var x=function(){function e(e,t,n,i,r,a,o,s,l){this.translate=e,this.timeService=t,this.millisecondsToTimeStringPipe=n,this.datePipe=i,this.overlay=r,this.viewContainerRef=a,this.breakpointObserver=o,this.document=s,this.window=l,this.historyOnlyValue=!1,this.aggregationValue=!1,this.timezoneValue=!1,this.isToolbarValue=!1,this.asButtonValue=!1,this.isEditValue=!1,this.direction="left",this.tooltipPosition="above",this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"historyOnly",{get:function(){return this.historyOnlyValue},set:function(e){this.historyOnlyValue=Object(h.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aggregation",{get:function(){return this.aggregationValue},set:function(e){this.aggregationValue=Object(h.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timezone",{get:function(){return this.timezoneValue},set:function(e){this.timezoneValue=Object(h.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isToolbar",{get:function(){return this.isToolbarValue},set:function(e){this.isToolbarValue=Object(h.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asButton",{get:function(){return this.asButtonValue},set:function(e){this.asButtonValue=Object(h.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEdit",{get:function(){return this.isEditValue},set:function(e){this.isEditValue=Object(h.coerceBooleanProperty)(e),this.timewindowDisabled=this.isTimewindowDisabled()},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.openEditMode=function(){var e=this;if(!this.timewindowDisabled){var t=this.breakpointObserver.isMatched(p.e["gt-xs"]),n=this.overlay.position(),i=new l.OverlayConfig({panelClass:"tb-timewindow-panel",backdropClass:"cdk-overlay-transparent-backdrop",hasBackdrop:t});if(t){i.minWidth="417px",i.maxHeight="500px";var r=this.timewindowPanelOrigin.elementRef.nativeElement.getBoundingClientRect(),a=this.window.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0,o=this.window.pageXOffset||this.document.documentElement.scrollLeft||this.document.body.scrollLeft||0,s=r.bottom-a,d=r.left-o,m=void 0,h=void 0,y=void 0,g=void 0;s+375>this.document.documentElement.clientHeight?(h="top",g="bottom"):(h="bottom",g="top"),d+417>this.document.documentElement.clientWidth?(m="end",y="end"):(m="start",y="start");var b={originX:m,originY:h,overlayX:y,overlayY:g};i.positionStrategy=n.flexibleConnectedTo(this.timewindowPanelOrigin.elementRef).withPositions([b])}else i.minWidth="100%",i.minHeight="100%",i.positionStrategy=n.global().top("0%").left("0%").right("0%").bottom("0%");var v=this.overlay.create(i);v.backdropClick().subscribe((function(){v.dispose()}));var C=this._createTimewindowPanelInjector(v,{timewindow:Object(f.e)(this.innerValue),historyOnly:this.historyOnly,aggregation:this.aggregation,timezone:this.timezone,isEdit:this.isEdit}),E=v.attach(new u.ComponentPortal(c.b,this.viewContainerRef,C));E.onDestroy((function(){E.instance.result&&(e.innerValue=E.instance.result,e.timewindowDisabled=e.isTimewindowDisabled(),e.updateDisplayValue(),e.notifyChanged())}))}},e.prototype._createTimewindowPanelInjector=function(e,t){var n=[{provide:c.a,useValue:t},{provide:l.OverlayRef,useValue:e}];return i.Injector.create({parent:this.viewContainerRef.injector,providers:n})},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e,this.timewindowDisabled=this.isTimewindowDisabled()},e.prototype.writeValue=function(e){this.innerValue=Object(o.I)(e,this.timeService),this.timewindowDisabled=this.isTimewindowDisabled(),this.updateDisplayValue()},e.prototype.notifyChanged=function(){this.propagateChange(Object(o.u)(this.innerValue))},e.prototype.updateDisplayValue=function(){if(this.innerValue.selectedTab!==o.k.REALTIME||this.historyOnly)if(this.innerValue.displayValue=this.historyOnly?"":this.translate.instant("timewindow.history")+" - ",this.innerValue.history.historyType===o.d.LAST_INTERVAL)this.innerValue.displayValue+=this.translate.instant("timewindow.last-prefix")+" "+this.millisecondsToTimeStringPipe.transform(this.innerValue.history.timewindowMs);else if(this.innerValue.history.historyType===o.d.INTERVAL)this.innerValue.displayValue+=this.translate.instant(o.g.get(this.innerValue.history.quickInterval));else{var e=this.datePipe.transform(this.innerValue.history.fixedTimewindow.startTimeMs,"yyyy-MM-dd HH:mm:ss"),t=this.datePipe.transform(this.innerValue.history.fixedTimewindow.endTimeMs,"yyyy-MM-dd HH:mm:ss");this.innerValue.displayValue+=this.translate.instant("timewindow.period",{startTime:e,endTime:t})}else this.innerValue.displayValue=this.translate.instant("timewindow.realtime")+" - ",this.innerValue.realtime.realtimeType===o.h.INTERVAL?this.innerValue.displayValue+=this.translate.instant(o.g.get(this.innerValue.realtime.quickInterval)):this.innerValue.displayValue+=this.translate.instant("timewindow.last-prefix")+" "+this.millisecondsToTimeStringPipe.transform(this.innerValue.realtime.timewindowMs);Object(f.o)(this.innerValue.timezone)&&""!==this.innerValue.timezone?(this.innerValue.displayValue+=" ",this.innerValue.displayTimezoneAbbr=Object(o.F)(this.innerValue.timezone).abbr):this.innerValue.displayTimezoneAbbr=""},e.prototype.hideLabel=function(){return this.isToolbar&&!this.breakpointObserver.isMatched(p.e["gt-md"])},e.prototype.isTimewindowDisabled=function(){return this.disabled||!this.isEdit&&(!this.innerValue||this.innerValue.hideInterval&&(!this.aggregation||this.innerValue.hideAggregation&&this.innerValue.hideAggInterval))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](y.TranslateService),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](s.DatePipe),i["\u0275\u0275directiveInject"](l.Overlay),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](g.BreakpointObserver),i["\u0275\u0275directiveInject"](s.DOCUMENT),i["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-timewindow"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275viewQuery"](S,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.timewindowPanelOrigin=n.first))},inputs:{historyOnly:"historyOnly",aggregation:"aggregation",timezone:"timezone",isToolbar:"isToolbar",asButton:"asButton",isEdit:"isEdit",direction:"direction",tooltipPosition:"tooltipPosition",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:2,vars:2,consts:[["cdkOverlayOrigin","","type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["cdkOverlayOrigin","","class","tb-timewindow","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["cdkOverlayOrigin","","type","button","mat-raised-button","","color","primary",3,"disabled","click"],["timewindowPanelOrigin","cdkOverlayOrigin"],[1,"material-icons"],["cdkOverlayOrigin","","fxLayout","row","fxLayoutAlign","start center",1,"tb-timewindow"],["mat-icon-button","","class","tb-mat-32","type","button",3,"disabled","matTooltip","matTooltipPosition","click",4,"ngIf"],[3,"fxHide","matTooltip","matTooltipPosition","click"],[3,"fxShow"],[1,"timezone-abbr"],["mat-icon-button","","type","button",1,"tb-mat-32",3,"disabled","matTooltip","matTooltipPosition","click"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,w,6,2,"button",0),i["\u0275\u0275template"](1,I,11,10,"section",1)),2&e&&(i["\u0275\u0275property"]("ngIf",t.asButton),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.asButton))},directives:[s.NgIf,b.MatButton,l.CdkOverlayOrigin,v.MatIcon,C.f,C.e,E.d,T.MatTooltip],pipes:[y.TranslatePipe],styles:["[_nghost-%COMP%]{min-width:52px;margin:8px 0}[_nghost-%COMP%]   section.tb-timewindow[_ngcontent-%COMP%]{min-height:32px;padding:0 6px}[_nghost-%COMP%]   section.tb-timewindow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:all;cursor:pointer}[_nghost-%COMP%]   section.tb-timewindow[_ngcontent-%COMP%]   .timezone-abbr[_ngcontent-%COMP%]{font-weight:500}"]}),e}();!function(){i["\u0275setClassMetadata"](x,[{type:i.Component,args:[{selector:"tb-timewindow",templateUrl:"./timewindow.component.html",styleUrls:["./timewindow.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return x})),multi:!0}]}]}],(function(){return[{type:y.TranslateService},{type:m.a},{type:a.a},{type:s.DatePipe},{type:l.Overlay},{type:i.ViewContainerRef},{type:g.BreakpointObserver},{type:Document,decorators:[{type:i.Inject,args:[s.DOCUMENT]}]},{type:Window,decorators:[{type:i.Inject,args:[d.b]}]}]}),{historyOnly:[{type:i.Input}],aggregation:[{type:i.Input}],timezone:[{type:i.Input}],isToolbar:[{type:i.Input}],asButton:[{type:i.Input}],isEdit:[{type:i.Input}],direction:[{type:i.Input}],tooltipPosition:[{type:i.Input}],disabled:[{type:i.Input}],timewindowPanelOrigin:[{type:i.ViewChild,args:["timewindowPanelOrigin"]}]})}()},k9IB:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("fXoL"),r=n("aX2P"),a=n("Y8nr"),o=n("lJxs"),s=n("//Q6"),l=n("tk/3"),c=r.i,u=7300*r.b,p=function(){function e(e){this.http=e,this.maxDatapointsLimit=500}return e.prototype.loadMaxDatapointsLimit=function(){var e=this;return this.http.get("/api/dashboard/maxDatapointsLimit",Object(a.a)(!0)).pipe(Object(o.a)((function(t){return e.maxDatapointsLimit=t,(!e.maxDatapointsLimit||e.maxDatapointsLimit<=7)&&(e.maxDatapointsLimit=8),e.maxDatapointsLimit})))},e.prototype.matchesExistingInterval=function(e,t,n){return this.getIntervals(e,t).findIndex((function(e){return e.value===n}))>-1},e.prototype.getIntervals=function(e,t){return e=this.boundMinInterval(e),t=this.boundMaxInterval(t),r.x.filter((function(n){return n.value>=e&&n.value<=t}))},e.prototype.boundMinInterval=function(e){return Object(s.n)(e)&&(e=1e3*Math.floor(e/1e3)),this.toBound(e,c,u,c)},e.prototype.boundMaxInterval=function(e){return Object(s.n)(e)&&(e=1e3*Math.floor(e/1e3)),this.toBound(e,c,u,u)},e.prototype.boundToPredefinedInterval=function(e,t,n){var i=this.getIntervals(e,t),r=u,a=n||e;if(!i.length)return a;var o=i[0];return i.forEach((function(e){var t=Math.abs(e.value-a);t<r&&(o=e,r=t)})),o.value},e.prototype.boundIntervalToTimewindow=function(e,t,n){if(n===r.a.NONE)return r.i;var i=this.minIntervalLimit(e),a=this.maxIntervalLimit(e);return t?this.toBound(t,i,a,t):this.boundToPredefinedInterval(i,a,this.avgInterval(e))},e.prototype.getMaxDatapointsLimit=function(){return this.maxDatapointsLimit},e.prototype.getMinDatapointsLimit=function(){return 7},e.prototype.avgInterval=function(e){var t=e/200;return this.boundMinInterval(t)},e.prototype.minIntervalLimit=function(e){var t=e/500;return this.boundMinInterval(t)},e.prototype.maxIntervalLimit=function(e){var t=e/7;return this.boundMaxInterval(t)},e.prototype.defaultTimewindow=function(){return Object(r.y)(this)},e.prototype.toBound=function(e,t,n,i){return Object(s.n)(e)?(e=Math.max(e,t),e=Math.min(e,n)):i},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](l.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](p,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:l.b}]}),null)}()},kIhZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=["Afghanistan","\xc5land Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic of the","Cook Islands","Costa Rica","C\xf4te d'Ivoire","Croatia","Cuba","Cura\xe7ao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic of","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, Republic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French Part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch Part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Viet Nam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],r={"United States":"(\\d{5}([\\-]\\d{4})?)",Australia:"[0-9]{4}",Austria:"[0-9]{4}",Belgium:"[0-9]{4}",Brazil:"[0-9]{5}[\\-]?[0-9]{3}",Canada:"^(?!.*[DFIOQU])[A-VXY][0-9][A-Z][ -]?[0-9][A-Z][0-9]$",Denmark:"[0-9]{3,4}","Faroe Islands":"[0-9]{3,4}",Netherlands:"[1-9][0-9]{3}\\s?[a-zA-Z]{2}",Germany:"[0-9]{5}",Hungary:"[0-9]{4}",Italy:"[0-9]{5}",Japan:"\\d{3}-\\d{4}",Luxembourg:"(L\\s*(-|\u2014|\u2013))\\s*?[\\d]{4}",Poland:"[0-9]{2}\\-[0-9]{3}",Spain:"((0[1-9]|5[0-2])|[1-4][0-9])[0-9]{3}",Sweden:"\\d{3}\\s?\\d{2}","United Kingdom":"[A-Za-z]{1,2}[0-9Rr][0-9A-Za-z]? [0-9][ABD-HJLNP-UW-Zabd-hjlnp-uw-z]{2}"}},kRCp:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),r=n("he9t"),a=n("bTqV"),o=n("Qu3c"),s=n("NFeN"),l=n("sYmb"),c=["tb-help",""],u=function(){function e(){}return e.prototype.gotoHelpPage=function(){var e=r.c.linksMap[this.helpLinkId];!e&&this.helpLinkId&&(this.helpLinkId.startsWith("http://")||this.helpLinkId.startsWith("https://"))&&(e=this.helpLinkId),e&&window.open(e,"_blank")},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["","tb-help",""]],inputs:{helpLinkId:["tb-help","helpLinkId"]},attrs:c,decls:4,vars:3,consts:[["color","primary","mat-button","","mat-icon-button","","type","button","matTooltipPosition","above",3,"matTooltip","click"],[1,"material-icons"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",0),i["\u0275\u0275listener"]("click",(function(){return t.gotoHelpPage()})),i["\u0275\u0275pipe"](1,"translate"),i["\u0275\u0275elementStart"](2,"mat-icon",1),i["\u0275\u0275text"](3,"help"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind1"](1,1,"help.goto-help-page"))},directives:[a.MatButton,o.MatTooltip,s.MatIcon],pipes:[l.TranslatePipe],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](u,[{type:i.Component,args:[{selector:"[tb-help]",templateUrl:"./help.component.html"}]}],null,{helpLinkId:[{type:i.Input,args:["tb-help"]}]})}()},ktVl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),r=n("Y8nr"),a=n("tk/3"),o=function(){function e(e){this.http=e}return e.prototype.getCustomers=function(e,t){return this.http.get("/api/customers"+e.toQuery(),Object(r.b)(t))},e.prototype.getCustomer=function(e,t){return this.http.get("/api/customer/"+e,Object(r.b)(t))},e.prototype.saveCustomer=function(e,t){return this.http.post("/api/customer",e,Object(r.b)(t))},e.prototype.deleteCustomer=function(e,t){return this.http.delete("/api/customer/"+e,Object(r.b)(t))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](a.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](o,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:a.b}]}),null)}()},m8m0:function(e,t,n){"use strict";var i;n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),function(e){e.START_LOAD="[Load] Start",e.FINISH_LOAD="[Load] Finish"}(i||(i={}));var r=function(){this.type=i.START_LOAD},a=function(){this.type=i.FINISH_LOAD}},mbhL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var i=n("mrSG"),r=n("4r/P"),a=n("Duvn"),o=n("//Q6"),s=2147483647;function l(e){return function(t,n){return c(t,n,e)}}var c=function(e,t,n){if(null===t||!t.length)return!0;var i=(""+t).toLowerCase();if(n&&n.length){if(Object.prototype.hasOwnProperty.call(e,n)&&null!==(s=e[n])&&s!==Object(s)&&-1!==(""+s).toLowerCase().indexOf(i))return!0}else for(var r=0,a=Object.keys(e);r<a.length;r++){var s;if(null!==(s=e[a[r]]))if(s!==Object(s)){if(-1!==(""+s).toLowerCase().indexOf(i))return!0}else if(Object(o.x)(s)&&c(s,t))return!0}return!1};function u(e,t,n,i){var r=Object(o.j)(e,n),a=Object(o.j)(t,n),s=0;if(r!==a){var l=typeof r,c=typeof a;"number"===l&&"number"===c?s=r-a:"string"===l&&"string"===c?s=r.localeCompare(a):("boolean"===l&&"boolean"===c||l!==c)&&(r&&!a?s=1:!r&&a&&(s=-1))}return i?s:-1*s}var p=function(){function e(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=null),void 0===i&&(i=null),this.textSearch=n,this.pageSize=e,this.page=t,this.sortOrder=i}return e.prototype.nextPageLink=function(){return new e(this.pageSize,this.page+1,this.textSearch,this.sortOrder)},e.prototype.toQuery=function(){var e="?pageSize="+this.pageSize+"&page="+this.page;this.textSearch&&this.textSearch.length&&(e+="&textSearch="+encodeURIComponent(this.textSearch));return this.sortOrder&&(e+="&sortProperty="+this.sortOrder.property+"&sortOrder="+this.sortOrder.direction),e},e.prototype.sort=function(e,t){return this.sortOrder?u(e,t,this.sortOrder.property,this.sortOrder.direction===r.a.ASC):0},e.prototype.filterData=function(e,t){var n=this;void 0===t&&(t=l());var o=Object(a.a)();if(o.data=Object(i.g)(e),this.textSearch&&this.textSearch.length&&(o.data=o.data.filter((function(e){return t(e,n.textSearch)}))),o.totalElements=o.data.length,o.totalPages=this.pageSize===Number.POSITIVE_INFINITY?1:Math.ceil(o.totalElements/this.pageSize),this.sortOrder){var s=this.sortOrder.property,c=this.sortOrder.direction===r.a.ASC;o.data=o.data.sort((function(e,t){return u(e,t,s,c)}))}if(this.pageSize!==Number.POSITIVE_INFINITY){var p=this.pageSize*this.page;o.data=o.data.slice(p,p+this.pageSize),o.hasNext=o.totalElements>p+o.data.length}return o},e.prototype.sortDirection=function(){return this.sortOrder?(this.sortOrder.direction+"").toLowerCase():""},e}(),d=function(e){function t(t,n,i,r,a,o){void 0===n&&(n=0),void 0===i&&(i=null),void 0===r&&(r=null),void 0===a&&(a=null),void 0===o&&(o=null);var s=e.call(this,t,n,i,r)||this;return s.startTime=a,s.endTime=o,s}return Object(i.d)(t,e),t.prototype.nextPageLink=function(){return new t(this.pageSize,this.page+1,this.textSearch,this.sortOrder,this.startTime,this.endTime)},t.prototype.toQuery=function(){var t=e.prototype.toQuery.call(this);return this.startTime&&(t+="&startTime="+this.startTime),this.endTime&&(t+="&endTime="+this.endTime),t},t}(p)},nfcV:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("mrSG"),r=n("fXoL"),a=n("FKr1"),o=n("0IaG"),s=n("3Pt+"),l=n("5yfJ"),c=n("LRne"),u=n("gmuX"),p=n("he9t"),d=(n("E9wx"),n("C4fA")),m=n("5+tZ"),f=n("xKAQ"),h=n("Uj2l"),y=n("l7P3"),g=n("tyNb"),b=["payloadContent"],v=["topPanel"],C=["topLeftPanel"],E=["topRightPanel"],T=["bottomPanel"],S=["bottomLeftPanel"],w=["bottomRightPanel"],M=function(e,t,n){return[e,t,n]},O=function(e){function t(t,n,i,r,a,o,s){var l=e.call(this,t,n,a)||this;return l.store=t,l.router=n,l.data=i,l.errorStateMatcher=r,l.dialogRef=a,l.fb=o,l.ruleChainService=s,l.width="100%",l.height="100%",l.submitted=!1,l.contentTypes=p.b,l.functionTitle=l.data.functionTitle,l}return Object(i.d)(t,e),t.prototype.ngOnInit=function(){var e=this;this.nodeScriptTestFormGroup=this.fb.group({payload:this.fb.group({msgType:[this.data.msgType,[s.Validators.required]],msg:[null,[]]}),metadata:[this.data.metadata,[s.Validators.required]],script:[this.data.script,[]],output:["",[]]}),Object(h.c)(JSON.stringify(this.data.msg),{indent_size:4}).subscribe((function(t){e.nodeScriptTestFormGroup.get("payload").get("msg").patchValue(t,{emitEvent:!1})}))},t.prototype.ngAfterViewInit=function(){this.initSplitLayout(this.topPanelElmRef.first.nativeElement,this.topLeftPanelElmRef.first.nativeElement,this.topRightPanelElmRef.first.nativeElement,this.bottomPanelElmRef.first.nativeElement,this.bottomLeftPanelElmRef.first.nativeElement,this.bottomRightPanelElmRef.first.nativeElement)},t.prototype.initSplitLayout=function(e,t,n,i,r,a){Split([e,i],{sizes:[35,65],gutterSize:8,cursor:"row-resize",direction:"vertical"}),Split([t,n],{sizes:[50,50],gutterSize:8,cursor:"col-resize"}),Split([r,a],{sizes:[50,50],gutterSize:8,cursor:"col-resize"})},t.prototype.isErrorState=function(e,t){var n=this.errorStateMatcher.isErrorState(e,t),i=!!(e&&e.invalid&&this.submitted);return n||i},t.prototype.cancel=function(){this.dialogRef.close(null)},t.prototype.test=function(){var e=this;this.testNodeScript().subscribe((function(t){Object(h.c)(t,{indent_size:4}).subscribe((function(t){e.nodeScriptTestFormGroup.get("output").setValue(t)}))}))},t.prototype.testNodeScript=function(){var e=this;if(this.checkInputParamErrors()){var t={argNames:this.data.argNames,scriptType:this.data.scriptType,msgType:this.nodeScriptTestFormGroup.get("payload.msgType").value,msg:this.nodeScriptTestFormGroup.get("payload.msg").value,metadata:this.nodeScriptTestFormGroup.get("metadata").value,script:this.nodeScriptTestFormGroup.get("script").value};return this.ruleChainService.testScript(t).pipe(Object(m.b)((function(t){return t.error?(e.store.dispatch(new f.b({message:t.error,type:"error"})),l.a):Object(c.a)(t.output)})))}return l.a},t.prototype.checkInputParamErrors=function(){return this.payloadContent.validateOnSubmit(),!!this.nodeScriptTestFormGroup.get("payload").valid},t.prototype.save=function(){var e=this;this.submitted=!0,this.testNodeScript().subscribe((function(){e.nodeScriptTestFormGroup.get("script").markAsPristine(),e.dialogRef.close(e.nodeScriptTestFormGroup.get("script").value)}))},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](y.Store),r["\u0275\u0275directiveInject"](g.Router),r["\u0275\u0275directiveInject"](o.MAT_DIALOG_DATA),r["\u0275\u0275directiveInject"](a.ErrorStateMatcher,4),r["\u0275\u0275directiveInject"](o.MatDialogRef),r["\u0275\u0275directiveInject"](s.FormBuilder),r["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-node-script-test-dialog"]],viewQuery:function(e,t){var n;(1&e&&(r["\u0275\u0275staticViewQuery"](b,!0),r["\u0275\u0275viewQuery"](v,!0),r["\u0275\u0275viewQuery"](C,!0),r["\u0275\u0275viewQuery"](E,!0),r["\u0275\u0275viewQuery"](T,!0),r["\u0275\u0275viewQuery"](S,!0),r["\u0275\u0275viewQuery"](w,!0)),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.payloadContent=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.topPanelElmRef=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.topLeftPanelElmRef=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.topRightPanelElmRef=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.bottomPanelElmRef=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.bottomLeftPanelElmRef=n),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.bottomRightPanelElmRef=n))},hostVars:4,hostBindings:function(e,t){2&e&&r["\u0275\u0275styleProp"]("width",t.width)("height",t.height)},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.ErrorStateMatcher,useExisting:t}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:63,vars:41,consts:[[1,"tb-node-script-test-dialog",3,"formGroup","ngSubmit"],["fxLayout","row","color","primary"],["fxFlex",""],["mat-button","","mat-icon-button","","type","button",3,"click"],[1,"material-icons"],["mat-dialog-content","","fxFlex","",2,"position","relative"],[1,"tb-absolute-fill"],[1,"tb-split","tb-split-vertical"],["topPanel",""],[1,"tb-split","tb-content"],["topLeftPanel",""],[1,"tb-resize-container"],[1,"tb-editor-area-title-panel"],["translate",""],["formGroupName","payload","fxLayout","column",2,"height","100%"],["fxLayout","row"],["formControlName","msgType","required","",2,"margin-bottom","0","min-width","300px"],["fxFlex","","formControlName","msg","validateContent","",3,"label","contentType","fillHeight"],["payloadContent",""],["topRightPanel",""],["tb-toast","","toastTarget","metadataPanel",1,"tb-resize-container"],["formControlName","metadata","titleText","rulenode.metadata"],["bottomPanel",""],["bottomLeftPanel",""],[1,"tb-editor-area-title-panel","tb-js-function"],["formControlName","script","resultType","object",3,"functionName","functionArgs","validationArgs","fillHeight"],["bottomRightPanel",""],["fxFlex","","formControlName","output","validateContent","false","readonly","true",3,"label","contentType","fillHeight"],["mat-dialog-actions","","fxLayout","row"],["mat-button","","mat-raised-button","","color","primary","type","button",3,"disabled","click"],["mat-button","","color","primary","type","button","cdkFocusInitial","",3,"disabled","click"],["mat-button","","mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"form",0),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.save()})),r["\u0275\u0275elementStart"](1,"mat-toolbar",1),r["\u0275\u0275elementStart"](2,"h2"),r["\u0275\u0275text"](3),r["\u0275\u0275pipe"](4,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"span",2),r["\u0275\u0275elementStart"](6,"button",3),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275elementStart"](7,"mat-icon",4),r["\u0275\u0275text"](8,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"div",5),r["\u0275\u0275elementStart"](10,"div",6),r["\u0275\u0275elementStart"](11,"div",7,8),r["\u0275\u0275elementStart"](13,"div",9,10),r["\u0275\u0275elementStart"](15,"div",11),r["\u0275\u0275elementStart"](16,"div",12),r["\u0275\u0275elementStart"](17,"label",13),r["\u0275\u0275text"](18,"rulenode.message"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"div",14),r["\u0275\u0275elementStart"](20,"div",15),r["\u0275\u0275element"](21,"tb-message-type-autocomplete",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](22,"tb-json-content",17,18),r["\u0275\u0275pipe"](24,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](25,"div",9,19),r["\u0275\u0275elementStart"](27,"div",20),r["\u0275\u0275elementStart"](28,"div",12),r["\u0275\u0275elementStart"](29,"label",13),r["\u0275\u0275text"](30,"rulenode.metadata"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](31,"tb-key-val-map",21),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](32,"div",7,22),r["\u0275\u0275elementStart"](34,"div",9,23),r["\u0275\u0275elementStart"](36,"div",11),r["\u0275\u0275elementStart"](37,"div",24),r["\u0275\u0275elementStart"](38,"label"),r["\u0275\u0275text"](39),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](40,"tb-js-func",25),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](41,"div",9,26),r["\u0275\u0275elementStart"](43,"div",11),r["\u0275\u0275elementStart"](44,"div",12),r["\u0275\u0275elementStart"](45,"label",13),r["\u0275\u0275text"](46,"rulenode.output"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](47,"tb-json-content",27),r["\u0275\u0275pipe"](48,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](49,"div",28),r["\u0275\u0275elementStart"](50,"button",29),r["\u0275\u0275listener"]("click",(function(){return t.test()})),r["\u0275\u0275pipe"](51,"async"),r["\u0275\u0275text"](52),r["\u0275\u0275pipe"](53,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](54,"span",2),r["\u0275\u0275elementStart"](55,"button",30),r["\u0275\u0275listener"]("click",(function(){return t.cancel()})),r["\u0275\u0275pipe"](56,"async"),r["\u0275\u0275text"](57),r["\u0275\u0275pipe"](58,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](59,"button",31),r["\u0275\u0275pipe"](60,"async"),r["\u0275\u0275text"](61),r["\u0275\u0275pipe"](62,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.nodeScriptTestFormGroup),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](4,19,"rulenode.test-script-function")),r["\u0275\u0275advance"](19),r["\u0275\u0275propertyInterpolate"]("label",r["\u0275\u0275pipeBind1"](24,21,"rulenode.message")),r["\u0275\u0275property"]("contentType",t.contentTypes.JSON)("fillHeight",!0),r["\u0275\u0275advance"](17),r["\u0275\u0275textInterpolate"](t.functionTitle),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("functionName",t.data.functionName),r["\u0275\u0275property"]("functionArgs",t.data.argNames)("validationArgs",r["\u0275\u0275pureFunction3"](37,M,t.data.msg,t.data.metadata,t.data.msgType))("fillHeight",!0),r["\u0275\u0275advance"](7),r["\u0275\u0275propertyInterpolate"]("label",r["\u0275\u0275pipeBind1"](48,23,"rulenode.output")),r["\u0275\u0275property"]("contentType",t.contentTypes.JSON)("fillHeight",!0),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](51,25,t.isLoading$)||t.nodeScriptTestFormGroup.invalid),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](53,27,"rulenode.test")," "),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](56,29,t.isLoading$)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](58,31,"action.cancel")," "),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",r["\u0275\u0275pipeBind1"](60,33,t.isLoading$)||t.nodeScriptTestFormGroup.get("script").invalid||!t.nodeScriptTestFormGroup.get("script").dirty),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](62,35,"action.save")," "))},styles:[".tb-node-script-test-dialog{width:100%;height:100%}.tb-node-script-test-dialog .tb-split{box-sizing:border-box;overflow-x:hidden;overflow-y:auto}.tb-node-script-test-dialog .ace_editor{font-size:14px!important}.tb-node-script-test-dialog .tb-content{padding-top:5px;padding-left:5px;border:1px solid silver}.tb-node-script-test-dialog .gutter{background-color:#eee;background-repeat:no-repeat;background-position:50%}.tb-node-script-test-dialog .gutter.gutter-horizontal{cursor:col-resize;background-image:url(vertical.5e6d1df402c3bc10ecc6.png)}.tb-node-script-test-dialog .gutter.gutter-vertical{cursor:row-resize;background-image:url(horizontal.98604ef1a5065a065f35.png)}.tb-node-script-test-dialog .gutter.gutter-horizontal,.tb-node-script-test-dialog .tb-split.tb-split-horizontal{float:left;height:100%}.tb-node-script-test-dialog .tb-split.tb-split-vertical{display:-ms-flexbox;display:flex}.tb-node-script-test-dialog .tb-split.tb-split-vertical .tb-split.tb-content{height:100%}.tb-node-script-test-dialog div.tb-editor-area-title-panel{position:absolute;top:13px;right:40px;z-index:5;font-size:.8rem;font-weight:500}.tb-node-script-test-dialog div.tb-editor-area-title-panel.tb-js-function{right:80px}.tb-node-script-test-dialog div.tb-editor-area-title-panel label{padding:4px;color:#00acc1;background:hsla(0,0%,86.3%,.35);border-radius:5px}.tb-node-script-test-dialog div.tb-editor-area-title-panel .mat-button{min-width:32px;min-height:15px;padding:4px;margin:0;font-size:.8rem;line-height:15px;color:#7b7b7b;background:hsla(0,0%,86.3%,.35)}.tb-node-script-test-dialog .tb-resize-container{position:relative;width:100%;height:100%;overflow-y:auto}.tb-node-script-test-dialog .tb-resize-container .ace_editor{height:100%}"],encapsulation:2}),t}(u.a);!function(){r["\u0275setClassMetadata"](O,[{type:r.Component,args:[{selector:"tb-node-script-test-dialog",templateUrl:"./node-script-test-dialog.component.html",providers:[{provide:a.ErrorStateMatcher,useExisting:O}],styleUrls:["./node-script-test-dialog.component.scss"],encapsulation:r.ViewEncapsulation.None}]}],(function(){return[{type:y.Store},{type:g.Router},{type:void 0,decorators:[{type:r.Inject,args:[o.MAT_DIALOG_DATA]}]},{type:a.ErrorStateMatcher,decorators:[{type:r.SkipSelf}]},{type:o.MatDialogRef},{type:s.FormBuilder},{type:d.a}]}),{width:[{type:r.HostBinding,args:["style.width"]}],height:[{type:r.HostBinding,args:["style.height"]}],topPanelElmRef:[{type:r.ViewChildren,args:["topPanel"]}],topLeftPanelElmRef:[{type:r.ViewChildren,args:["topLeftPanel"]}],topRightPanelElmRef:[{type:r.ViewChildren,args:["topRightPanel"]}],bottomPanelElmRef:[{type:r.ViewChildren,args:["bottomPanel"]}],bottomLeftPanelElmRef:[{type:r.ViewChildren,args:["bottomLeftPanel"]}],bottomRightPanelElmRef:[{type:r.ViewChildren,args:["bottomRightPanel"]}],payloadContent:[{type:r.ViewChild,args:["payloadContent",{static:!0}]}]})}()},nhHW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("wtyh"),a=function(){function e(e,t){this.window=e,this.ngZone=t;var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;this.rafSupported=!!n,this.rafSupported?this.rafFunction=function(e){var t=n(e);return function(){i(t)}}:this.rafFunction=function(e){var t=setTimeout(e,16.66);return function(){clearTimeout(t)}}}return e.prototype.raf=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.rafFunction(e):this.ngZone.runOutsideAngular((function(){return n.rafFunction(e)}))},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.b),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:Window,decorators:[{type:i.Inject,args:[r.b]}]},{type:i.NgZone}]}),null)}()},nii4:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i=n("mrSG"),r=n("fXoL"),a=n("RxGS"),o=n("3Pt+"),s=n("8LU1"),l=n("S+vS"),c=n("l7P3"),u=n("sYmb"),p=n("kmnG"),d=n("ofXK"),m=n("znSr"),f=n("qFsG"),h=n("NFeN"),y=n("bTqV");function g(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.icon)}}function b(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](n.label)}}function v(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",6),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().clear()})),r["\u0275\u0275elementStart"](1,"mat-icon",7),r["\u0275\u0275text"](2,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}}function C(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.requiredText," ")}}var E=function(e){return{background:e}},T=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.store=t,a.dialogs=n,a.translate=i,a.fb=r,a.propagateChange=null,a}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"colorClearButton",{get:function(){return this.colorClearButtonValue},set:function(e){var t=Object(s.coerceBooleanProperty)(e);this.colorClearButtonValue!==t&&(this.colorClearButtonValue=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openOnInput",{get:function(){return this.openOnInputValue},set:function(e){var t=Object(s.coerceBooleanProperty)(e);this.openOnInputValue!==t&&(this.openOnInputValue=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.requiredValue},set:function(e){var t=Object(s.coerceBooleanProperty)(e);this.requiredValue!==t&&(this.requiredValue=t,this.updateValidators())},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.colorFormGroup=this.fb.group({color:[null,this.required?[o.Validators.required]:[]]}),this.colorFormGroup.valueChanges.subscribe((function(){e.updateModel()}))},t.prototype.updateValidators=function(){this.colorFormGroup&&(this.colorFormGroup.get("color").setValidators(this.required?[o.Validators.required]:[]),this.colorFormGroup.get("color").updateValueAndValidity())},t.prototype.registerOnChange=function(e){this.propagateChange=e},t.prototype.registerOnTouched=function(e){},t.prototype.setDisabledState=function(e){this.disabled=e,e?this.colorFormGroup.disable({emitEvent:!1}):this.colorFormGroup.enable({emitEvent:!1})},t.prototype.writeValue=function(e){this.modelValue=e,this.colorFormGroup.patchValue({color:this.modelValue},{emitEvent:!1})},t.prototype.updateModel=function(){var e=this.colorFormGroup.get("color").value;this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},t.prototype.showColorPicker=function(){var e=this;this.dialogs.colorPicker(this.colorFormGroup.get("color").value).subscribe((function(t){t&&e.colorFormGroup.patchValue({color:t},{emitEvent:!0})}))},t.prototype.clear=function(){this.colorFormGroup.get("color").patchValue(null,{emitEvent:!0})},t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](c.Store),r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](u.TranslateService),r["\u0275\u0275directiveInject"](o.FormBuilder))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-color-input"]],inputs:{icon:"icon",label:"label",requiredText:"requiredText",colorClearButton:"colorClearButton",openOnInput:"openOnInput",required:"required",disabled:"disabled"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return t})),multi:!0}]),r["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:9,consts:[[3,"formGroup"],[4,"ngIf"],["matPrefix","",1,"tb-color-preview",2,"margin-right","5px",3,"click"],[1,"tb-color-result",3,"ngStyle"],["matInput","","formControlName","color",3,"required","mousedown"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"mat-label"),r["\u0275\u0275template"](2,g,2,1,"mat-icon",1),r["\u0275\u0275template"](3,b,2,1,"span",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",2),r["\u0275\u0275listener"]("click",(function(){return t.showColorPicker()})),r["\u0275\u0275element"](5,"div",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"input",4),r["\u0275\u0275listener"]("mousedown",(function(){return t.openOnInput&&t.showColorPicker()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](7,v,3,0,"button",5),r["\u0275\u0275template"](8,C,2,1,"mat-error",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.colorFormGroup),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.icon),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.label),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngStyle",r["\u0275\u0275pureFunction1"](7,E,t.colorFormGroup.get("color").value)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("required",t.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.colorClearButton),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.colorFormGroup.get("color").hasError("required")))},directives:[p.MatFormField,o.NgControlStatusGroup,o.FormGroupDirective,p.MatLabel,d.NgIf,p.MatPrefix,d.NgStyle,m.e,f.MatInput,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,o.RequiredValidator,h.MatIcon,y.MatButton,p.MatSuffix,p.MatError],styles:["[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-form-field-infix{width:150px}"]}),t}(a.a);!function(){r["\u0275setClassMetadata"](T,[{type:r.Component,args:[{selector:"tb-color-input",templateUrl:"./color-input.component.html",styleUrls:["./color-input.component.scss"],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return T})),multi:!0}]}]}],(function(){return[{type:c.Store},{type:l.a},{type:u.TranslateService},{type:o.FormBuilder}]}),{icon:[{type:r.Input}],label:[{type:r.Input}],requiredText:[{type:r.Input}],colorClearButton:[{type:r.Input}],openOnInput:[{type:r.Input}],required:[{type:r.Input}],disabled:[{type:r.Input}]})}()},oKkZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="13814000-1dd2-11b2-8080-808080808080"},oXES:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("0IaG"),a=n("XiUz"),o=n("bTqV"),s=function(){function e(e,t){this.dialogRef=e,this.data=t}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.MatDialogRef),i["\u0275\u0275directiveInject"](r.MAT_DIALOG_DATA))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-confirm-dialog"]],decls:8,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content","",3,"innerHTML"],["mat-dialog-actions","","fxLayoutAlign","end center"],["mat-button","","color","primary",3,"mat-dialog-close"],["mat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h2",0),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](2,"div",1),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",4),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",t.data.message,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("mat-dialog-close",!1),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.cancel),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("mat-dialog-close",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.data.ok))},directives:[r.MatDialogTitle,r.MatDialogContent,r.MatDialogActions,a.e,o.MatButton,r.MatDialogClose],styles:["[_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px 24px}"]}),e}();!function(){i["\u0275setClassMetadata"](s,[{type:i.Component,args:[{selector:"tb-confirm-dialog",templateUrl:"./confirm-dialog.component.html",styleUrls:["./confirm-dialog.component.scss"]}]}],(function(){return[{type:r.MatDialogRef},{type:void 0,decorators:[{type:i.Inject,args:[r.MAT_DIALOG_DATA]}]}]}),null)}()},pKmL:function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return H}));var i=n("fXoL"),r=n("ofXK"),a=n("tk/3"),o=n("l7P3"),s=n("9jGm"),l=n("agSv"),c=n("Vurf"),u=n("he9t"),p=n("C60G"),d=n("vkgz"),m=n("JIr8"),f=n("3E0/"),h=n("5+tZ"),y=n("eIep"),g=n("z6cu"),b=n("LRne"),v=n("iQEk"),C=n("m8m0"),E=n("xKAQ"),T=n("S+vS"),S=n("sYmb"),w={},M=function(){function e(e,t,n,i){this.store=e,this.dialogService=t,this.translate=n,this.authService=i,this.AUTH_SCHEME="Bearer ",this.AUTH_HEADER_NAME="X-Authorization",this.internalUrlPrefixes=["/api/auth/token","/api/plugins/rpc"],this.activeRequests=0}return e.prototype.intercept=function(e,t){if(e.url.startsWith("/api/")){var n=this.getInterceptorConfig(e),i=!this.isInternalUrlPrefix(e.url);return this.updateLoadingState(n,i),this.isTokenBasedAuthEntryPoint(e.url)?c.a.getJwtToken()||this.authService.refreshTokenPending()?c.a.isJwtTokenValid()?this.jwtIntercept(e,t):this.handleResponseError(e,t,new a.d({error:{refreshTokenPending:!0}})):this.handleResponseError(e,t,new a.d({error:{message:"Unauthorized!"},status:401})):this.handleRequest(e,t)}return t.handle(e)},e.prototype.jwtIntercept=function(e,t){var n=this.updateAuthorizationHeader(e);return n?this.handleRequest(n,t):this.handleRequestError(e,new Error("Could not get JWT token from store."))},e.prototype.handleRequest=function(e,t){var n=this;return t.handle(e).pipe(Object(d.a)((function(t){t instanceof a.g&&n.handleResponse(e,t)})),Object(m.a)((function(i){var r=i;return n.handleResponseError(e,t,r)})))},e.prototype.handleRequestError=function(e,t){var n=this.getInterceptorConfig(e);return e.url.startsWith("/api/")&&this.updateLoadingState(n,!1),Object(g.a)(t)},e.prototype.handleResponse=function(e,t){var n=this.getInterceptorConfig(e);e.url.startsWith("/api/")&&this.updateLoadingState(n,!1)},e.prototype.handleResponseError=function(e,t,n){var i=this.getInterceptorConfig(e);e.url.startsWith("/api/")&&this.updateLoadingState(i,!1);var r=!1,a=i.ignoreErrors,o=i.resendRequest,s=n.error?n.error.errorCode:null;if(n.error&&n.error.refreshTokenPending||401===n.status){if(n.error&&n.error.refreshTokenPending||s&&s===u.a.serverErrorCode.jwtTokenExpired)return this.refreshTokenAndRetry(e,t);s!==u.a.serverErrorCode.credentialsExpired&&(r=!0)}else if(429===n.status){if(o)return this.retryRequest(e,t)}else 403===n.status?a||this.dialogService.forbidden():0===n.status||-1===n.status?this.showError("Unable to connect"):e.url.startsWith("/api/plugins/rpc")||(404===n.status?a||this.showError(e.method+": "+e.url+"<br/>"+n.status+": "+n.statusText):r=!0);if(r&&!a){var l=null;if("text"===e.responseType)try{l=n.error?JSON.parse(n.error):null}catch(c){}else l=n.error;l&&!l.message?this.showError(this.prepareMessageFromData(l)):l&&l.message?this.showError(l.message,l.timeout?l.timeout:0):this.showError("Unhandled error code "+(l?l.status:"'Unknown'"))}return Object(g.a)(n)},e.prototype.prepareMessageFromData=function(e){if("object"!=typeof e||e.constructor!==ArrayBuffer)return e;var t=String.fromCharCode.apply(null,new Uint8Array(e));try{var n=JSON.parse(t);return n.message?n.message:t}catch(i){return t}},e.prototype.retryRequest=function(e,t){var n=this,i=1e3+3e3*Math.random();return Object(b.a)(null).pipe(Object(f.a)(i),Object(h.b)((function(){return n.jwtIntercept(e,t)})))},e.prototype.refreshTokenAndRetry=function(e,t){var n=this;return this.authService.refreshJwtToken().pipe(Object(y.a)((function(){return n.jwtIntercept(e,t)})),Object(m.a)((function(i){n.authService.logout(!0);var r=i?i.message:"Unauthorized!";return n.handleResponseError(e,t,new a.d({error:{message:r,timeout:200},status:401}))})))},e.prototype.updateAuthorizationHeader=function(e){var t=c.a.getJwtToken();return t?e=e.clone({setHeaders:(w={},w[this.AUTH_HEADER_NAME]=""+this.AUTH_SCHEME+t,w)}):null},e.prototype.isInternalUrlPrefix=function(e){for(var t in this.internalUrlPrefixes)if(e.startsWith(this.internalUrlPrefixes[t]))return!0;return!1},e.prototype.isTokenBasedAuthEntryPoint=function(e){return e.startsWith("/api/")&&!e.startsWith(u.a.entryPoints.login)&&!e.startsWith(u.a.entryPoints.tokenRefresh)&&!e.startsWith(u.a.entryPoints.nonTokenBased)},e.prototype.updateLoadingState=function(e,t){e.ignoreLoading||(t?this.activeRequests++:this.activeRequests--,1===this.activeRequests&&t?this.store.dispatch(new C.b):0===this.activeRequests&&this.store.dispatch(new C.a))},e.prototype.getInterceptorConfig=function(e){return e.params&&e.params instanceof p.a?e.params.interceptorConfig:new v.a(!1,!1)},e.prototype.showError=function(e,t){var n=this;void 0===t&&(t=0),setTimeout((function(){n.store.dispatch(new E.b({message:e,type:"error"}))}),t)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.Store),i["\u0275\u0275inject"](T.a),i["\u0275\u0275inject"](S.TranslateService),i["\u0275\u0275inject"](c.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();!function(){i["\u0275setClassMetadata"](M,[{type:i.Injectable}],(function(){return[{type:o.Store,decorators:[{type:i.Inject,args:[o.Store]}]},{type:T.a,decorators:[{type:i.Inject,args:[T.a]}]},{type:S.TranslateService,decorators:[{type:i.Inject,args:[S.TranslateService]}]},{type:c.a,decorators:[{type:i.Inject,args:[c.a]}]}]}),null)}();var O=n("Vz2p"),I=n("AytR"),x=n("mqiu"),j=function(){function e(){}return e.prototype.handle=function(e){e.key&&!e.key.startsWith(u.h)&&console.warn("Translation for "+e.key+" doesn't exist")},e}(),A=n("bTqV"),R=n("0IaG"),N=n("dNgK"),k=n("YUcS"),P=n("mrSG"),_=n("djKD"),V=n("5V+5"),F=n.n(V),L=function(e){function t(t){return e.call(this,t)||this}return Object(P.d)(t,e),t.prototype.compile=function(e,t){return this.defaultCompile(e,t)},t.prototype.compileTranslations=function(e,t){return this.defaultCompile(e,t)},t.prototype.defaultCompile=function(t,n){if("object"!=typeof t)return this.checkIsPlural(t)?e.prototype.compile.call(this,t,n):t;for(var i={},r=0,a=Object.keys(t);r<a.length;r++){var o=a[r];i[o]=this.defaultCompile(t[o],n)}return i},t.prototype.checkIsPlural=function(e){var t;try{t=F.a.parse(e.replace(/\{\{/g,"{").replace(/\}\}/g,"}"),{cardinal:[],ordinal:[]})}catch(n){return console.warn("Failed to parse source: "+e),console.error(n),!1}return t.filter((function(e){return"string"!=typeof e&&"plural"===e.type})).length>0},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](_.a,8))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(_.b);!function(){i["\u0275setClassMetadata"](L,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[_.a]}]}]}),null)}();var D=n("wtyh"),U=n("yl57"),B=n("//Q6"),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,t}return Object(P.d)(t,e),t.prototype.interpolate=function(e,t){var n;return"string"==typeof e?n=this.interpolateString(e,t):"function"==typeof e?"string"==typeof(n=this.interpolateFunction(e,t))&&(n=this.interpolateString(n,t)):n=e,n},t.prototype.getValue=function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!Object(B.o)(e)||!Object(B.o)(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e},t.prototype.interpolateFunction=function(e,t){return e(t)},t.prototype.interpolateString=function(e,t){var n=this;return t?e.replace(this.templateMatcher,(function(e,i){var r=n.getValue(t,i);return Object(B.o)(r)?r:e})):e},t.\u0275fac=function(e){return q(e||t)},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(S.TranslateParser),q=i["\u0275\u0275getInheritedFactory"](G);function z(e){return new x.a(e,"./assets/locale/locale.constant-",".json")}!function(){i["\u0275setClassMetadata"](G,[{type:i.Injectable,args:[{providedIn:"root"}]}],null,null)}();var H=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:a.a,useClass:M,multi:!0},D.c],imports:[[r.CommonModule,a.c,k.FlexLayoutModule.withConfig({addFlexToParent:!1}),R.MatDialogModule,A.MatButtonModule,N.MatSnackBarModule,S.TranslateModule.forRoot({loader:{provide:S.TranslateLoader,useFactory:z,deps:[a.b]},missingTranslationHandler:{provide:S.MissingTranslationHandler,useClass:j},compiler:{provide:S.TranslateCompiler,useClass:L},parser:{provide:S.TranslateParser,useClass:G}}),U.b.forRoot(),o.StoreModule.forRoot(O.c,{metaReducers:O.b,runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0,strictStateSerializability:!0,strictActionSerializability:!0}}),s.c.forRoot(O.a),I.a.production?[]:l.a.instrument({name:I.a.appTitle})]]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](H,{imports:[r.CommonModule,a.c,k.FlexLayoutModule,R.MatDialogModule,A.MatButtonModule,N.MatSnackBarModule,S.TranslateModule,U.b,o.StoreRootModule,s.d]}))},pd1A:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i=n("fXoL"),r=n("3Pt+"),a=n("LRne"),o=n("vkgz"),s=n("lJxs"),l=n("5+tZ"),c=n("w1tV"),u=n("8LU1"),p=n("/1cH"),d=n("aX2P"),m=n("//Q6"),f=n("l7P3"),h=n("sYmb"),y=n("kmnG"),g=n("XiUz"),b=n("qFsG"),v=n("ofXK"),C=n("bTqV"),E=n("NFeN"),T=n("FKr1"),S=n("d5eY"),w=["timezoneInput"];function M(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",10),i["\u0275\u0275listener"]("mousedown",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().ignoreClosePanel=!0}))("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().clear()})),i["\u0275\u0275elementStart"](1,"mat-icon",11),i["\u0275\u0275text"](2,"close"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}function O(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",12),i["\u0275\u0275element"](1,"span",13),i["\u0275\u0275pipe"](2,"highlight"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",i["\u0275\u0275pipeBind2"](2,2,r.displayTimezoneFn(n),r.searchText),i["\u0275\u0275sanitizeHtml"])}}var I=function(e){return{timezone:e}};function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",12),i["\u0275\u0275elementStart"](1,"span"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",null),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,n.translate.get("timezone.no-timezones-matching",i["\u0275\u0275pureFunction1"](4,I,n.searchText)))," ")}}function j(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"timezone.timezone-required")," "))}var A=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.ngZone=n,this.fb=i,this.defaultTimezoneId=null,this.searchText="",this.ignoreClosePanel=!1,this.dirty=!1,this.propagateChange=function(e){},this.selectTimezoneFormGroup=this.fb.group({timezone:[null]})}return Object.defineProperty(e.prototype,"defaultTimezone",{set:function(e){this.defaultTimezoneId!==e&&(this.defaultTimezoneId=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(u.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userTimezoneByDefault",{get:function(){return this.userTimezoneByDefaultValue},set:function(e){this.userTimezoneByDefaultValue=Object(u.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localBrowserTimezonePlaceholderOnEmpty",{get:function(){return this.localBrowserTimezonePlaceholderOnEmptyValue},set:function(e){this.localBrowserTimezonePlaceholderOnEmptyValue=Object(u.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredTimezones=this.selectTimezoneFormGroup.get("timezone").valueChanges.pipe(Object(o.a)((function(t){var n;n="string"!=typeof t&&t?t.id:null,e.updateView(n),null===t&&e.clear()})),Object(s.a)((function(e){return e?"string"==typeof e?e:e.name:""})),Object(l.b)((function(t){return e.fetchTimezones(t)})),Object(c.a)())},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.selectTimezoneFormGroup.disable({emitEvent:!1}):this.selectTimezoneFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){var t=this;this.searchText="";var n=Object(d.F)(e,this.defaultTimezoneId,this.userTimezoneByDefaultValue);null!==n?(this.selectTimezoneFormGroup.get("timezone").patchValue(n,{emitEvent:!1}),n.id!==e?setTimeout((function(){t.updateView(n.id)}),0):this.modelValue=e):(this.modelValue=null,this.localBrowserTimezonePlaceholderOnEmptyValue?this.selectTimezoneFormGroup.get("timezone").patchValue(this.getLocalBrowserTimezoneInfoPlaceholder(),{emitEvent:!1}):this.selectTimezoneFormGroup.get("timezone").patchValue("",{emitEvent:!1})),this.dirty=!0},e.prototype.onFocus=function(){this.dirty&&(this.selectTimezoneFormGroup.get("timezone").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.onPanelClosed=function(){var e=this;if(this.ignoreClosePanel)this.ignoreClosePanel=!1;else if(!this.modelValue)if(this.defaultTimezoneId||this.userTimezoneByDefaultValue){var t=Object(d.F)(this.defaultTimezoneId,this.defaultTimezoneId,this.userTimezoneByDefaultValue);null!==t&&this.ngZone.run((function(){e.selectTimezoneFormGroup.get("timezone").reset(t,{emitEvent:!0})}))}else this.localBrowserTimezonePlaceholderOnEmptyValue&&this.ngZone.run((function(){e.selectTimezoneFormGroup.get("timezone").reset(e.getLocalBrowserTimezoneInfoPlaceholder(),{emitEvent:!0})}))},e.prototype.updateView=function(e){this.modelValue!==e&&(this.modelValue=e,this.propagateChange(this.modelValue))},e.prototype.displayTimezoneFn=function(e){return e?e.name+" ("+e.offset+")":void 0},e.prototype.fetchTimezones=function(e){return this.searchText=e,e&&e.length?Object(a.a)(this.loadTimezones().filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))):Object(a.a)(this.loadTimezones())},e.prototype.clear=function(){var e=this;this.selectTimezoneFormGroup.get("timezone").patchValue("",{emitEvent:!0}),setTimeout((function(){e.timezoneInputTrigger.openPanel()}),0)},e.prototype.loadTimezones=function(){var e;return this.timezones||(this.timezones=[],this.localBrowserTimezonePlaceholderOnEmptyValue&&this.timezones.push(this.getLocalBrowserTimezoneInfoPlaceholder()),(e=this.timezones).push.apply(e,Object(d.G)())),this.timezones},e.prototype.getLocalBrowserTimezoneInfoPlaceholder=function(){return this.localBrowserTimezoneInfoPlaceholder||(this.localBrowserTimezoneInfoPlaceholder=Object(m.e)(Object(d.C)()),this.localBrowserTimezoneInfoPlaceholder.id=null,this.localBrowserTimezoneInfoPlaceholder.name=this.translate.instant("timezone.browser-time")),this.localBrowserTimezoneInfoPlaceholder},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](f.Store),i["\u0275\u0275directiveInject"](h.TranslateService),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](r.FormBuilder))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-timezone-select"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](w,!0,p.MatAutocompleteTrigger),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.timezoneInputTrigger=n.first))},inputs:{defaultTimezone:"defaultTimezone",required:"required",userTimezoneByDefault:"userTimezoneByDefault",localBrowserTimezonePlaceholderOnEmpty:"localBrowserTimezonePlaceholderOnEmpty",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:14,vars:15,consts:[["fxFlex","",1,"mat-block",3,"formGroup"],["translate",""],["matInput","","type","text","formControlName","timezone",3,"placeholder","required","matAutocomplete","focusin"],["timezoneInput",""],["type","button","style","margin-right: 1px","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",3,"mousedown","click",4,"ngIf"],[1,"tb-autocomplete",3,"displayWith","closed","optionSelected"],["timezoneAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[4,"ngIf"],["type","button","matSuffix","","mat-button","","mat-icon-button","","aria-label","Clear",2,"margin-right","1px",3,"mousedown","click"],[1,"material-icons"],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-form-field",0),i["\u0275\u0275elementStart"](1,"mat-label",1),i["\u0275\u0275text"](2,"timezone.timezone"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"input",2,3),i["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,M,3,0,"button",4),i["\u0275\u0275elementStart"](7,"mat-autocomplete",5,6),i["\u0275\u0275listener"]("closed",(function(){return t.onPanelClosed()}))("optionSelected",(function(){return t.ignoreClosePanel=!0})),i["\u0275\u0275template"](9,O,3,5,"mat-option",7),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275template"](11,x,4,6,"mat-option",8),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,j,3,3,"mat-error",9),i["\u0275\u0275elementEnd"]()),2&e){var n,r=i["\u0275\u0275reference"](8);i["\u0275\u0275property"]("formGroup",t.selectTimezoneFormGroup),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](5,9,"timezone.select-timezone")),i["\u0275\u0275property"]("required",t.required)("matAutocomplete",r),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.selectTimezoneFormGroup.get("timezone").value&&!t.disabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayWith",t.displayTimezoneFn),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](10,11,t.filteredTimezones)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!(null!=(n=i["\u0275\u0275pipeBind1"](12,13,t.filteredTimezones))&&n.length)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectTimezoneFormGroup.get("timezone").hasError("required"))}},directives:[y.MatFormField,g.b,r.NgControlStatusGroup,r.FormGroupDirective,y.MatLabel,h.TranslateDirective,b.MatInput,r.DefaultValueAccessor,p.MatAutocompleteTrigger,r.NgControlStatus,r.FormControlName,r.RequiredValidator,v.NgIf,p.MatAutocomplete,v.NgForOf,C.MatButton,y.MatSuffix,E.MatIcon,T.MatOption,y.MatError],pipes:[h.TranslatePipe,v.AsyncPipe,S.a],encapsulation:2}),e}();!function(){i["\u0275setClassMetadata"](A,[{type:i.Component,args:[{selector:"tb-timezone-select",templateUrl:"./timezone-select.component.html",styleUrls:[],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return A})),multi:!0}]}]}],(function(){return[{type:f.Store},{type:h.TranslateService},{type:i.NgZone},{type:r.FormBuilder}]}),{defaultTimezone:[{type:i.Input}],required:[{type:i.Input}],userTimezoneByDefault:[{type:i.Input}],localBrowserTimezonePlaceholderOnEmpty:[{type:i.Input}],disabled:[{type:i.Input}],timezoneInputTrigger:[{type:i.ViewChild,args:["timezoneInput",{static:!0,read:p.MatAutocompleteTrigger}]}]})}()},rezs:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return C}));var i=n("fXoL"),r=n("dNgK"),a=n("Y4+Y"),o=n("he9t"),s=n("R0Ic"),l=n("//Q6"),c=n("0MNC"),u=n("XiUz"),p=n("ofXK"),d=n("znSr"),m=n("bTqV"),f=n("sYmb"),h=["actionButton"],y=function(e,t){return{value:e,params:t}},g=function(e,t,n,i){return{"error-toast":e,"warn-toast":t,"success-toast":n,"info-toast":i}},b=function(){function e(e,t,n,i,r,a,o,s){this.elementRef=e,this.viewContainerRef=t,this.notificationService=n,this.componentFactoryResolver=i,this.snackBar=r,this.ngZone=a,this.breakpointObserver=o,this.cd=s,this.toastTarget="root",this.notificationSubscription=null,this.hideNotificationSubscription=null,this.snackBarRef=null,this.currentMessage=null,this.dismissTimeout=null}return e.prototype.ngAfterViewInit=function(){var e=this;this.notificationSubscription=this.notificationService.getNotification().subscribe((function(t){if(e.shouldDisplayMessage(t)){e.currentMessage=t;var n=e.breakpointObserver.isMatched(o.e["gt-sm"]);n&&"root"!==e.toastTarget?e.showToastPanel(t):e.showSnackBar(t,n)}})),this.hideNotificationSubscription=this.notificationService.getHideNotification().subscribe((function(t){if(t){var n=t.target||"root";e.toastTarget===n&&e.ngZone.run((function(){e.snackBarRef&&e.snackBarRef.dismiss(),e.toastComponentRef&&e.toastComponentRef.instance.actionButton._elementRef.nativeElement.click()}))}}))},e.prototype.showToastPanel=function(e){var t=this;this.ngZone.run((function(){t.snackBarRef&&t.snackBarRef.dismiss(),t.toastComponentRef&&(t.viewContainerRef.detach(0),t.toastComponentRef.destroy());var n=["tb-toast-panel","toast-panel"];e.panelClass&&("string"==typeof e.panelClass?n.push(e.panelClass):e.panelClass.length&&(n=n.concat(e.panelClass)));var a=e.horizontalPosition||"left",o=e.verticalPosition||"top";"start"===a||"left"===a?n.push("left"):"end"===a||"right"===a?n.push("right"):n.push("h-center"),"top"===o?n.push("top"):n.push("bottom");var s=t.componentFactoryResolver.resolveComponentFactory(C),l={notification:e,panelClass:n,destroyToastComponent:function(){t.viewContainerRef.detach(0),t.toastComponentRef.destroy()}},c=[{provide:r.MAT_SNACK_BAR_DATA,useValue:l}],u=i.Injector.create({parent:t.viewContainerRef.injector,providers:c});t.toastComponentRef=t.viewContainerRef.createComponent(s,0,u),t.cd.detectChanges(),e.duration&&e.duration>0&&(null!==t.dismissTimeout&&(clearTimeout(t.dismissTimeout),t.dismissTimeout=null),t.dismissTimeout=setTimeout((function(){t.toastComponentRef&&t.toastComponentRef.instance.actionButton._elementRef.nativeElement.click(),t.dismissTimeout=null}),e.duration+500)),t.toastComponentRef.onDestroy((function(){null!==t.dismissTimeout&&(clearTimeout(t.dismissTimeout),t.dismissTimeout=null),t.toastComponentRef=null,t.currentMessage=null}))}))},e.prototype.showSnackBar=function(e,t){var n=this;this.ngZone.run((function(){n.snackBarRef&&n.snackBarRef.dismiss();var i={notification:e,parent:n.elementRef,panelClass:[],destroyToastComponent:function(){}},r={horizontalPosition:e.horizontalPosition||"left",verticalPosition:t?e.verticalPosition||"top":"bottom",viewContainerRef:n.viewContainerRef,duration:e.duration,panelClass:e.panelClass,data:i};n.snackBarRef=n.snackBar.openFromComponent(C,r),e.duration&&e.duration>0&&e.forceDismiss&&(null!==n.dismissTimeout&&(clearTimeout(n.dismissTimeout),n.dismissTimeout=null),n.dismissTimeout=setTimeout((function(){n.snackBarRef&&n.snackBarRef.instance.actionButton._elementRef.nativeElement.click(),n.dismissTimeout=null}),e.duration)),n.snackBarRef.afterDismissed().subscribe((function(){null!==n.dismissTimeout&&(clearTimeout(n.dismissTimeout),n.dismissTimeout=null),n.snackBarRef=null,n.currentMessage=null}))}))},e.prototype.shouldDisplayMessage=function(e){if(e&&e.message){var t=e.target||"root";if(this.toastTarget===t&&(!this.currentMessage||this.currentMessage.message!==e.message||this.currentMessage.type!==e.type))return!0}return!1},e.prototype.ngOnDestroy=function(){this.toastComponentRef&&(this.viewContainerRef.detach(0),this.toastComponentRef.destroy()),this.notificationSubscription&&this.notificationSubscription.unsubscribe(),this.hideNotificationSubscription&&this.hideNotificationSubscription.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275directiveInject"](r.MatSnackBar),i["\u0275\u0275directiveInject"](i.NgZone),i["\u0275\u0275directiveInject"](c.BreakpointObserver),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","tb-toast",""]],inputs:{toastTarget:"toastTarget"}}),e}();!function(){i["\u0275setClassMetadata"](b,[{type:i.Directive,args:[{selector:"[tb-toast]"}]}],(function(){return[{type:i.ElementRef},{type:i.ViewContainerRef},{type:a.a},{type:i.ComponentFactoryResolver},{type:r.MatSnackBar},{type:i.NgZone},{type:c.BreakpointObserver},{type:i.ChangeDetectorRef}]}),{toastTarget:[{type:i.Input}]})}();var v={showHideToast:Object(s.trigger)("showHideAnimation",[Object(s.state)("in",Object(s.style)({transform:"scale(1)",opacity:1})),Object(s.transition)("void => opened",[Object(s.style)({transform:"scale(0)",opacity:0}),Object(s.animate)("{{ open }}ms")]),Object(s.transition)("opened => closing",Object(s.animate)("{{ close }}ms",Object(s.style)({transform:"scale(0)",opacity:0})))])},C=function(){function e(e,t,n){this.data=e,this.elementRef=t,this.snackBarRef=n,this.parentScrollSubscription=null,this.animationParams={open:100,close:100},this.animationState=this.snackBarRef?"default":"opened",this.notification=e.notification}return Object.defineProperty(e.prototype,"panelClass",{get:function(){return this.data.panelClass},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.snackBarRef&&(this.parentEl=this.data.parent.nativeElement,this.snackBarContainerEl=this.elementRef.nativeElement.parentNode,this.snackBarContainerEl.style.position="absolute",this.updateContainerRect(),this.updatePosition(this.snackBarRef.containerInstance.snackBarConfig),this.parentScrollSubscription=Object(l.G)(this.parentEl).subscribe((function(){e.updateContainerRect()})))},e.prototype.updatePosition=function(e){var t="rtl"===e.direction,n="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!t||"end"===e.horizontalPosition&&t,i=!n&&"center"!==e.horizontalPosition;this.snackBarContainerEl.style.justifyContent=n?"flex-start":i?"flex-end":"center","top"===e.verticalPosition?this.snackBarContainerEl.style.alignItems="flex-start":this.snackBarContainerEl.style.alignItems="flex-end"},e.prototype.updateContainerRect=function(){var e=this.parentEl.getBoundingClientRect();this.snackBarContainerEl.style.top=e.top+"px",this.snackBarContainerEl.style.left=e.left+"px",this.snackBarContainerEl.style.width=e.width+"px",this.snackBarContainerEl.style.height=e.height+"px"},e.prototype.ngOnDestroy=function(){this.parentScrollSubscription&&this.parentScrollSubscription.unsubscribe()},e.prototype.action=function(){this.snackBarRef?this.snackBarRef.dismissWithAction():this.animationState="closing"},e.prototype.onHideFinished=function(e){var t="closing"===e.toState,n="closing"===this.animationState;t&&n&&this.data.destroyToastComponent()},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.MAT_SNACK_BAR_DATA),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](r.MatSnackBarRef,8))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-snack-bar-component"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275staticViewQuery"](h,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.actionButton=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275classMap"](t.panelClass)},decls:6,vars:14,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"tb-toast",3,"ngClass"],[1,"toast-text",3,"innerHTML"],["type","button","mat-button","",3,"click"],["actionButton",""]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("@showHideAnimation.done",(function(e){return t.onHideFinished(e)})),i["\u0275\u0275element"](1,"div",1),i["\u0275\u0275elementStart"](2,"button",2,3),i["\u0275\u0275listener"]("click",(function(){return t.action()})),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("@showHideAnimation",i["\u0275\u0275pureFunction2"](6,y,t.animationState,t.animationParams))("ngClass",i["\u0275\u0275pureFunction4"](9,g,"error"===t.notification.type,"warn"===t.notification.type,"success"===t.notification.type,"info"===t.notification.type)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("innerHTML",t.notification.message,i["\u0275\u0275sanitizeHtml"]),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,4,"action.close")))},directives:[u.f,u.e,p.NgClass,d.b,m.MatButton],pipes:[f.TranslatePipe],styles:["[_nghost-%COMP%]{display:inline-block;pointer-events:all}.toast-panel[_nghost-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;display:-ms-flexbox;display:flex}.toast-panel.left[_nghost-%COMP%]{-ms-flex-pack:start;justify-content:flex-start}.toast-panel.right[_nghost-%COMP%]{-ms-flex-pack:end;justify-content:flex-end}.toast-panel.top[_nghost-%COMP%]{-ms-flex-align:start;align-items:flex-start}.toast-panel.bottom[_nghost-%COMP%]{-ms-flex-align:end;align-items:flex-end}.toast-panel.h-center[_nghost-%COMP%]{-ms-flex-pack:center;justify-content:center}.toast-panel.v-center[_nghost-%COMP%]{-ms-flex-align:center;align-items:center}[_nghost-%COMP%]   .tb-toast[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);color:#fff;font-size:18px;border-radius:4px;padding:0 18px;margin:8px}[_nghost-%COMP%]   .tb-toast[_ngcontent-%COMP%]   .toast-text[_ngcontent-%COMP%]{padding:0 6px;width:100%}[_nghost-%COMP%]   .tb-toast[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:6px 0 6px 12px}[_nghost-%COMP%]   .tb-toast.info-toast[_ngcontent-%COMP%]{background:#323232}[_nghost-%COMP%]   .tb-toast.warn-toast[_ngcontent-%COMP%]{background:#dc6d1b}[_nghost-%COMP%]   .tb-toast.error-toast[_ngcontent-%COMP%]{background:maroon}[_nghost-%COMP%]   .tb-toast.success-toast[_ngcontent-%COMP%]{background:green}"],data:{animation:[v.showHideToast]}}),e}();!function(){i["\u0275setClassMetadata"](C,[{type:i.Component,args:[{selector:"tb-snack-bar-component",templateUrl:"snack-bar-component.html",styleUrls:["snack-bar-component.scss"],animations:[v.showHideToast]}]}],(function(){return[{type:void 0,decorators:[{type:i.Inject,args:[r.MAT_SNACK_BAR_DATA]}]},{type:i.ElementRef},{type:r.MatSnackBarRef,decorators:[{type:i.Optional}]}]}),{actionButton:[{type:i.ViewChild,args:["actionButton",{static:!0}]}],panelClass:[{type:i.HostBinding,args:["class"]}]})}()},rhBB:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i=n("mrSG"),r=n("FtGj"),a=n("fXoL"),o=n("3Pt+"),s=n("LRne"),l=n("lJxs"),c=n("5+tZ"),u=n("w1tV"),p=n("21Fy"),d=n("8LU1"),m=(n("3Tyt"),n("//Q6")),f=n("l7P3"),h=n("sYmb"),y=n("kmnG"),g=n("A5z7"),b=n("ofXK"),v=n("qFsG"),C=n("/1cH"),E=n("NFeN"),T=n("FKr1"),S=n("d5eY"),w=["keyInput"],M=["keyAutocomplete"],O=["chipList"];function I(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-icon",10),a["\u0275\u0275text"](1,"close"),a["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"mat-chip",8),a["\u0275\u0275listener"]("removed",(function(){a["\u0275\u0275restoreView"](n);var e=t.$implicit;return a["\u0275\u0275nextContext"]().remove(e)})),a["\u0275\u0275text"](1),a["\u0275\u0275template"](2,I,2,0,"mat-icon",9),a["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("selectable",!r.disabled)("removable",!r.disabled),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",i," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!r.disabled)}}function j(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-option",11),a["\u0275\u0275element"](1,"span",12),a["\u0275\u0275pipe"](2,"highlight"),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("innerHTML",a["\u0275\u0275pipeBind2"](2,2,n,i.searchText),a["\u0275\u0275sanitizeHtml"])}}var A=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.entityService=n,this.fb=i,this.separatorKeysCodes=[r.ENTER,r.COMMA,r.SEMICOLON],this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.keysListFormGroup=this.fb.group({key:[null]})}return Object.defineProperty(e.prototype,"entityId",{set:function(e){Object(m.r)(this.entityIdValue,e)||(this.entityIdValue=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(d.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=this;this.filteredKeys=this.keysListFormGroup.get("key").valueChanges.pipe(Object(l.a)((function(e){return e||""})),Object(c.b)((function(t){return e.fetchKeys(t)})),Object(u.a)())},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,this.disabled?this.keysListFormGroup.disable({emitEvent:!1}):this.keysListFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){this.searchText="",this.modelValue=null!=e?Object(i.g)(e):[]},e.prototype.onFocus=function(){this.dirty&&(this.keysListFormGroup.get("key").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.addKey=function(e){this.modelValue&&-1!==this.modelValue.indexOf(e)||(this.modelValue||(this.modelValue=[]),this.modelValue.push(e),this.required&&(this.chipList.errorState=!1)),this.propagateChange(this.modelValue)},e.prototype.add=function(e){if(!this.matAutocomplete.isOpen){var t=e.value;(t||"").trim()&&this.addKey(t.trim()),this.clear("")}},e.prototype.remove=function(e){var t=this.modelValue.indexOf(e);t>=0&&(this.modelValue.splice(t,1),this.modelValue.length||this.required&&(this.chipList.errorState=!0),this.propagateChange(this.modelValue.length?this.modelValue:null))},e.prototype.selected=function(e){this.addKey(e.option.viewValue),this.clear("")},e.prototype.displayKeyFn=function(e){return e||void 0},e.prototype.fetchKeys=function(e){return this.searchText=e,this.entityIdValue?this.entityService.getEntityKeys(this.entityIdValue,e,this.dataKeyType,{ignoreLoading:!0}).pipe(Object(l.a)((function(e){return e||[]}))):Object(s.a)([])},e.prototype.clear=function(e){var t=this;void 0===e&&(e=""),this.keyInput.nativeElement.value=e,this.keysListFormGroup.get("key").patchValue(null,{emitEvent:!0}),setTimeout((function(){t.keyInput.nativeElement.blur(),t.keyInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.Store),a["\u0275\u0275directiveInject"](h.TranslateService),a["\u0275\u0275directiveInject"](p.a),a["\u0275\u0275directiveInject"](o.FormBuilder))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-keys-list"]],viewQuery:function(e,t){var n;(1&e&&(a["\u0275\u0275viewQuery"](w,!0),a["\u0275\u0275viewQuery"](M,!0),a["\u0275\u0275viewQuery"](O,!0)),2&e)&&(a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.keyInput=n.first),a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.matAutocomplete=n.first),a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.chipList=n.first))},inputs:{entityId:"entityId",keysText:"keysText",dataKeyType:"dataKeyType",required:"required",disabled:"disabled"},features:[a["\u0275\u0275ProvidersFeature"]([{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(a.forwardRef)((function(){return e})),multi:!0}])],decls:12,vars:13,consts:[["appearance","standard",1,"mat-block",3,"formGroup"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","key","matAutocompleteOrigin","",2,"max-width","200px",3,"placeholder","matAutocompleteConnectedTo","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","focusin","matChipInputTokenEnd"],["keyInput","","origin","matAutocompleteOrigin"],[1,"tb-autocomplete",3,"displayWith","optionSelected"],["keyAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-form-field",0),a["\u0275\u0275elementStart"](1,"mat-chip-list",null,1),a["\u0275\u0275template"](3,x,3,4,"mat-chip",2),a["\u0275\u0275elementStart"](4,"input",3,4),a["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()}))("matChipInputTokenEnd",(function(e){return t.add(e)})),a["\u0275\u0275pipe"](7,"translate"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"mat-autocomplete",5,6),a["\u0275\u0275listener"]("optionSelected",(function(e){return t.selected(e)})),a["\u0275\u0275template"](10,j,3,5,"mat-option",7),a["\u0275\u0275pipe"](11,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275reference"](2),i=a["\u0275\u0275reference"](6),r=a["\u0275\u0275reference"](9);a["\u0275\u0275property"]("formGroup",t.keysListFormGroup),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngForOf",t.modelValue),a["\u0275\u0275advance"](1),a["\u0275\u0275propertyInterpolate"]("placeholder",t.disabled?"":a["\u0275\u0275pipeBind1"](7,9,t.keysText)),a["\u0275\u0275property"]("matAutocompleteConnectedTo",i)("matAutocomplete",r)("matChipInputFor",n)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("displayWith",t.displayKeyFn),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",a["\u0275\u0275pipeBind1"](11,11,t.filteredKeys))}},directives:[y.MatFormField,o.NgControlStatusGroup,o.FormGroupDirective,g.MatChipList,b.NgForOf,v.MatInput,o.DefaultValueAccessor,C.MatAutocompleteTrigger,g.MatChipInput,o.NgControlStatus,o.FormControlName,C.MatAutocompleteOrigin,C.MatAutocomplete,g.MatChip,b.NgIf,E.MatIcon,g.MatChipRemove,T.MatOption],pipes:[h.TranslatePipe,b.AsyncPipe,S.a],styles:["[_nghost-%COMP%]     .mat-form-field-flex{padding-top:0}[_nghost-%COMP%]     .mat-form-field-flex .mat-form-field-infix{border-top:0}"]}),e}();!function(){a["\u0275setClassMetadata"](A,[{type:a.Component,args:[{selector:"tb-entity-keys-list",templateUrl:"./entity-keys-list.component.html",styleUrls:["./entity-keys-list.component.scss"],providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:Object(a.forwardRef)((function(){return A})),multi:!0}]}]}],(function(){return[{type:f.Store},{type:h.TranslateService},{type:p.a},{type:o.FormBuilder}]}),{entityId:[{type:a.Input}],keysText:[{type:a.Input}],dataKeyType:[{type:a.Input}],required:[{type:a.Input}],disabled:[{type:a.Input}],keyInput:[{type:a.ViewChild,args:["keyInput"]}],matAutocomplete:[{type:a.ViewChild,args:["keyAutocomplete"]}],chipList:[{type:a.ViewChild,args:["chipList"]}]})}()},"sIb/":function(e,t,n){"use strict";var i;n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),function(e){e.AUTHENTICATED="[Auth] Authenticated",e.UNAUTHENTICATED="[Auth] Unauthenticated",e.LOAD_USER="[Auth] Load User",e.UPDATE_USER_DETAILS="[Auth] Update User Details",e.UPDATE_LAST_PUBLIC_DASHBOARD_ID="[Auth] Update Last Public Dashboard Id"}(i||(i={}));var r=function(e){this.payload=e,this.type=i.AUTHENTICATED},a=function(){this.type=i.UNAUTHENTICATED},o=function(e){this.payload=e,this.type=i.LOAD_USER},s=function(e){this.payload=e,this.type=i.UPDATE_USER_DETAILS},l=function(e){this.payload=e,this.type=i.UPDATE_LAST_PUBLIC_DASHBOARD_ID}},sjz8:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("Xa2L"),a=function(){function t(e,t,n){this.elementRef=e,this.componentFactoryResolver=t,this.viewContainerRef=n,this.showProgressValue=!1,this.createCircularProgress()}return Object.defineProperty(t.prototype,"showProgress",{set:function(t){if(this.showProgressValue!==t){var n=this.elementRef.nativeElement;if(this.showProgressValue=t,this.spinnerRef.instance._elementRef.nativeElement.style.display=t?"block":"none",t){if(this.cssWidth=e(n).prop("style").width,!this.cssWidth){e(n).css("width","");var i=e(n).prop("offsetWidth");e(n).css("width",i+"px")}this.children=e(n).children(),e(n).empty(),e(n).append(e(this.spinnerRef.instance._elementRef.nativeElement))}else e(n).empty(),e(n).append(this.children),this.cssWidth?e(n).css("width",this.cssWidth):e(n).css("width","")}},enumerable:!1,configurable:!0}),t.prototype.createCircularProgress=function(){this.elementRef.nativeElement.style.position="relative";var e=this.componentFactoryResolver.resolveComponentFactory(r.MatSpinner);this.spinnerRef=this.viewContainerRef.createComponent(e,0),this.spinnerRef.instance.mode="indeterminate",this.spinnerRef.instance.diameter=20;var t=this.spinnerRef.instance._elementRef.nativeElement;t.style.margin="auto",t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.display="none"},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275directiveInject"](i.ViewContainerRef))},t.\u0275dir=i["\u0275\u0275defineDirective"]({type:t,selectors:[["","tb-circular-progress",""]],inputs:{showProgress:["tb-circular-progress","showProgress"]}}),t}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Directive,args:[{selector:"[tb-circular-progress]"}]}],(function(){return[{type:i.ElementRef},{type:i.ComponentFactoryResolver},{type:i.ViewContainerRef}]}),{showProgress:[{type:i.Input,args:["tb-circular-progress"]}]})}()}).call(this,n("xexB"))},"uKK+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),r=function(){function e(){}return e.prototype.transform=function(e){return e.filter((function(e){return e.selectable}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"selectableColumns",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](r,[{type:i.Pipe,args:[{name:"selectableColumns"}]}],null,null)}()},"uxh+":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var i=n("fXoL"),r=n("3Pt+"),a=n("LRne"),o=n("mbhL"),s=n("lJxs"),l=n("w1tV"),c=n("Duvn"),u=n("YnEf"),p=n("C/rb"),d=n("zp9Z"),m=n("8LU1"),f=n("rDax"),h=n("ofXK"),y=n("wtyh"),g=n("+rOU"),b=n("7qoW"),v=n("oKkZ"),C=n("l7P3"),E=n("0MNC"),T=n("d3UM"),S=n("znSr"),w=n("bTqV"),M=n("Qu3c"),O=n("NFeN"),I=n("FKr1"),x=n("sYmb"),j=["dashboardSelectPanelOrigin"];function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",5),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("value",n.id.id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",n.title," ")}}var R=function(){function e(e,t,n,i,r,a,o){this.store=e,this.dashboardService=t,this.overlay=n,this.breakpointObserver=i,this.viewContainerRef=r,this.document=a,this.window=o,this.tooltipPosition="above",this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(m.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e=new o.b(100);this.dashboards$=this.getDashboards(e).pipe(Object(s.a)((function(e){return e.data})),Object(l.a)())},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){this.dashboardId=e},e.prototype.dashboardIdChanged=function(){this.updateView()},e.prototype.openDashboardSelectPanel=function(){var e=this;if(!this.disabled){var t,n,i,r,a=this.breakpointObserver.isMatched("min-height: 350px")?250:150,o=this.overlay.position(),s=new f.OverlayConfig({panelClass:"tb-dashboard-select-panel",backdropClass:"cdk-overlay-transparent-backdrop",hasBackdrop:!0}),l=this.dashboardSelectPanelOrigin.elementRef.nativeElement.getBoundingClientRect(),c=this.window.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0,u=this.window.pageXOffset||this.document.documentElement.scrollLeft||this.document.body.scrollLeft||0,p=l.bottom-c,d=l.left-u;p+a>this.document.documentElement.clientHeight?(n="top",r="bottom"):(n="bottom",r="top"),d+300>this.document.documentElement.clientWidth?(t="end",i="end"):(t="start",i="start");var m={originX:t,originY:n,overlayX:i,overlayY:r};s.positionStrategy=o.flexibleConnectedTo(this.dashboardSelectPanelOrigin.elementRef).withPositions([m]);var h=this.overlay.create(s);h.backdropClick().subscribe((function(){h.dispose()}));var y=this._createDashboardSelectPanelInjector(h,{dashboards$:this.dashboards$,dashboardId:this.dashboardId,onDashboardSelected:function(t){h.dispose(),e.dashboardId=t,e.updateView()}});h.attach(new g.ComponentPortal(b.b,this.viewContainerRef,y))}},e.prototype._createDashboardSelectPanelInjector=function(e,t){var n=[{provide:b.a,useValue:t},{provide:f.OverlayRef,useValue:e}];return i.Injector.create({parent:this.viewContainerRef.injector,providers:n})},e.prototype.updateView=function(){this.propagateChange(this.dashboardId)},e.prototype.getDashboards=function(e){var t=Object(p.b)(this.store);return"customer"===this.dashboardsScope||t.authority===d.a.CUSTOMER_USER?this.customerId&&this.customerId!==v.a?this.dashboardService.getCustomerDashboards(this.customerId,e,{ignoreLoading:!0}):Object(a.a)(Object(c.a)()):this.dashboardService.getTenantDashboards(e,{ignoreLoading:!0})},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](C.Store),i["\u0275\u0275directiveInject"](u.a),i["\u0275\u0275directiveInject"](f.Overlay),i["\u0275\u0275directiveInject"](E.BreakpointObserver),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](h.DOCUMENT),i["\u0275\u0275directiveInject"](y.b))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-dashboard-select"]],viewQuery:function(e,t){var n;(1&e&&i["\u0275\u0275viewQuery"](j,!0),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.dashboardSelectPanelOrigin=n.first))},inputs:{dashboardsScope:"dashboardsScope",customerId:"customerId",tooltipPosition:"tooltipPosition",required:"required",disabled:"disabled"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:9,vars:10,consts:[["fxHide.lt-lg","",3,"required","disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxHide.gt-md","",1,"tb-dashboard-select"],["mat-button","","mat-icon-button","","cdkOverlayOrigin","",3,"matTooltip","matTooltipPosition","click"],["dashboardSelectPanelOrigin","cdkOverlayOrigin"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-select",0),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.dashboardId=e}))("ngModelChange",(function(){return t.dashboardIdChanged()})),i["\u0275\u0275template"](1,A,2,2,"mat-option",1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"section",2),i["\u0275\u0275elementStart"](4,"button",3,4),i["\u0275\u0275listener"]("click",(function(){return t.openDashboardSelectPanel()})),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementStart"](7,"mat-icon"),i["\u0275\u0275text"](8,"dashboards"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("required",t.required)("disabled",t.disabled)("ngModel",t.dashboardId),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](2,6,t.dashboards$)),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("matTooltip",i["\u0275\u0275pipeBind1"](6,8,"dashboard.select-dashboard")),i["\u0275\u0275property"]("matTooltipPosition",t.tooltipPosition))},directives:[T.MatSelect,S.d,r.RequiredValidator,r.NgControlStatus,r.NgModel,h.NgForOf,w.MatButton,f.CdkOverlayOrigin,M.MatTooltip,O.MatIcon,I.MatOption],pipes:[h.AsyncPipe,x.TranslatePipe],styles:["[_nghost-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content;min-width:52px}[_nghost-%COMP%]   mat-select[_ngcontent-%COMP%]{max-width:300px;pointer-events:all}[_nghost-%COMP%]   .tb-dashboard-select[_ngcontent-%COMP%]{min-height:32px}[_nghost-%COMP%]   .tb-dashboard-select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:all;cursor:pointer}[_nghost-%COMP%]     mat-select .mat-select-value{max-width:282px}"]}),e}();!function(){i["\u0275setClassMetadata"](R,[{type:i.Component,args:[{selector:"tb-dashboard-select",templateUrl:"./dashboard-select.component.html",styleUrls:["./dashboard-select.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return R})),multi:!0}]}]}],(function(){return[{type:C.Store},{type:u.a},{type:f.Overlay},{type:E.BreakpointObserver},{type:i.ViewContainerRef},{type:Document,decorators:[{type:i.Inject,args:[h.DOCUMENT]}]},{type:Window,decorators:[{type:i.Inject,args:[y.b]}]}]}),{dashboardsScope:[{type:i.Input}],customerId:[{type:i.Input}],tooltipPosition:[{type:i.Input}],required:[{type:i.Input}],disabled:[{type:i.Input}],dashboardSelectPanelOrigin:[{type:i.ViewChild,args:["dashboardSelectPanelOrigin"]}]})}()},wU4P:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("LRne"),s=n("vkgz"),l=n("pLZG"),c=n("lJxs"),u=n("5+tZ"),p=n("w1tV"),d=n("U3y+"),m=n("21Fy"),f=n("8LU1"),h=n("l7P3"),y=n("sYmb"),g=n("kmnG"),b=n("A5z7"),v=n("ofXK"),C=n("qFsG"),E=n("/1cH"),T=n("NFeN"),S=n("FKr1"),w=n("d5eY"),M=["entityTypeInput"],O=["entityTypeAutocomplete"],I=["chipList"];function x(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-icon",13),r["\u0275\u0275text"](1,"close"),r["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"mat-chip",11),r["\u0275\u0275listener"]("removed",(function(){r["\u0275\u0275restoreView"](n);var e=t.$implicit;return r["\u0275\u0275nextContext"]().remove(e)})),r["\u0275\u0275text"](1),r["\u0275\u0275template"](2,x,2,0,"mat-icon",12),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("selectable",!a.disabled)("removable",!a.disabled),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i.name," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!a.disabled)}}function A(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",14),r["\u0275\u0275element"](1,"span",15),r["\u0275\u0275pipe"](2,"highlight"),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",n),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("innerHTML",r["\u0275\u0275pipeBind2"](2,2,n.name,i.searchText),r["\u0275\u0275sanitizeHtml"])}}var R=function(e){return{entityType:e}};function N(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-option",14),r["\u0275\u0275elementStart"](1,"span"),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("value",null),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](3,2,n.translate.get("entity.no-entity-types-matching",r["\u0275\u0275pureFunction1"](4,R,n.searchText)))," ")}}function k(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"mat-error"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"entity.entity-type-list-empty")," "))}var P=function(){function e(e,t,n,i){this.store=e,this.translate=t,this.entityService=n,this.fb=i,this.allEntityTypeList=[],this.entityTypeList=[],this.searchText="",this.dirty=!1,this.propagateChange=function(e){},this.entityTypeListFormGroup=this.fb.group({entityTypeList:[this.entityTypeList,this.required?[a.Validators.required]:[]],entityType:[null]})}return Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){var t=Object(f.coerceBooleanProperty)(e);this.requiredValue!==t&&(this.requiredValue=t,this.updateValidators())},enumerable:!1,configurable:!0}),e.prototype.updateValidators=function(){this.entityTypeListFormGroup.get("entityTypeList").setValidators(this.required?[a.Validators.required]:[]),this.entityTypeListFormGroup.get("entityTypeList").updateValueAndValidity()},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.ngOnInit=function(){var e,t=this;this.placeholder=this.required?this.translate.instant("entity.enter-entity-type"):this.translate.instant("entity.any-entity"),this.secondaryPlaceholder="+"+this.translate.instant("entity.entity-type"),this.ignoreAuthorityFilter&&this.allowedEntityTypes&&this.allowedEntityTypes.length?(e=[],this.allowedEntityTypes.forEach((function(t){e.push(t)}))):e=this.entityService.prepareAllowedEntityTypesList(this.allowedEntityTypes),e.forEach((function(e){t.allEntityTypeList.push({name:t.translate.instant(d.d.get(e).type),value:e})})),this.filteredEntityTypeList=this.entityTypeListFormGroup.get("entityType").valueChanges.pipe(Object(s.a)((function(e){e&&"string"!=typeof e?t.add(e):null===e&&t.clear(t.entityTypeInput.nativeElement.value)})),Object(l.a)((function(e){return"string"==typeof e})),Object(c.a)((function(e){return e?"string"==typeof e?e:e.name:""})),Object(u.b)((function(e){return t.fetchEntityTypes(e)})),Object(p.a)())},e.prototype.ngAfterViewInit=function(){},e.prototype.setDisabledState=function(e){this.disabled=e,e?this.entityTypeListFormGroup.disable({emitEvent:!1}):this.entityTypeListFormGroup.enable({emitEvent:!1})},e.prototype.writeValue=function(e){var t=this;this.searchText="",null!=e&&e.length>0?(this.modelValue=Object(i.g)(e),this.entityTypeList=[],e.forEach((function(e){t.entityTypeList.push({name:d.d.has(e)?t.translate.instant(d.d.get(e).type):"Unknown",value:e})})),this.entityTypeListFormGroup.get("entityTypeList").setValue(this.entityTypeList)):(this.entityTypeList=[],this.entityTypeListFormGroup.get("entityTypeList").setValue(this.entityTypeList),this.modelValue=null),this.dirty=!0},e.prototype.add=function(e){this.modelValue&&-1!==this.modelValue.indexOf(e.value)||(this.modelValue||(this.modelValue=[]),this.modelValue.push(e.value),this.entityTypeList.push(e),this.entityTypeListFormGroup.get("entityTypeList").setValue(this.entityTypeList)),this.propagateChange(this.modelValue),this.clear()},e.prototype.remove=function(e){var t=this.entityTypeList.indexOf(e);t>=0&&(this.entityTypeList.splice(t,1),this.entityTypeListFormGroup.get("entityTypeList").setValue(this.entityTypeList),this.modelValue.splice(t,1),this.modelValue.length||(this.modelValue=null),this.propagateChange(this.modelValue),this.clear())},e.prototype.displayEntityTypeFn=function(e){return e?e.name:void 0},e.prototype.fetchEntityTypes=function(e){this.searchText=e;var t=this.allEntityTypeList;return e&&e.length&&(t=this.allEntityTypeList.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))),Object(o.a)(t)},e.prototype.onFocus=function(){this.dirty&&(this.entityTypeListFormGroup.get("entityType").updateValueAndValidity({onlySelf:!0,emitEvent:!0}),this.dirty=!1)},e.prototype.clear=function(e){var t=this;void 0===e&&(e=""),this.entityTypeInput.nativeElement.value=e,this.entityTypeListFormGroup.get("entityType").patchValue(e,{emitEvent:!0}),setTimeout((function(){t.entityTypeInput.nativeElement.blur(),t.entityTypeInput.nativeElement.focus()}),0)},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](h.Store),r["\u0275\u0275directiveInject"](y.TranslateService),r["\u0275\u0275directiveInject"](m.a),r["\u0275\u0275directiveInject"](a.FormBuilder))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-entity-type-list"]],viewQuery:function(e,t){var n;(1&e&&(r["\u0275\u0275viewQuery"](M,!0),r["\u0275\u0275viewQuery"](O,!0),r["\u0275\u0275staticViewQuery"](I,!0)),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.entityTypeInput=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.entityTypeAutocomplete=n.first),r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.chipList=n.first))},inputs:{required:"required",disabled:"disabled",allowedEntityTypes:"allowedEntityTypes",ignoreAuthorityFilter:"ignoreAuthorityFilter"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}])],decls:14,vars:14,consts:[["appearance","standard",1,"mat-block",3,"formGroup"],["formControlName","entityTypeList"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","entityType","matAutocompleteOrigin","",2,"max-width","200px",3,"placeholder","matAutocompleteConnectedTo","matAutocomplete","matChipInputFor","focusin"],["entityTypeInput","","origin","matAutocompleteOrigin"],[1,"tb-autocomplete",3,"displayWith"],["entityTypeAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[4,"ngIf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],[3,"innerHTML"]],template:function(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-form-field",0),r["\u0275\u0275elementStart"](1,"mat-chip-list",1,2),r["\u0275\u0275template"](3,j,3,4,"mat-chip",3),r["\u0275\u0275elementStart"](4,"input",4,5),r["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"mat-autocomplete",6,7),r["\u0275\u0275template"](9,A,3,5,"mat-option",8),r["\u0275\u0275pipe"](10,"async"),r["\u0275\u0275template"](11,N,4,6,"mat-option",9),r["\u0275\u0275pipe"](12,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](13,k,3,3,"mat-error",10),r["\u0275\u0275elementEnd"]()),2&e){var n,i=r["\u0275\u0275reference"](2),a=r["\u0275\u0275reference"](6),o=r["\u0275\u0275reference"](8);r["\u0275\u0275property"]("formGroup",t.entityTypeListFormGroup),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",t.entityTypeList),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("placeholder",t.disabled?"":t.entityTypeList&&t.entityTypeList.length?t.secondaryPlaceholder:t.placeholder),r["\u0275\u0275property"]("matAutocompleteConnectedTo",a)("matAutocomplete",o)("matChipInputFor",i),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("displayWith",t.displayEntityTypeFn),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](10,10,t.filteredEntityTypeList)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!(null!=(n=r["\u0275\u0275pipeBind1"](12,12,t.filteredEntityTypeList))&&n.length)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.entityTypeListFormGroup.get("entityTypeList").hasError("required"))}},directives:[g.MatFormField,a.NgControlStatusGroup,a.FormGroupDirective,b.MatChipList,a.NgControlStatus,a.FormControlName,v.NgForOf,C.MatInput,a.DefaultValueAccessor,E.MatAutocompleteTrigger,b.MatChipInput,E.MatAutocompleteOrigin,E.MatAutocomplete,v.NgIf,b.MatChip,T.MatIcon,b.MatChipRemove,S.MatOption,g.MatError],pipes:[v.AsyncPipe,w.a,y.TranslatePipe],encapsulation:2}),e}();!function(){r["\u0275setClassMetadata"](P,[{type:r.Component,args:[{selector:"tb-entity-type-list",templateUrl:"./entity-type-list.component.html",styleUrls:[],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return P})),multi:!0}]}]}],(function(){return[{type:h.Store},{type:y.TranslateService},{type:m.a},{type:a.FormBuilder}]}),{required:[{type:r.Input}],disabled:[{type:r.Input}],allowedEntityTypes:[{type:r.Input}],ignoreAuthorityFilter:[{type:r.Input}],entityTypeInput:[{type:r.ViewChild,args:["entityTypeInput"]}],entityTypeAutocomplete:[{type:r.ViewChild,args:["entityTypeAutocomplete"]}],chipList:[{type:r.ViewChild,args:["chipList",{static:!0}]}]})}()},wtyh:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return d}));var i=n("mrSG"),r=n("ofXK"),a=n("fXoL"),o=new a.InjectionToken("WindowToken"),s=function(){function e(){}return Object.defineProperty(e.prototype,"nativeWindow",{get:function(){throw new Error("Not implemented.")},enumerable:!1,configurable:!0}),e}(),l=function(e){function t(){return e.call(this)||this}return Object(i.d)(t,e),Object.defineProperty(t.prototype,"nativeWindow",{get:function(){return window},enumerable:!1,configurable:!0}),t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}(s);function c(e,t){return Object(r.isPlatformBrowser)(t)?e.nativeWindow:new Object}!function(){a["\u0275setClassMetadata"](l,[{type:a.Injectable}],(function(){return[]}),null)}();var u={provide:s,useClass:l},p={provide:o,useFactory:c,deps:[s,a.PLATFORM_ID]},d=[u,p]},xKAQ:function(e,t,n){"use strict";var i;n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),function(e){e.SHOW_NOTIFICATION="[Notification] Show",e.HIDE_NOTIFICATION="[Notification] Hide"}(i||(i={}));var r=function(e){this.notification=e,this.type=i.SHOW_NOTIFICATION},a=function(e){this.hideNotification=e,this.type=i.HIDE_NOTIFICATION}},xw5a:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"w",(function(){return c})),n.d(t,"v",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"x",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"I",(function(){return C})),n.d(t,"h",(function(){return v})),n.d(t,"G",(function(){return T})),n.d(t,"a",(function(){return E})),n.d(t,"j",(function(){return w})),n.d(t,"b",(function(){return S})),n.d(t,"k",(function(){return O})),n.d(t,"d",(function(){return M})),n.d(t,"r",(function(){return x})),n.d(t,"F",(function(){return j})),n.d(t,"D",(function(){return A})),n.d(t,"E",(function(){return R})),n.d(t,"z",(function(){return N})),n.d(t,"C",(function(){return _})),n.d(t,"A",(function(){return V})),n.d(t,"B",(function(){return F})),n.d(t,"c",(function(){return I})),n.d(t,"s",(function(){return L})),n.d(t,"l",(function(){return D})),n.d(t,"H",(function(){return U})),n.d(t,"q",(function(){return B})),n.d(t,"y",(function(){return G})),n.d(t,"u",(function(){return q})),n.d(t,"t",(function(){return z})),n.d(t,"J",(function(){return H}));var i,r=n("MBk6"),a=n("3Tyt"),o=n("0lYY"),s=n("//Q6");!function(e){e.ATTRIBUTE="ATTRIBUTE",e.CLIENT_ATTRIBUTE="CLIENT_ATTRIBUTE",e.SHARED_ATTRIBUTE="SHARED_ATTRIBUTE",e.SERVER_ATTRIBUTE="SERVER_ATTRIBUTE",e.TIME_SERIES="TIME_SERIES",e.ENTITY_FIELD="ENTITY_FIELD",e.ALARM_FIELD="ALARM_FIELD",e.CONSTANT="CONSTANT",e.COUNT="COUNT"}(i||(i={}));var l,c=new Map([[i.ATTRIBUTE,"filter.key-type.attribute"],[i.TIME_SERIES,"filter.key-type.timeseries"],[i.ENTITY_FIELD,"filter.key-type.entity-field"],[i.CONSTANT,"filter.key-type.constant"]]);function u(e){switch(e){case i.ATTRIBUTE:case i.CLIENT_ATTRIBUTE:case i.SHARED_ATTRIBUTE:case i.SERVER_ATTRIBUTE:return a.h.attribute;case i.TIME_SERIES:return a.h.timeseries;case i.ENTITY_FIELD:return a.h.entityField;case i.ALARM_FIELD:return a.h.alarm;case i.COUNT:return a.h.count}}function p(e){switch(e){case a.h.timeseries:return i.TIME_SERIES;case a.h.attribute:return i.ATTRIBUTE;case a.h.function:return i.ENTITY_FIELD;case a.h.alarm:return i.ALARM_FIELD;case a.h.entityField:return i.ENTITY_FIELD;case a.h.count:return i.COUNT}}function d(e){return{key:e.name,type:p(e.type)}}!function(e){e.STRING="STRING",e.NUMERIC="NUMERIC",e.BOOLEAN="BOOLEAN",e.DATE_TIME="DATE_TIME"}(l||(l={}));var m,f,h=new Map([[l.STRING,{name:"filter.value-type.string",icon:"mdi:format-text"}],[l.NUMERIC,{name:"filter.value-type.numeric",icon:"mdi:numeric"}],[l.BOOLEAN,{name:"filter.value-type.boolean",icon:"mdi:checkbox-marked-outline"}],[l.DATE_TIME,{name:"filter.value-type.date-time",icon:"mdi:calendar-clock"}]]);function y(e){switch(e){case l.STRING:return m.STRING;case l.NUMERIC:case l.DATE_TIME:return m.NUMERIC;case l.BOOLEAN:return m.BOOLEAN}}function g(e,t){return{keyFilterPredicate:function(e,t){var n={type:t?m.COMPLEX:y(e)};switch(n.type){case m.STRING:n.operation=f.STARTS_WITH,n.value={defaultValue:""},n.ignoreCase=!1;break;case m.NUMERIC:n.operation=v.EQUAL,n.value={defaultValue:e===l.DATE_TIME?Date.now():0};break;case m.BOOLEAN:n.operation=E.EQUAL,n.value={defaultValue:!1};break;case m.COMPLEX:n.operation=S.AND,n.predicates=[]}return n}(e,t),userInfo:{editable:!0,label:"",autogeneratedLabel:!0,order:0}}}function b(){return{editable:!0,label:"",autogeneratedLabel:!0,order:0}}!function(e){e.STRING="STRING",e.NUMERIC="NUMERIC",e.BOOLEAN="BOOLEAN",e.COMPLEX="COMPLEX"}(m||(m={})),function(e){e.EQUAL="EQUAL",e.NOT_EQUAL="NOT_EQUAL",e.STARTS_WITH="STARTS_WITH",e.ENDS_WITH="ENDS_WITH",e.CONTAINS="CONTAINS",e.NOT_CONTAINS="NOT_CONTAINS"}(f||(f={}));var v,C=new Map([[f.EQUAL,"filter.operation.equal"],[f.NOT_EQUAL,"filter.operation.not-equal"],[f.STARTS_WITH,"filter.operation.starts-with"],[f.ENDS_WITH,"filter.operation.ends-with"],[f.CONTAINS,"filter.operation.contains"],[f.NOT_CONTAINS,"filter.operation.not-contains"]]);!function(e){e.EQUAL="EQUAL",e.NOT_EQUAL="NOT_EQUAL",e.GREATER="GREATER",e.LESS="LESS",e.GREATER_OR_EQUAL="GREATER_OR_EQUAL",e.LESS_OR_EQUAL="LESS_OR_EQUAL"}(v||(v={}));var E,T=new Map([[v.EQUAL,"filter.operation.equal"],[v.NOT_EQUAL,"filter.operation.not-equal"],[v.GREATER,"filter.operation.greater"],[v.LESS,"filter.operation.less"],[v.GREATER_OR_EQUAL,"filter.operation.greater-or-equal"],[v.LESS_OR_EQUAL,"filter.operation.less-or-equal"]]);!function(e){e.EQUAL="EQUAL",e.NOT_EQUAL="NOT_EQUAL"}(E||(E={}));var S,w=new Map([[E.EQUAL,"filter.operation.equal"],[E.NOT_EQUAL,"filter.operation.not-equal"]]);!function(e){e.AND="AND",e.OR="OR"}(S||(S={}));var M,O=new Map([[S.AND,"filter.operation.and"],[S.OR,"filter.operation.or"]]);!function(e){e.CURRENT_TENANT="CURRENT_TENANT",e.CURRENT_CUSTOMER="CURRENT_CUSTOMER",e.CURRENT_USER="CURRENT_USER",e.CURRENT_DEVICE="CURRENT_DEVICE"}(M||(M={}));var I,x=new Map([[M.CURRENT_TENANT,"filter.current-tenant"],[M.CURRENT_CUSTOMER,"filter.current-customer"],[M.CURRENT_USER,"filter.current-user"],[M.CURRENT_DEVICE,"filter.current-device"]]);function j(e,t,n){var i,r=n.map((function(i){return function(e,t,n,i){var r=n.predicate;return function e(t,n,i,r,a){if(r.type===m.COMPLEX){var o=r,s=o.operation,c=o.predicates.map((function(r){return e(t,n,i,r,s)}));if(c.length>1){var u=t.instant(O.get(s)),p=c.join(' <span class="tb-filter-complex-operation">'+u+"</span> ");return s===S.OR&&a&&S.OR!==a&&(p='<span class="tb-filter-bracket"><span class="tb-left-bracket">(</span>'+p+'<span class="tb-right-bracket">)</span></span>'),p}return c[0]}return function(e,t,n,i){var r,a,o=n.key.key,s=i.value,c=!!s.dynamicValue&&!!s.dynamicValue.sourceType;c&&(a='<span class="tb-filter-dynamic-value"><span class="tb-filter-dynamic-source">'+e.instant(x.get(s.dynamicValue.sourceType))+"</span>",a+='.<span class="tb-filter-value">'+s.dynamicValue.sourceAttribute+"</span></span>");switch(i.type){case m.STRING:r=e.instant(C.get(i.operation)),i.ignoreCase&&(r+=" "+e.instant("filter.ignore-case")),c||(a="'"+i.value.defaultValue+"'");break;case m.NUMERIC:r=e.instant(T.get(i.operation)),c||(a=n.valueType===l.DATE_TIME?t.transform(i.value.defaultValue,"yyyy-MM-dd HH:mm"):i.value.defaultValue+"");break;case m.BOOLEAN:r=e.instant(w.get(i.operation)),c||(a=e.instant(i.value.defaultValue?"value.true":"value.false"))}c||(a='<span class="tb-filter-value">'+a+"</span>");return'<span class="tb-filter-predicate"><span class="tb-filter-entity-key">'+o+'</span> <span class="tb-filter-simple-operation">'+r+"</span> "+a+"</span>"}(t,n,i,r)}(e,t,n,r,i)}(e,t,i,n.length>1?S.AND:void 0)}));if(r.length>1){var a=e.instant("filter.operation.and");i=r.join(' <span class="tb-filter-complex-operation">'+a+"</span> ")}else i=r[0];return i}function A(e){if(!e)return[];for(var t=[],n=0,i=e;n<i.length;n++)for(var r=i[n],a=r.key,o=0,s=r.predicates;o<s.length;o++){var l=s[o],c={key:a,valueType:r.valueType,value:r.value,predicate:k(l)};t.push(c)}return t}function R(e){var t=[],n={};if(e)for(var i=0,r=e;i<r.length;i++){var a=r[i],o=a.key,s=o.key+o.type+a.valueType,l=n[s];l||(l={key:o,valueType:a.valueType,value:a.value,predicates:[]},n[s]=l,t.push(l)),a.predicate&&l.predicates.push(P(a.predicate))}return t}function N(e){for(var t=[],n=0,i=e.keyFilters;n<i.length;n++)for(var r=i[n],a=r.key,o=0,s=r.predicates;o<s.length;o++){var l=s[o],c={key:a,valueType:r.valueType,value:r.value,predicate:k(l)};t.push(c)}return t}function k(e){var t=e.keyFilterPredicate;if(t.type===m.COMPLEX){var n=t,i=n.predicates.map((function(e){return k(e)}));t={type:m.COMPLEX,operation:n.operation,predicates:i}}return t}function P(e){var t={keyFilterPredicate:null,userInfo:null};if(e.type===m.COMPLEX){var n=e,i=n.predicates.map((function(e){return P(e)}));t.keyFilterPredicate={predicates:i,operation:n.operation,type:m.COMPLEX}}else t.keyFilterPredicate=e;return t}function _(e){return!!e.editable&&e.keyFilters.some((function(e){return e.predicates.some((function(e){return function e(t){return t.keyFilterPredicate.type===m.COMPLEX?t.keyFilterPredicate.predicates.some((function(t){return e(t)})):t.userInfo.editable}(e)}))}))}function V(e,t){var n=e.keyFilters.map((function(e){return function(e,t){var n=e.predicates.map((function(n){return function e(t,n,i,r){if(i.keyFilterPredicate.type===m.COMPLEX){var a=i.keyFilterPredicate.predicates.map((function(i){return e(t,n,i,r)}));return[].concat.apply([],a)}if(i.userInfo.editable){var o={info:i,label:i.userInfo.label,valueType:n};return i.userInfo.autogeneratedLabel&&(o.label=F(t.key,n,i.keyFilterPredicate.operation,r)),[o]}return[]}(e.key,e.valueType,n,t)}));return[].concat.apply([],n)}(e,t)})),i=[].concat.apply([],n);return i=i.sort((function(e,t){return(Object(s.n)(e.info.userInfo.order)?e.info.userInfo.order:0)-(Object(s.n)(t.info.userInfo.order)?t.info.userInfo.order:0)}))}function F(e,t,n,i){var r,a=e;switch(t){case l.STRING:r=C.get(n);break;case l.NUMERIC:case l.DATE_TIME:r=T.get(n);break;case l.BOOLEAN:r=w.get(n)}return a+=" "+i.instant(r)}function L(e){return e.sortOrder?(e.sortOrder.direction+"").toLowerCase():""}function D(e){return{pageSize:e,page:0,sortOrder:{key:{type:i.ENTITY_FIELD,key:"createdTime"},direction:I.DESC}}}!function(e){e.ASC="ASC",e.DESC="DESC"}(I||(I={}));var U=D(1),B=D(1024);function G(e,t){var n=e.data.map((function(e){return e.entityId.id})),i=t.data.map((function(e){return e.entityId.id}));return!Object(s.r)(n,i)}var q=[{type:i.ENTITY_FIELD,key:"name"},{type:i.ENTITY_FIELD,key:"label"},{type:i.ENTITY_FIELD,key:"additionalInfo"}];function z(e){var t={id:e.entityId.id,entityType:e.entityId.entityType};if(e.latest&&e.latest[i.ENTITY_FIELD]){var n=e.latest[i.ENTITY_FIELD];if(n.name?t.name=n.name.value:t.name="",n.label?t.label=n.label.value:t.label="",t.entityDescription="",n.additionalInfo){var r=n.additionalInfo.value;if(r&&r.length)try{var a=JSON.parse(r);a&&a.description&&(t.entityDescription=a.description)}catch(o){}}}return t}function H(e,t,n){void 0===n&&(n=!1),e.entity={id:{entityType:t.entityType,id:t.id}},e.entityId=t.id,e.entityType=t.entityType,e.type!==o.a.entity&&e.type!==o.a.entityCount||(e.entityName=t.name,e.entityLabel=t.label,e.name=t.name,e.entityDescription=t.entityDescription,e.entity.label=t.label,e.entity.name=t.name,n&&(e.entityFilter={type:r.a.singleEntity,singleEntity:{id:t.id,entityType:t.entityType}}))}},yAAm:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("mrSG"),r=n("fXoL"),a=n("3Pt+"),o=n("jCow"),s=n("8LU1"),l=n("xKAQ"),c=n("OiFK"),u=n("//Q6"),p=n("nhHW"),d=n("HR/i"),m=(n("gaqQ"),n("Uj2l")),f=n("sYmb"),h=n("l7P3"),y=n("8m5z"),g=n("XiUz"),b=n("ofXK"),v=n("znSr"),C=n("Qu3c"),E=n("bTqV"),T=n("NFeN"),S=n("rezs"),w=["javascriptEditor"];function M(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",13),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().beautifyJs()})),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"js-func.tidy")," "))}var O=function(e,t){return{"tb-disabled":e,"fill-height":t}},I=function(e){return{"fill-height":e}},x=function(){function e(e,t,n,i,r){this.elementRef=e,this.utils=t,this.translate=n,this.store=i,this.raf=r,this.ignoreChange=!1,this.toastTargetId="jsFuncEditor-"+Object(u.k)(),this.functionArgsString="",this.fullscreen=!1,this.functionValid=!0,this.errorShowed=!1,this.errorMarkers=[],this.errorAnnotationId=-1,this.propagateChange=null}return Object.defineProperty(e.prototype,"noValidate",{get:function(){return this.noValidateValue},set:function(e){this.noValidateValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.requiredValue},set:function(e){this.requiredValue=Object(s.coerceBooleanProperty)(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.resultType&&0!==this.resultType.length||(this.resultType="nocheck"),this.functionArgs&&this.functionArgs.forEach((function(t){e.functionArgsString.length>0&&(e.functionArgsString+=", "),e.functionArgsString+=t}));var t=this.javascriptEditorElmRef.nativeElement,n={mode:"ace/mode/javascript",showGutter:!0,showPrintMargin:!0,readOnly:this.disabled};n=Object(i.a)(Object(i.a)({},n),{enableSnippets:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),Object(o.b)().subscribe((function(r){e.jsEditor=r.edit(t,n),e.jsEditor.session.setUseWrapMode(!0),e.jsEditor.setValue(e.modelValue?e.modelValue:"",-1),e.jsEditor.setReadOnly(e.disabled),e.jsEditor.on("change",(function(){e.ignoreChange||(e.cleanupJsErrors(),e.updateView())})),e.editorCompleter&&(e.jsEditor.completers=Object(i.g)([e.editorCompleter],e.jsEditor.completers||[])),e.editorResize$=new d.a((function(){e.onAceEditorResize()})),e.editorResize$.observe(t)}))},e.prototype.ngOnDestroy=function(){this.editorResize$&&this.editorResize$.disconnect()},e.prototype.onAceEditorResize=function(){var e=this;this.editorsResizeCaf&&(this.editorsResizeCaf(),this.editorsResizeCaf=null),this.editorsResizeCaf=this.raf.raf((function(){e.jsEditor.resize(),e.jsEditor.renderer.updateFull()}))},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e,this.jsEditor&&this.jsEditor.setReadOnly(this.disabled)},e.prototype.validate=function(e){return this.functionValid?null:{jsFunc:{valid:!1}}},e.prototype.beautifyJs=function(){var e=this;Object(m.c)(this.modelValue,{indent_size:4,wrap_line_length:60}).subscribe((function(t){e.jsEditor.setValue(t||"",-1),e.updateView()}))},e.prototype.validateOnSubmit=function(){this.disabled||(this.cleanupJsErrors(),this.functionValid=this.validateJsFunc(),this.functionValid||(this.propagateChange(this.modelValue),this.store.dispatch(new l.b({message:this.validationError,type:"error",target:this.toastTargetId,verticalPosition:"bottom",horizontalPosition:"left"})),this.errorShowed=!0))},e.prototype.validateJsFunc=function(){try{var e=new Function(this.functionArgsString,this.modelValue);if(this.noValidate)return!0;if(this.validationArgs){for(var t=void 0,n=void 0,i=0,r=this.validationArgs;i<r.length;i++){var a=r[i];try{t=e.apply(this,a),n=null;break}catch(h){n=h}}if(n)throw n;if("nocheck"!==this.resultType)if("any"===this.resultType){if(Object(u.z)(t))return this.validationError=this.translate.instant("js-func.no-return-error"),!1}else if(typeof t!==this.resultType)return this.validationError=this.translate.instant("js-func.return-type-mismatch",{type:this.resultType}),!1;return!0}return!0}catch(h){var s=this.utils.parseException(h),l="Error:";if(s.name&&(l+=" "+s.name+":"),s.message&&(l+=" "+s.message),s.lineNumber&&(l+="<br>Line "+s.lineNumber,s.columnNumber&&(l+=" column "+s.columnNumber),l+=" of script."),this.validationError=l,s.lineNumber){var c=s.lineNumber-1,p=0;s.columnNumber&&(p=s.columnNumber);var d=this.jsEditor.session.addMarker(new o.a(c,0,c,1/0),"ace_active-line","screenLine");this.errorMarkers.push(d);var m=this.jsEditor.session.getAnnotations(),f={row:c,column:p,text:s.message,type:"error"};this.errorAnnotationId=m.push(f)-1,this.jsEditor.session.setAnnotations(m)}return!1}},e.prototype.cleanupJsErrors=function(){var e=this;if(this.errorShowed&&(this.store.dispatch(new l.a({target:this.toastTargetId})),this.errorShowed=!1),this.errorMarkers.forEach((function(t){e.jsEditor.session.removeMarker(t)})),this.errorMarkers.length=0,this.errorAnnotationId>-1){var t=this.jsEditor.session.getAnnotations();t.splice(this.errorAnnotationId,1),this.jsEditor.session.setAnnotations(t),this.errorAnnotationId=-1}},e.prototype.writeValue=function(e){this.modelValue=e,this.jsEditor&&(this.ignoreChange=!0,this.jsEditor.setValue(this.modelValue?this.modelValue:"",-1),this.ignoreChange=!1)},e.prototype.updateView=function(){var e=this.jsEditor.getValue();this.modelValue!==e&&(this.modelValue=e,this.functionValid=!0,this.propagateChange(this.modelValue))},e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](f.TranslateService),r["\u0275\u0275directiveInject"](h.Store),r["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-js-func"]],viewQuery:function(e,t){var n;(1&e&&r["\u0275\u0275staticViewQuery"](w,!0),2&e)&&(r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.javascriptEditorElmRef=n.first))},inputs:{functionName:"functionName",functionArgs:"functionArgs",validationArgs:"validationArgs",resultType:"resultType",disabled:"disabled",fillHeight:"fillHeight",editorCompleter:"editorCompleter",noValidate:"noValidate",required:"required"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return e})),multi:!0}])],decls:18,vars:15,consts:[["tb-fullscreen","","fxLayout","column",1,"tb-js-func",2,"background","#fff",3,"ngClass","fullscreen"],["fxLayout","row","fxLayoutAlign","start center",1,"tb-js-func-toolbar",2,"height","40px"],[1,"tb-title","no-padding"],["fxFlex",""],["type","button","mat-button","","class","tidy",3,"click",4,"ngIf"],[2,"width","initial"],["matTooltipPosition","above",2,"border-radius","50%",3,"matTooltip","click"],["type","button","mat-button","","mat-icon-button","",1,"tb-mat-32"],[1,"material-icons"],["id","tb-javascript-panel","fxLayout","column","tb-toast","",1,"tb-js-func-panel",3,"toastTarget"],["id","tb-javascript-input",3,"ngClass"],["javascriptEditor",""],["fxLayout","row","fxLayoutAlign","start center",2,"height","40px"],["type","button","mat-button","",1,"tidy",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"label",2),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"span",3),r["\u0275\u0275template"](5,M,3,3,"button",4),r["\u0275\u0275elementStart"](6,"fieldset",5),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275listener"]("click",(function(){return t.fullscreen=!t.fullscreen})),r["\u0275\u0275pipe"](8,"translate"),r["\u0275\u0275elementStart"](9,"button",7),r["\u0275\u0275elementStart"](10,"mat-icon",8),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"div",9),r["\u0275\u0275element"](13,"div",10,11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div",12),r["\u0275\u0275elementStart"](16,"label",2),r["\u0275\u0275text"](17,"}"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction2"](10,O,t.disabled,t.fillHeight))("fullscreen",t.fullscreen),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"]("function "+(t.functionName?t.functionName:"")+"("+t.functionArgsString+") {"),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",!t.disabled),r["\u0275\u0275advance"](2),r["\u0275\u0275propertyInterpolate"]("matTooltip",r["\u0275\u0275pipeBind1"](8,8,t.fullscreen?"fullscreen.exit":"fullscreen.expand")),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate"](t.fullscreen?"fullscreen_exit":"fullscreen"),r["\u0275\u0275advance"](1),r["\u0275\u0275propertyInterpolate"]("toastTarget",t.toastTargetId),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pureFunction1"](13,I,t.fillHeight)))},directives:[y.a,g.f,b.NgClass,v.b,g.e,g.b,b.NgIf,C.MatTooltip,E.MatButton,T.MatIcon,S.b],pipes:[f.TranslatePipe],styles:[".tb-js-func{position:relative}.tb-js-func.tb-disabled{color:rgba(0,0,0,.38)}.tb-js-func.fill-height{height:100%}.tb-js-func .tb-js-func-panel{height:calc(100% - 80px);margin-left:15px;border:1px solid silver}.tb-js-func .tb-js-func-panel #tb-javascript-input{width:100%;min-width:200px;height:100%}.tb-js-func .tb-js-func-panel #tb-javascript-input:not(.fill-height){min-height:200px}.tb-js-func .tb-js-func-toolbar button.mat-button,.tb-js-func .tb-js-func-toolbar button.mat-icon-button,.tb-js-func .tb-js-func-toolbar button.mat-icon-button.tb-mat-32{-ms-flex-align:center;align-items:center;vertical-align:middle;min-width:32px;min-height:15px;padding:4px;margin:0;font-size:.8rem;line-height:15px;color:#7b7b7b;background:hsla(0,0%,86.3%,.35)}.tb-js-func .tb-js-func-toolbar button.mat-button:not(:last-child),.tb-js-func .tb-js-func-toolbar button.mat-icon-button.tb-mat-32:not(:last-child),.tb-js-func .tb-js-func-toolbar button.mat-icon-button:not(:last-child){margin-right:4px}"],encapsulation:2}),e}();!function(){r["\u0275setClassMetadata"](x,[{type:r.Component,args:[{selector:"tb-js-func",templateUrl:"./js-func.component.html",styleUrls:["./js-func.component.scss"],providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:Object(r.forwardRef)((function(){return x})),multi:!0},{provide:a.NG_VALIDATORS,useExisting:Object(r.forwardRef)((function(){return x})),multi:!0}],encapsulation:r.ViewEncapsulation.None}]}],(function(){return[{type:r.ElementRef},{type:c.a},{type:f.TranslateService},{type:h.Store},{type:p.a}]}),{javascriptEditorElmRef:[{type:r.ViewChild,args:["javascriptEditor",{static:!0}]}],functionName:[{type:r.Input}],functionArgs:[{type:r.Input}],validationArgs:[{type:r.Input}],resultType:[{type:r.Input}],disabled:[{type:r.Input}],fillHeight:[{type:r.Input}],editorCompleter:[{type:r.Input}],noValidate:[{type:r.Input}],required:[{type:r.Input}]})}()},z36O:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("fXoL"),r=n("sYmb"),a=function(){function e(e){this.translate=e}return e.prototype.transform=function(e,t){var n=Math.floor(e/1e3),i=Math.floor(n/86400),r=Math.floor(n%86400/3600),a=Math.floor(n%86400%3600/60);n%=60;var o="";return i>0&&(o+=this.translate.instant("timewindow.days",{days:i})),r>0&&(0===o.length&&1===r&&(r=0),o+=this.translate.instant("timewindow.hours",{hours:r})),a>0&&(0===o.length&&1===a&&(a=0),o+=this.translate.instant("timewindow.minutes",{minutes:a})),n>0&&(0===o.length&&1===n&&(n=0),o+=this.translate.instant("timewindow.seconds",{seconds:n})),o},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.TranslateService))},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"milliSecondsToTimeString",type:e,pure:!0}),e}();!function(){i["\u0275setClassMetadata"](a,[{type:i.Pipe,args:[{name:"milliSecondsToTimeString"}]}],(function(){return[{type:r.TranslateService}]}),null)}()},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("fXoL"),r=n("AytR"),a=n("jhN1"),o=n("R1ws"),s=n("tyNb"),l=[{path:"",redirectTo:"home",pathMatch:"full",data:{breadcrumb:{skip:!0}}}],c=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.RouterModule.forRoot(l)],s.RouterModule]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](c,{imports:[s.RouterModule],exports:[s.RouterModule]}));var u=n("pKmL"),p=n("ofXK"),d=n("mrSG"),m=n("Vurf"),f=n("RxGS"),h=n("he9t"),y=n("l7P3"),g=n("3Pt+"),b=n("XiUz"),v=n("Wp6s"),C=n("1wU7"),E=n("rezs"),T=n("kmnG"),S=n("sYmb"),w=n("qFsG"),M=n("NFeN"),O=n("bTqV"),I=n("bv9b"),x=n("f0Cb");function j(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-bar",21)}function A(e,t){1&e&&i["\u0275\u0275element"](0,"span",22)}var R=function(e){return{name:e}};function N(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"a",28),i["\u0275\u0275element"](2,"mat-icon",29),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("href",n.url,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("svgIcon",n.icon),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind2"](4,3,"login.login-with",i["\u0275\u0275pureFunction1"](6,R,n.name))," ")}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",23),i["\u0275\u0275template"](1,N,5,8,"ng-container",24),i["\u0275\u0275elementStart"](2,"div",25),i["\u0275\u0275elementStart"](3,"div",26),i["\u0275\u0275element"](4,"mat-divider"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",27),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"uppercase"),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",26),i["\u0275\u0275element"](10,"mat-divider"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.oauth2Clients),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](7,2,i["\u0275\u0275pipeBind1"](8,4,"login.or")))}}function P(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"user.invalid-email-format")," "))}var _=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.store=t,a.authService=n,a.fb=i,a.router=r,a.loginFormGroup=a.fb.group({username:"",password:""}),a.oauth2Clients=null,a.hidePassword=!0,a}return Object(d.d)(t,e),t.prototype.ngOnInit=function(){this.oauth2Clients=this.authService.oauth2Clients},t.prototype.login=function(){var e=this;this.loginFormGroup.valid?this.authService.login(this.loginFormGroup.value).subscribe((function(){}),(function(t){t&&t.error&&t.error.errorCode&&t.error.errorCode===h.a.serverErrorCode.credentialsExpired&&e.router.navigateByUrl("login/resetExpiredPassword?resetToken="+t.error.resetToken)})):Object.keys(this.loginFormGroup.controls).forEach((function(t){e.loginFormGroup.get(t).markAsTouched({onlySelf:!0})}))},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](y.Store),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](g.FormBuilder),i["\u0275\u0275directiveInject"](s.Router))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-login"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:40,vars:24,consts:[["fxFlex","","fxLayoutAlign","center center",1,"tb-login-content","mat-app-background","tb-dark"],[2,"max-height","80vh","overflow-y","auto"],[1,"tb-login-form",3,"formGroup","ngSubmit"],["fxLayout","column",3,"disabled"],["fxLayout","column","fxLayoutAlign","start center",2,"padding","15px 0"],[1,"login-logo"],["color","warn","mode","indeterminate",4,"ngIf"],["style","height: 4px;",4,"ngIf"],["tb-toast","","fxLayout","column",1,"layout-padding"],[2,"height","50px"],["class","oauth-container tb-default","fxLayout","column","fxLayoutGap","16px",4,"ngIf"],["translate",""],["id","username-input","matInput","","type","email","autofocus","","formControlName","username","email","","required",""],["matPrefix",""],[4,"ngIf"],["id","password-input","matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["fxLayoutAlign","end center",1,"forgot-password"],["mat-button","","type","button","routerLink","/login/resetPasswordRequest",1,"tb-reset-password"],["fxLayout","column",1,"tb-action-button"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["color","warn","mode","indeterminate"],[2,"height","4px"],["fxLayout","column","fxLayoutGap","16px",1,"oauth-container","tb-default"],[4,"ngFor","ngForOf"],[1,"container-divider"],[1,"line"],[1,"text","mat-typography"],["mat-raised-button","",1,"login-with-button",3,"href"],[1,"icon",3,"svgIcon"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-card",1),i["\u0275\u0275elementStart"](2,"mat-card-content"),i["\u0275\u0275elementStart"](3,"form",2),i["\u0275\u0275listener"]("ngSubmit",(function(){return t.login()})),i["\u0275\u0275elementStart"](4,"fieldset",3),i["\u0275\u0275pipe"](5,"async"),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275element"](7,"tb-logo",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,j,1,0,"mat-progress-bar",6),i["\u0275\u0275pipe"](9,"async"),i["\u0275\u0275template"](10,A,1,0,"span",7),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275element"](13,"span",9),i["\u0275\u0275template"](14,k,11,6,"div",10),i["\u0275\u0275elementStart"](15,"mat-form-field"),i["\u0275\u0275elementStart"](16,"mat-label",11),i["\u0275\u0275text"](17,"login.username"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"input",12),i["\u0275\u0275elementStart"](19,"mat-icon",13),i["\u0275\u0275text"](20,"email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](21,P,3,3,"mat-error",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"mat-form-field"),i["\u0275\u0275elementStart"](23,"mat-label",11),i["\u0275\u0275text"](24,"common.password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](25,"input",15),i["\u0275\u0275elementStart"](26,"button",16),i["\u0275\u0275listener"]("click",(function(){return t.hidePassword=!t.hidePassword})),i["\u0275\u0275elementStart"](27,"mat-icon"),i["\u0275\u0275text"](28),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"mat-icon",13),i["\u0275\u0275text"](30,"lock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"div",17),i["\u0275\u0275elementStart"](32,"button",18),i["\u0275\u0275text"](33),i["\u0275\u0275pipe"](34,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",19),i["\u0275\u0275elementStart"](36,"button",20),i["\u0275\u0275pipe"](37,"async"),i["\u0275\u0275text"](38),i["\u0275\u0275pipe"](39,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.loginFormGroup),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](5,12,t.isLoading$)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](9,14,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](11,16,t.isLoading$)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngIf",null==t.oauth2Clients?null:t.oauth2Clients.length),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("ngIf",t.loginFormGroup.get("username").invalid),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("type",t.hidePassword?"password":"text"),i["\u0275\u0275advance"](1),i["\u0275\u0275attribute"]("aria-pressed",t.hidePassword),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](t.hidePassword?"visibility_off":"visibility"),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](34,18,"login.forgot-password")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](37,20,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](39,22,"login.login")))},directives:[b.b,b.e,v.MatCard,v.MatCardContent,g["\u0275angular_packages_forms_forms_y"],g.NgControlStatusGroup,g.FormGroupDirective,b.f,C.a,p.NgIf,E.b,T.MatFormField,T.MatLabel,S.TranslateDirective,w.MatInput,g.DefaultValueAccessor,g.NgControlStatus,g.FormControlName,g.EmailValidator,g.RequiredValidator,M.MatIcon,T.MatPrefix,O.MatButton,T.MatSuffix,s.RouterLink,I.MatProgressBar,b.g,p.NgForOf,x.MatDivider,O.MatAnchor,T.MatError],pipes:[p.AsyncPipe,S.TranslatePipe,p.UpperCasePipe],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]{margin-top:36px;margin-bottom:76px;background-color:#eee}@media screen and (min-width:600px){[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .tb-login-form[_ngcontent-%COMP%]{width:550px!important}}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .tb-login-form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{padding:0 .5em 1em}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .tb-login-form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   .tb-reset-password[_ngcontent-%COMP%]{padding:0 6px}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .tb-login-form[_ngcontent-%COMP%]   .tb-action-button[_ngcontent-%COMP%]{padding:20px 0 16px}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   .container-divider[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   .container-divider[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{-ms-flex:1;flex:1}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   .container-divider[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   .container-divider[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{width:20px;min-width:20px}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   a.login-with-button[_ngcontent-%COMP%]{color:rgba(0,0,0,.87)}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   a.login-with-button[_ngcontent-%COMP%]:hover{border-bottom:0}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   a.login-with-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:20px;width:20px;vertical-align:sub}[_nghost-%COMP%]   .tb-login-content[_ngcontent-%COMP%]   .oauth-container[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]     .mat-button-wrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}"]}),t}(f.a);!function(){i["\u0275setClassMetadata"](_,[{type:i.Component,args:[{selector:"tb-login",templateUrl:"./login.component.html",styleUrls:["./login.component.scss"]}]}],(function(){return[{type:y.Store},{type:m.a},{type:g.FormBuilder},{type:s.Router}]}),null)}();var V=n("C/rb"),F=n("32Ea"),L=n("IzEk"),D=n("5+tZ"),U=n("lJxs"),B=n("JIr8"),G=n("LRne"),q=n("cp0P"),z=n("7o/Q");var H=function(){function e(e){this.zone=e}return e.prototype.call=function(e,t){return t._subscribe(new W(e,this.zone))},e}(),W=function(e){function t(t,n){var i=e.call(this,t)||this;return i.zone=n,i}return Object(d.d)(t,e),t.prototype._next=function(e){var t=this;this.zone.run((function(){return t.destination.next(e)}))},t}(z.a),Y=n("zp9Z"),K=n("S+vS"),Q=n("OiFK"),X=n("//Q6"),J=function(){function e(e,t,n,i,r,a,o){this.store=e,this.router=t,this.authService=n,this.dialogService=i,this.utils=r,this.translate=a,this.zone=o}return e.prototype.getAuthState=function(){return this.store.pipe(Object(y.select)(V.c),Object(F.a)((function(e){return!e||!e.isUserLoaded})),Object(L.a)(1),(e=this.zone,function(t){return t.lift(new H(e))}));var e},e.prototype.canActivate=function(e,t){var n=this;return this.getAuthState().pipe(Object(D.b)((function(e){var i=t.url,r=t.root,a=[];for(r.url&&a.push.apply(a,r.url.map((function(e){return e.path})));r.children.length;)(r=r.children[0]).url&&a.push.apply(a,r.url.map((function(e){return e.path})));var o=a.join("."),s=n.utils.getQueryParam("publicId"),l=r.data||{},c=r.params||{},u="public"===l.module;if(e.isAuthenticated){if(e.authUser.isPublic&&n.authService.parsePublicId()!==s)return s&&s.length>0?(n.authService.setUserFromJwtToken(null,null,!1),n.authService.reloadUser()):n.authService.logout(),Object(G.a)(!1);var p=n.authService.defaultUrl(!0,e,o,c);if(p)return Object(G.a)(p);var d=Y.a[e.authUser.authority];if(l.auth&&-1===l.auth.indexOf(d))return n.dialogService.forbidden(),Object(G.a)(!1);if(l.redirectTo){var m=void 0;return m=Object(X.x)(l.redirectTo)?l.redirectTo[d]:l.redirectTo,Object(G.a)(n.router.parseUrl(m))}return Object(G.a)(!0)}return s&&s.length>0?(n.authService.setUserFromJwtToken(null,null,!1),n.authService.reloadUser(),Object(G.a)(!1)):u?"login"===o?Object(q.a)([n.authService.loadOAuth2Clients()]).pipe(Object(U.a)((function(){return!0}))):Object(G.a)(!0):(n.authService.redirectUrl=i,Object(G.a)(n.authService.defaultUrl(!1)))})),Object(B.a)((function(e){return console.error(e),Object(G.a)(!1)})))},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](y.Store),i["\u0275\u0275inject"](s.Router),i["\u0275\u0275inject"](m.a),i["\u0275\u0275inject"](K.a),i["\u0275\u0275inject"](Q.a),i["\u0275\u0275inject"](S.TranslateService),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();!function(){i["\u0275setClassMetadata"](J,[{type:i.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:y.Store},{type:s.Router},{type:m.a},{type:K.a},{type:Q.a},{type:S.TranslateService},{type:i.NgZone}]}),null)}();var $=n("xKAQ");function Z(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-bar",18)}function ee(e,t){1&e&&i["\u0275\u0275element"](0,"span",19)}function te(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-error"),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,1,"user.invalid-email-format")," "))}var ne=function(e){function t(t,n,i,r){var a=e.call(this,t)||this;return a.store=t,a.authService=n,a.translate=i,a.fb=r,a.requestPasswordRequest=a.fb.group({email:["",[g.Validators.email,g.Validators.required]]},{updateOn:"submit"}),a}return Object(d.d)(t,e),t.prototype.ngOnInit=function(){},t.prototype.sendResetPasswordLink=function(){var e=this;this.requestPasswordRequest.valid&&this.authService.sendResetPasswordLink(this.requestPasswordRequest.get("email").value).subscribe((function(){e.store.dispatch(new $.b({message:e.translate.instant("login.password-link-sent-message"),type:"success"}))}))},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](y.Store),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](S.TranslateService),i["\u0275\u0275directiveInject"](g.FormBuilder))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-reset-password-request"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:31,vars:23,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"tb-request-password-reset-content","mat-app-background","tb-dark",2,"width","100%"],["fxFlex","initial",1,"tb-request-password-reset-card"],[1,"layout-padding"],["translate","",1,"mat-headline"],["color","warn","mode","indeterminate",4,"ngIf"],["style","height: 4px;",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],["tb-toast","","fxLayout","column",1,"layout-padding"],[2,"height","50px"],["hideRequiredMarker","",1,"mat-block"],["translate",""],["matInput","","type","email","autofocus","","formControlName","email","email","","required",""],["matPrefix","",1,"material-icons"],[4,"ngIf"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","16px","fxLayoutAlign","start center","fxLayoutAlign.gt-xs","center start"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-raised-button","","color","primary","type","button","routerLink","/login",3,"disabled"],["color","warn","mode","indeterminate"],[2,"height","4px"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-card",1),i["\u0275\u0275elementStart"](2,"mat-card-title",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275text"](4,"login.request-password-reset"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,Z,1,0,"mat-progress-bar",4),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275template"](7,ee,1,0,"span",5),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275elementStart"](9,"mat-card-content"),i["\u0275\u0275elementStart"](10,"form",6),i["\u0275\u0275listener"]("ngSubmit",(function(){return t.sendResetPasswordLink()})),i["\u0275\u0275elementStart"](11,"fieldset",7),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275element"](14,"span",9),i["\u0275\u0275elementStart"](15,"mat-form-field",10),i["\u0275\u0275elementStart"](16,"mat-label",11),i["\u0275\u0275text"](17,"login.email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"input",12),i["\u0275\u0275elementStart"](19,"mat-icon",13),i["\u0275\u0275text"](20,"email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](21,te,3,3,"mat-error",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",15),i["\u0275\u0275elementStart"](23,"button",16),i["\u0275\u0275pipe"](24,"async"),i["\u0275\u0275text"](25),i["\u0275\u0275pipe"](26,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"button",17),i["\u0275\u0275pipe"](28,"async"),i["\u0275\u0275text"](29),i["\u0275\u0275pipe"](30,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](6,9,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](8,11,t.isLoading$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.requestPasswordRequest),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](12,13,t.isLoading$)),i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("ngIf",t.requestPasswordRequest.get("email").invalid),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](24,15,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](26,17,"login.request-password-reset")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](28,19,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](30,21,"action.cancel")," "))},directives:[b.f,b.e,v.MatCard,b.b,v.MatCardTitle,S.TranslateDirective,p.NgIf,v.MatCardContent,g["\u0275angular_packages_forms_forms_y"],g.NgControlStatusGroup,g.FormGroupDirective,E.b,T.MatFormField,T.MatLabel,w.MatInput,g.DefaultValueAccessor,g.NgControlStatus,g.FormControlName,g.EmailValidator,g.RequiredValidator,M.MatIcon,T.MatPrefix,b.g,O.MatButton,s.RouterLink,I.MatProgressBar,T.MatError],pipes:[p.AsyncPipe,S.TranslatePipe],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0}[_nghost-%COMP%]   .tb-request-password-reset-content[_ngcontent-%COMP%]{background-color:#eee}@media screen and (min-width:600px){[_nghost-%COMP%]   .tb-request-password-reset-content[_ngcontent-%COMP%]   .tb-request-password-reset-card[_ngcontent-%COMP%]{width:450px!important}}"]}),t}(f.a);function ie(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-card-subtitle",2),i["\u0275\u0275elementStart"](1,"div",19),i["\u0275\u0275text"](2,"login.expired-password-reset-message"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function re(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-bar",20)}function ae(e,t){1&e&&i["\u0275\u0275element"](0,"span",21)}!function(){i["\u0275setClassMetadata"](ne,[{type:i.Component,args:[{selector:"tb-reset-password-request",templateUrl:"./reset-password-request.component.html",styleUrls:["./reset-password-request.component.scss"]}]}],(function(){return[{type:y.Store},{type:m.a},{type:S.TranslateService},{type:g.FormBuilder}]}),null)}();var oe=function(e){function t(t,n,i,r,a){var o=e.call(this,t)||this;return o.store=t,o.route=n,o.authService=i,o.translate=r,o.fb=a,o.resetToken="",o.resetPassword=o.fb.group({newPassword:[""],newPassword2:[""]}),o}return Object(d.d)(t,e),t.prototype.ngOnInit=function(){var e=this;this.isExpiredPassword=this.route.snapshot.data.expiredPassword,this.sub=this.route.queryParams.subscribe((function(t){e.resetToken=t.resetToken||""}))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.sub.unsubscribe()},t.prototype.onResetPassword=function(){this.resetPassword.get("newPassword").value!==this.resetPassword.get("newPassword2").value?this.store.dispatch(new $.b({message:this.translate.instant("login.passwords-mismatch-error"),type:"error"})):this.authService.resetPassword(this.resetToken,this.resetPassword.get("newPassword").value).subscribe()},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](y.Store),i["\u0275\u0275directiveInject"](s.ActivatedRoute),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](S.TranslateService),i["\u0275\u0275directiveInject"](g.FormBuilder))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-reset-password"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:37,vars:23,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"tb-reset-password-content","mat-app-background","tb-dark",2,"width","100%"],["fxFlex","initial",1,"tb-reset-password-card"],[1,"layout-padding","tb-card-title"],["translate","",1,"mat-headline","tb-card-title"],["class","layout-padding tb-card-title",4,"ngIf"],["color","warn","mode","indeterminate",4,"ngIf"],["style","height: 4px;",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],["tb-toast","","fxLayout","column",1,"layout-padding"],[2,"height","50px"],[1,"mat-block"],["translate",""],["matInput","","type","password","autofocus","","formControlName","newPassword"],["matPrefix","",1,"material-icons"],["matInput","","type","password","formControlName","newPassword2"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutGap","16px","fxLayoutAlign","start center","fxLayoutAlign.gt-sm","center start"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-raised-button","","color","primary","type","button","routerLink","/login",3,"disabled"],["translate","",1,"tb-card-title"],["color","warn","mode","indeterminate"],[2,"height","4px"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-card",1),i["\u0275\u0275elementStart"](2,"mat-card-title",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275text"](4,"login.password-reset"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,ie,3,0,"mat-card-subtitle",4),i["\u0275\u0275template"](6,re,1,0,"mat-progress-bar",5),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275template"](8,ae,1,0,"span",6),i["\u0275\u0275pipe"](9,"async"),i["\u0275\u0275elementStart"](10,"mat-card-content"),i["\u0275\u0275elementStart"](11,"form",7),i["\u0275\u0275listener"]("ngSubmit",(function(){return t.onResetPassword()})),i["\u0275\u0275elementStart"](12,"fieldset",8),i["\u0275\u0275pipe"](13,"async"),i["\u0275\u0275elementStart"](14,"div",9),i["\u0275\u0275element"](15,"span",10),i["\u0275\u0275elementStart"](16,"mat-form-field",11),i["\u0275\u0275elementStart"](17,"mat-label",12),i["\u0275\u0275text"](18,"login.new-password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"input",13),i["\u0275\u0275elementStart"](20,"mat-icon",14),i["\u0275\u0275text"](21,"lock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"mat-form-field",11),i["\u0275\u0275elementStart"](23,"mat-label",12),i["\u0275\u0275text"](24,"login.new-password-again"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](25,"input",15),i["\u0275\u0275elementStart"](26,"mat-icon",14),i["\u0275\u0275text"](27,"lock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",16),i["\u0275\u0275elementStart"](29,"button",17),i["\u0275\u0275pipe"](30,"async"),i["\u0275\u0275text"](31),i["\u0275\u0275pipe"](32,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"button",18),i["\u0275\u0275pipe"](34,"async"),i["\u0275\u0275text"](35),i["\u0275\u0275pipe"](36,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.isExpiredPassword),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](7,9,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](9,11,t.isLoading$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.resetPassword),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](13,13,t.isLoading$)),i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](30,15,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](32,17,"login.reset-password")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](34,19,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](36,21,"action.cancel")," "))},directives:[b.f,b.e,v.MatCard,b.b,v.MatCardTitle,S.TranslateDirective,p.NgIf,v.MatCardContent,g["\u0275angular_packages_forms_forms_y"],g.NgControlStatusGroup,g.FormGroupDirective,E.b,T.MatFormField,T.MatLabel,w.MatInput,g.DefaultValueAccessor,g.NgControlStatus,g.FormControlName,M.MatIcon,T.MatPrefix,b.g,O.MatButton,s.RouterLink,v.MatCardSubtitle,I.MatProgressBar],pipes:[p.AsyncPipe,S.TranslatePipe],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0}[_nghost-%COMP%]   .tb-reset-password-content[_ngcontent-%COMP%]{background-color:#eee}@media screen and (min-width:960px){[_nghost-%COMP%]   .tb-reset-password-content[_ngcontent-%COMP%]   .tb-reset-password-card[_ngcontent-%COMP%]{width:450px!important}}[_nghost-%COMP%]   .tb-reset-password-content[_ngcontent-%COMP%]   .tb-card-title[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}"]}),t}(f.a);function se(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-bar",18)}function le(e,t){1&e&&i["\u0275\u0275element"](0,"span",19)}!function(){i["\u0275setClassMetadata"](oe,[{type:i.Component,args:[{selector:"tb-reset-password",templateUrl:"./reset-password.component.html",styleUrls:["./reset-password.component.scss"]}]}],(function(){return[{type:y.Store},{type:s.ActivatedRoute},{type:m.a},{type:S.TranslateService},{type:g.FormBuilder}]}),null)}();var ce=function(e){function t(t,n,i,r,a){var o=e.call(this,t)||this;return o.store=t,o.route=n,o.authService=i,o.translate=r,o.fb=a,o.activateToken="",o.createPassword=o.fb.group({password:[""],password2:[""]}),o}return Object(d.d)(t,e),t.prototype.ngOnInit=function(){var e=this;this.sub=this.route.queryParams.subscribe((function(t){e.activateToken=t.activateToken||""}))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this.sub.unsubscribe()},t.prototype.onCreatePassword=function(){this.createPassword.get("password").value!==this.createPassword.get("password2").value?this.store.dispatch(new $.b({message:this.translate.instant("login.passwords-mismatch-error"),type:"error"})):this.authService.activate(this.activateToken,this.createPassword.get("password").value,!0).subscribe()},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](y.Store),i["\u0275\u0275directiveInject"](s.ActivatedRoute),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](S.TranslateService),i["\u0275\u0275directiveInject"](g.FormBuilder))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-create-password"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:36,vars:22,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"tb-create-password-content","mat-app-background","tb-dark",2,"width","100%"],["fxFlex","initial",1,"tb-create-password-card"],[1,"layout-padding"],["translate","",1,"mat-headline"],["color","warn","mode","indeterminate",4,"ngIf"],["style","height: 4px;",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],["tb-toast","","fxLayout","column",1,"layout-padding"],[2,"height","50px"],[1,"mat-block"],["translate",""],["matInput","","type","password","autofocus","","formControlName","password"],["matPrefix","",1,"material-icons"],["matInput","","type","password","formControlName","password2"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","16px","fxLayoutAlign","start center","fxLayoutAlign.gt-xs","center start"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-raised-button","","color","primary","type","button","routerLink","/login",3,"disabled"],["color","warn","mode","indeterminate"],[2,"height","4px"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"mat-card",1),i["\u0275\u0275elementStart"](2,"mat-card-title",2),i["\u0275\u0275elementStart"](3,"span",3),i["\u0275\u0275text"](4,"login.create-password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,se,1,0,"mat-progress-bar",4),i["\u0275\u0275pipe"](6,"async"),i["\u0275\u0275template"](7,le,1,0,"span",5),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275elementStart"](9,"mat-card-content"),i["\u0275\u0275elementStart"](10,"form",6),i["\u0275\u0275listener"]("ngSubmit",(function(){return t.onCreatePassword()})),i["\u0275\u0275elementStart"](11,"fieldset",7),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275element"](14,"span",9),i["\u0275\u0275elementStart"](15,"mat-form-field",10),i["\u0275\u0275elementStart"](16,"mat-label",11),i["\u0275\u0275text"](17,"common.password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"input",12),i["\u0275\u0275elementStart"](19,"mat-icon",13),i["\u0275\u0275text"](20,"lock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"mat-form-field",10),i["\u0275\u0275elementStart"](22,"mat-label",11),i["\u0275\u0275text"](23,"login.password-again"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](24,"input",14),i["\u0275\u0275elementStart"](25,"mat-icon",13),i["\u0275\u0275text"](26,"lock"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"div",15),i["\u0275\u0275elementStart"](28,"button",16),i["\u0275\u0275pipe"](29,"async"),i["\u0275\u0275text"](30),i["\u0275\u0275pipe"](31,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"button",17),i["\u0275\u0275pipe"](33,"async"),i["\u0275\u0275text"](34),i["\u0275\u0275pipe"](35,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](6,8,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!i["\u0275\u0275pipeBind1"](8,10,t.isLoading$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("formGroup",t.createPassword),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](12,12,t.isLoading$)),i["\u0275\u0275advance"](17),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](29,14,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](31,16,"login.create-password")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](33,18,t.isLoading$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](35,20,"action.cancel")," "))},directives:[b.f,b.e,v.MatCard,b.b,v.MatCardTitle,S.TranslateDirective,p.NgIf,v.MatCardContent,g["\u0275angular_packages_forms_forms_y"],g.NgControlStatusGroup,g.FormGroupDirective,E.b,T.MatFormField,T.MatLabel,w.MatInput,g.DefaultValueAccessor,g.NgControlStatus,g.FormControlName,M.MatIcon,T.MatPrefix,b.g,O.MatButton,s.RouterLink,I.MatProgressBar],pipes:[p.AsyncPipe,S.TranslatePipe],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex:1 1 0px;flex:1 1 0}[_nghost-%COMP%]   .tb-create-password-content[_ngcontent-%COMP%]{background-color:#eee}@media screen and (min-width:600px){[_nghost-%COMP%]   .tb-create-password-content[_ngcontent-%COMP%]   .tb-create-password-card[_ngcontent-%COMP%]{width:450px!important}}"]}),t}(f.a);!function(){i["\u0275setClassMetadata"](ce,[{type:i.Component,args:[{selector:"tb-create-password",templateUrl:"./create-password.component.html",styleUrls:["./create-password.component.scss"]}]}],(function(){return[{type:y.Store},{type:s.ActivatedRoute},{type:m.a},{type:S.TranslateService},{type:g.FormBuilder}]}),null)}();var ue=[{path:"login",component:_,data:{title:"login.login",module:"public"},canActivate:[J]},{path:"login/resetPasswordRequest",component:ne,data:{title:"login.request-password-reset",module:"public"},canActivate:[J]},{path:"login/resetPassword",component:oe,data:{title:"login.reset-password",module:"public"},canActivate:[J]},{path:"login/resetExpiredPassword",component:oe,data:{title:"login.reset-password",module:"public",expiredPassword:!0},canActivate:[J]},{path:"login/createPassword",component:ce,data:{title:"login.create-password",module:"public"},canActivate:[J]}],pe=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.RouterModule.forChild(ue)],s.RouterModule]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](pe,{imports:[s.RouterModule],exports:[s.RouterModule]}));var de=n("PCNd"),me=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[p.CommonModule,de.a,pe]]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](me,{declarations:[_,ne,oe,ce],imports:[p.CommonModule,de.a,pe]}));var fe=n("xgIS"),he=n("Kj3r"),ye=n("/uUt"),ge=n("vkgz"),be=n("k7+O"),ve=n("wtyh");var Ce=n("0MNC"),Ee=n("XhcP"),Te=n("/t3+"),Se=n("/crD");function we(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-icon",3),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.section.icon)}}function Me(e,t){if(1&e&&i["\u0275\u0275element"](0,"mat-icon",4),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("svgIcon",n.section.icon)}}var Oe=function(e){return{exact:e}},Ie=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-menu-link"]],inputs:{section:"section"},decls:6,vars:9,consts:[["mat-button","","routerLinkActive","tb-active",3,"routerLinkActiveOptions","routerLink"],["class","material-icons",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"material-icons"],[3,"svgIcon"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"a",0),i["\u0275\u0275template"](1,we,2,1,"mat-icon",1),i["\u0275\u0275template"](2,Me,1,1,"mat-icon",2),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275propertyInterpolate"]("routerLink",t.section.path),i["\u0275\u0275property"]("routerLinkActiveOptions",i["\u0275\u0275pureFunction1"](7,Oe,!t.section.notExact)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.section.isMdiIcon&&null!=t.section.icon),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.section.isMdiIcon&&null!=t.section.icon),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,5,t.section.name)))},directives:[O.MatAnchor,s.RouterLinkWithHref,s.RouterLinkActive,p.NgIf,M.MatIcon],pipes:[S.TranslatePipe],styles:[""]}),e}();!function(){i["\u0275setClassMetadata"](Ie,[{type:i.Component,args:[{selector:"tb-menu-link",templateUrl:"./menu-link.component.html",styleUrls:["./menu-link.component.scss"]}]}],(function(){return[]}),{section:[{type:i.Input}]})}();var xe=n("znSr"),je=n("Ki3a");function Ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-icon",6),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](n.section.icon)}}function Re(e,t){if(1&e&&i["\u0275\u0275element"](0,"mat-icon",7),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("svgIcon",n.section.icon)}}function Ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li"),i["\u0275\u0275element"](1,"tb-menu-link",8),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("section",n)}}var ke=function(){return{exact:!0}},Pe=function(e){return{"tb-toggled":e}},_e=function(e){return{height:e}},Ve=function(){function e(e){this.router=e}return e.prototype.ngOnInit=function(){},e.prototype.sectionActive=function(){return this.router.isActive(this.section.path,!1)},e.prototype.sectionHeight=function(){return this.router.isActive(this.section.path,!1)?this.section.height:"0px"},e.prototype.trackBySectionPages=function(e,t){return t.id},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.Router))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-menu-toggle"]],inputs:{section:"section"},decls:10,vars:19,consts:[["mat-button","","routerLinkActive","tb-active",1,"tb-button-toggle",3,"routerLinkActiveOptions","routerLink"],["class","material-icons",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"pull-right","fa","fa-chevron-down","tb-toggle-icon",3,"ngClass"],[1,"tb-menu-toggle-list",3,"id","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"material-icons"],[3,"svgIcon"],[3,"section"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"a",0),i["\u0275\u0275template"](1,Ae,2,1,"mat-icon",1),i["\u0275\u0275template"](2,Re,1,1,"mat-icon",2),i["\u0275\u0275elementStart"](3,"span"),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](6,"span",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"ul",4),i["\u0275\u0275pipe"](8,"nospace"),i["\u0275\u0275template"](9,Ne,2,1,"li",5),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275propertyInterpolate"]("routerLink",t.section.path),i["\u0275\u0275property"]("routerLinkActiveOptions",i["\u0275\u0275pureFunction0"](14,ke)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.section.isMdiIcon&&null!=t.section.icon),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.section.isMdiIcon&&null!=t.section.icon),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,10,t.section.name)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](15,Pe,t.sectionActive())),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate1"]("id","docs-menu-",i["\u0275\u0275pipeBind1"](8,12,t.section.name),""),i["\u0275\u0275property"]("ngStyle",i["\u0275\u0275pureFunction1"](17,_e,t.sectionHeight())),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",t.section.pages)("ngForTrackBy",t.trackBySectionPages))},directives:[O.MatAnchor,s.RouterLinkWithHref,s.RouterLinkActive,p.NgIf,p.NgClass,xe.b,p.NgStyle,xe.e,p.NgForOf,M.MatIcon,Ie],pipes:[S.TranslatePipe,je.a],styles:["[_nghost-%COMP%]     .tb-button-toggle .tb-toggle-icon{display:inline-block;width:15px;margin:auto 0 auto auto;background-size:100% auto;transition:transform .3s ease-in-out}[_nghost-%COMP%]     .tb-button-toggle .tb-toggle-icon.tb-toggled{transform:rotate(180deg)}[_nghost-%COMP%]     .tb-menu-toggle-list{position:relative;z-index:1;overflow:hidden;transition:.75s cubic-bezier(.35,0,.25,1);transition-property:height}[_nghost-%COMP%]     .tb-menu-toggle-list a.mat-button{padding:0 16px 0 32px;font-weight:500;text-transform:none!important;text-rendering:optimizeLegibility}"]}),e}();function Fe(e,t){if(1&e&&i["\u0275\u0275element"](0,"tb-menu-link",4),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("section",n)}}function Le(e,t){if(1&e&&i["\u0275\u0275element"](0,"tb-menu-toggle",4),2&e){var n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("section",n)}}function De(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li",2),i["\u0275\u0275template"](1,Fe,1,1,"tb-menu-link",3),i["\u0275\u0275template"](2,Le,1,1,"tb-menu-toggle",3),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275property"]("ngSwitch","link"===n.type),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngSwitchCase",!1)}}!function(){i["\u0275setClassMetadata"](Ve,[{type:i.Component,args:[{selector:"tb-menu-toggle",templateUrl:"./menu-toggle.component.html",styleUrls:["./menu-toggle.component.scss"]}]}],(function(){return[{type:s.Router}]}),{section:[{type:i.Input}]})}();var Ue=function(){function e(e){this.menuService=e,this.menuSections$=this.menuService.menuSections()}return e.prototype.trackByMenuSection=function(e,t){return t.id},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Se.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-side-menu"]],decls:3,vars:4,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","start stretch",1,"tb-side-menu"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],[3,"section",4,"ngSwitchCase"],[3,"section"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"ul",0),i["\u0275\u0275template"](1,De,3,3,"li",1),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](2,2,t.menuSections$))("ngForTrackBy",t.trackByMenuSection))},directives:[b.b,b.f,b.e,p.NgForOf,p.NgSwitch,p.NgSwitchCase,Ie,Ve],pipes:[p.AsyncPipe],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]     .tb-side-menu, [_nghost-%COMP%]     .tb-side-menu ul{padding:0;margin-top:0;list-style:none}[_nghost-%COMP%]     .tb-side-menu>li{border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]     a.mat-button{display:-ms-flexbox;display:flex;overflow:hidden;line-height:40px;border-radius:0}[_nghost-%COMP%]     a.mat-button:hover{border-bottom:none;background-color:hsla(0,0%,100%,.08)}[_nghost-%COMP%]     a.mat-button:focus{border-bottom:none}[_nghost-%COMP%]     a.mat-button.tb-active{font-weight:500;background-color:hsla(0,0%,100%,.15)}[_nghost-%COMP%]     a.mat-button .mat-button-wrapper{width:100%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center}[_nghost-%COMP%]     a.mat-button .mat-button-wrapper mat-icon{margin-right:8px;margin-left:0}[_nghost-%COMP%]     a.mat-button .mat-button-wrapper span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     a.mat-button .mat-button-wrapper span.tb-toggle-icon{padding-top:12px;padding-bottom:12px}"]}),e}();!function(){i["\u0275setClassMetadata"](Ue,[{type:i.Component,args:[{selector:"tb-side-menu",templateUrl:"./side-menu.component.html",styleUrls:["./side-menu.component.scss"]}]}],(function(){return[{type:Se.a}]}),null)}();var Be=n("HKgb"),Ge=n("efJA"),qe=["sidenav"],ze=["searchInput"];function He(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",24),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275nextContext"]().toggleFullscreen()})),i["\u0275\u0275elementStart"](1,"mat-icon",10),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("fxShow",!r.displaySearchMode()),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](r.isFullscreen()?"fullscreen_exit":"fullscreen")}}function We(e,t){1&e&&i["\u0275\u0275element"](0,"mat-progress-bar",25)}var Ye=function(e){return{"tb-invisible":e}},Ke=be,Qe=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.store=t,r.window=n,r.breakpointObserver=i,r.authState=Object(V.a)(r.store),r.forceFullscreen=r.authState.forceFullscreen,r.sidenavMode="side",r.sidenavOpened=!0,r.logo="assets/logo_title_white.svg",r.fullscreenEnabled=Ke.isEnabled,r.searchEnabled=!1,r.showSearch=!1,r.searchText="",r}return Object(d.d)(t,e),t.prototype.ngOnInit=function(){var e=this;this.authUser$=this.store.pipe(Object(y.select)(V.d)),this.userDetails$=this.store.pipe(Object(y.select)(V.g)),this.userDetailsString=this.userDetails$.pipe(Object(U.a)((function(e){return JSON.stringify(e)})));var t=this.breakpointObserver.isMatched(h.e["gt-sm"]);this.sidenavMode=t?"side":"over",this.sidenavOpened=t,this.breakpointObserver.observe(h.e["gt-sm"]).subscribe((function(t){t.matches?(e.sidenavMode="side",e.sidenavOpened=!0):(e.sidenavMode="over",e.sidenavOpened=!1)}))},t.prototype.ngAfterViewInit=function(){var e=this;Object(fe.a)(this.searchInputField.nativeElement,"keyup").pipe(Object(he.a)(150),Object(ye.a)(),Object(ge.a)((function(){e.searchTextUpdated()}))).subscribe()},t.prototype.sidenavClicked=function(){"over"===this.sidenavMode&&this.sidenav.toggle()},t.prototype.toggleFullscreen=function(){Ke.isEnabled&&Ke.toggle()},t.prototype.isFullscreen=function(){return Ke.isFullscreen},t.prototype.goBack=function(){this.window.history.back()},t.prototype.activeComponentChanged=function(e){this.showSearch=!1,this.searchText="",this.activeComponent=e,this.activeComponent&&"onSearchTextUpdated"in this.activeComponent?(this.searchEnabled=!0,this.searchableComponent=this.activeComponent):(this.searchEnabled=!1,this.searchableComponent=null)},t.prototype.displaySearchMode=function(){return this.searchEnabled&&this.showSearch},t.prototype.openSearch=function(){var e=this;this.searchEnabled&&(this.showSearch=!0,setTimeout((function(){e.searchInputField.nativeElement.focus(),e.searchInputField.nativeElement.setSelectionRange(0,0)}),10))},t.prototype.closeSearch=function(){this.searchEnabled&&(this.showSearch=!1,this.searchText.length&&(this.searchText="",this.searchTextUpdated()))},t.prototype.searchTextUpdated=function(){this.searchableComponent&&this.searchableComponent.onSearchTextUpdated(this.searchText)},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](y.Store),i["\u0275\u0275directiveInject"](ve.b),i["\u0275\u0275directiveInject"](Ce.BreakpointObserver))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["tb-home"]],viewQuery:function(e,t){var n;(1&e&&(i["\u0275\u0275viewQuery"](qe,!0),i["\u0275\u0275viewQuery"](ze,!0)),2&e)&&(i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.sidenav=n.first),i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.searchInputField=n.first))},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:37,vars:27,consts:[[1,"tb-site-sidenav","mat-elevation-z2",3,"mode","opened","click"],["sidenav",""],[1,"tb-nav-header"],["color","primary",1,"tb-nav-header-toolbar"],["fxFlex","auto","fxLayout","row"],["aria-label","logo",1,"tb-logo-title",3,"src"],["color","primary","fxFlex","0%","fxLayout","column","role","navigation",1,"tb-side-menu-toolbar"],["fxLayout","column","role","main",2,"height","100%"],["fxLayout","row","color","primary",1,"mat-elevation-z1","tb-primary-toolbar"],["mat-icon-button","","id","main","fxHide.gt-sm","",3,"fxShow","ngClass","click"],[1,"material-icons"],["mat-icon-button","",3,"fxShow","ngClass","click"],["mat-icon-button","",3,"ngClass","click"],["fxFlex","",1,"mat-toolbar-tools",3,"fxShow","activeComponent"],["fxFlex","","fxLayout","row",1,"tb-dark",3,"fxShow"],["fxFlex","","floatLabel","always"],["matInput","",3,"ngModel","placeholder","ngModelChange"],["searchInput",""],["mat-icon-button","",3,"fxShow","click"],["mat-icon-button","","fxHide.lt-md","",3,"fxShow","click",4,"ngIf"],[3,"displayUserInfo"],["color","warn","style","z-index: 10; margin-bottom: -4px; width: 100%;","mode","indeterminate",4,"ngIf"],["fxFlex","","fxLayout","column","tb-toast","",1,"tb-main-content"],[3,"activate"],["mat-icon-button","","fxHide.lt-md","",3,"fxShow","click"],["color","warn","mode","indeterminate",2,"z-index","10","margin-bottom","-4px","width","100%"]],template:function(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"mat-sidenav-container"),i["\u0275\u0275elementStart"](1,"mat-sidenav",0,1),i["\u0275\u0275listener"]("click",(function(){return t.sidenavClicked()})),i["\u0275\u0275elementStart"](3,"header",2),i["\u0275\u0275elementStart"](4,"mat-toolbar",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275element"](6,"img",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"mat-toolbar",6),i["\u0275\u0275element"](8,"tb-side-menu"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"mat-sidenav-content"),i["\u0275\u0275elementStart"](10,"div",7),i["\u0275\u0275elementStart"](11,"mat-toolbar",8),i["\u0275\u0275elementStart"](12,"button",9),i["\u0275\u0275listener"]("click",(function(){return i["\u0275\u0275restoreView"](n),i["\u0275\u0275reference"](2).toggle()})),i["\u0275\u0275elementStart"](13,"mat-icon",10),i["\u0275\u0275text"](14,"menu"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"button",11),i["\u0275\u0275listener"]("click",(function(){return t.goBack()})),i["\u0275\u0275elementStart"](16,"mat-icon",10),i["\u0275\u0275text"](17,"arrow_back"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"button",12),i["\u0275\u0275listener"]("click",(function(){return t.closeSearch()})),i["\u0275\u0275elementStart"](19,"mat-icon",10),i["\u0275\u0275text"](20,"arrow_back"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](21,"tb-breadcrumb",13),i["\u0275\u0275elementStart"](22,"div",14),i["\u0275\u0275elementStart"](23,"mat-form-field",15),i["\u0275\u0275element"](24,"mat-label"),i["\u0275\u0275elementStart"](25,"input",16,17),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.searchText=e})),i["\u0275\u0275pipe"](27,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"button",18),i["\u0275\u0275listener"]("click",(function(){return t.openSearch()})),i["\u0275\u0275elementStart"](29,"mat-icon",10),i["\u0275\u0275text"](30,"search"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](31,He,3,2,"button",19),i["\u0275\u0275element"](32,"tb-user-menu",20),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](33,We,1,0,"mat-progress-bar",21),i["\u0275\u0275pipe"](34,"async"),i["\u0275\u0275elementStart"](35,"div",22),i["\u0275\u0275elementStart"](36,"router-outlet",23),i["\u0275\u0275listener"]("activate",(function(e){return t.activeComponentChanged(e)})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("mode",t.sidenavMode)("opened",t.sidenavOpened&&!t.forceFullscreen),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("src",t.logo,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("fxShow",!t.forceFullscreen)("ngClass",i["\u0275\u0275pureFunction1"](21,Ye,t.displaySearchMode())),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("fxShow",t.forceFullscreen)("ngClass",i["\u0275\u0275pureFunction1"](23,Ye,t.displaySearchMode())),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](25,Ye,!t.displaySearchMode())),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("fxShow",!t.displaySearchMode())("activeComponent",t.activeComponent),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("fxShow",t.displaySearchMode()),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate"]("placeholder",i["\u0275\u0275pipeBind1"](27,17,"common.enter-search")),i["\u0275\u0275property"]("ngModel",t.searchText),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("fxShow",t.searchEnabled),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.fullscreenEnabled),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("displayUserInfo",!t.displaySearchMode()),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](34,19,t.isLoading$)))},directives:[Ee.MatSidenavContainer,Ee.MatSidenav,Te.MatToolbar,b.b,b.f,Ue,Ee.MatSidenavContent,O.MatButton,xe.d,p.NgClass,xe.b,M.MatIcon,Be.a,T.MatFormField,T.MatLabel,w.MatInput,g.DefaultValueAccessor,g.NgControlStatus,g.NgModel,p.NgIf,Ge.a,E.b,s.RouterOutlet,I.MatProgressBar],pipes:[S.TranslatePipe,p.AsyncPipe],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;width:100%;height:100%}[_nghost-%COMP%]   .tb-invisible[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   mat-sidenav-container[_ngcontent-%COMP%]{-ms-flex:1;flex:1}[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]{width:250px}@media (max-width:456px){[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]{width:calc(100% - 56px)}}[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]   .tb-nav-header[_ngcontent-%COMP%]{z-index:2;-ms-flex-negative:0;flex-shrink:0;white-space:nowrap}[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]   .tb-nav-header[_ngcontent-%COMP%]   .tb-nav-header-toolbar[_ngcontent-%COMP%]{min-height:64px;height:inherit;padding:0;z-index:2;-ms-flex-negative:0;flex-shrink:0;white-space:nowrap;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]   .tb-nav-header[_ngcontent-%COMP%]   .tb-nav-header-toolbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px}[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]   .tb-nav-header[_ngcontent-%COMP%]   .tb-nav-header-toolbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .tb-logo-title[_ngcontent-%COMP%]{width:auto;max-width:100%;height:36px;max-height:100%;margin:auto}[_nghost-%COMP%]   mat-sidenav.tb-site-sidenav[_ngcontent-%COMP%]   .tb-side-menu-toolbar[_ngcontent-%COMP%]{overflow-y:auto;height:inherit;padding:0}[_nghost-%COMP%]   .tb-primary-toolbar[_ngcontent-%COMP%]{z-index:2}[_nghost-%COMP%]   .tb-primary-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px!important;font-weight:400!important}[_nghost-%COMP%]   .tb-main-content[_ngcontent-%COMP%]{overflow:auto;position:relative}"]}),t}(f.a);!function(){i["\u0275setClassMetadata"](Qe,[{type:i.Component,args:[{selector:"tb-home",templateUrl:"./home.component.html",styleUrls:["./home.component.scss"]}]}],(function(){return[{type:y.Store},{type:Window,decorators:[{type:i.Inject,args:[ve.b]}]},{type:Ce.BreakpointObserver}]}),{sidenav:[{type:i.ViewChild,args:["sidenav"]}],searchInputField:[{type:i.ViewChild,args:["searchInput"]}]})}();var Xe=[{path:"",component:Qe,data:{title:"home.home",breadcrumb:{skip:!0}},canActivate:[J],canActivateChild:[J],loadChildren:function(){return Promise.all([n.e(5),n.e(18)]).then(n.bind(null,"Jka9")).then((function(e){return e.HomePagesModule}))}}],Je=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[y.StoreModule,s.RouterModule.forChild(Xe)],s.RouterModule]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](Je,{imports:[y.StoreModule,s.RouterModule],exports:[s.RouterModule]}));var $e=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[p.CommonModule,de.a,Je]]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"]($e,{declarations:[Qe,Ie,Ve,Ue],imports:[p.CommonModule,de.a,Je]}));var Ze=n("Sy1n"),et=[{path:"",data:{title:"dashboard.dashboard",breadcrumb:{skip:!0}},canActivate:[J],canActivateChild:[J],loadChildren:function(){return Promise.all([n.e(5),n.e(54)]).then(n.bind(null,"taxM")).then((function(e){return e.DashboardPagesModule}))}}],tt=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[y.StoreModule,s.RouterModule.forChild(et)],s.RouterModule]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](tt,{imports:[y.StoreModule,s.RouterModule],exports:[s.RouterModule]}));var nt=[{path:"**",redirectTo:"home"}],it=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.RouterModule.forChild(nt)],s.RouterModule]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](it,{imports:[s.RouterModule],exports:[s.RouterModule]}));var rt=function(){function e(){}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e,bootstrap:[Ze.a]}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[a.BrowserModule,o.b,c,u.a,me,$e,tt,it]]}),e}();void(("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](rt,{declarations:[Ze.a],imports:[a.BrowserModule,o.b,c,u.a,me,$e,tt,it]})),r.a.production&&Object(i.enableProdMode)(),a.platformBrowser().bootstrapModule(rt).catch((function(e){return console.error(e)}))},zhJb:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),r=n("3Pt+"),a=n("aX2P"),o=n("XiUz"),s=n("kmnG"),l=n("sYmb"),c=n("d3UM"),u=n("ofXK"),p=n("FKr1");function d(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-option",5),i["\u0275\u0275text"](1),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",n),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](2,2,r.timeIntervalTranslationMap.get(n))," ")}}var m=function(){function e(){this.allIntervals=Object.values(a.f),this.timeIntervalTranslationMap=a.g,this.rendered=!1,this.onlyCurrentInterval=!1,this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"intervals",{get:function(){return this.onlyCurrentInterval?this.allIntervals.filter((function(e){return e.startsWith("CURRENT_")})):this.allIntervals},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){this.modelValue=e},e.prototype.onIntervalChange=function(){this.propagateChange(this.modelValue)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["tb-quick-time-interval"]],inputs:{disabled:"disabled",onlyCurrentInterval:"onlyCurrentInterval"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return e})),multi:!0}])],decls:6,vars:3,consts:[["fxLayout","row","fxFlex","",1,"interval-section"],["fxFlex",""],["translate",""],[3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"mat-form-field",1),i["\u0275\u0275elementStart"](2,"mat-label",2),i["\u0275\u0275text"](3,"timewindow.interval"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"mat-select",3),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.modelValue=e}))("ngModelChange",(function(){return t.onIntervalChange()})),i["\u0275\u0275template"](5,d,3,4,"mat-option",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("disabled",t.disabled)("ngModel",t.modelValue),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.intervals))},directives:[o.f,o.b,s.MatFormField,s.MatLabel,l.TranslateDirective,c.MatSelect,r.NgControlStatus,r.NgModel,u.NgForOf,p.MatOption],pipes:[l.TranslatePipe],styles:["[_nghost-%COMP%]{min-width:364px}"]}),e}();!function(){i["\u0275setClassMetadata"](m,[{type:i.Component,args:[{selector:"tb-quick-time-interval",templateUrl:"./quick-time-interval.component.html",styleUrls:["./quick-time-interval.component.scss"],providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:Object(i.forwardRef)((function(){return m})),multi:!0}]}]}],(function(){return[]}),{disabled:[{type:i.Input}],onlyCurrentInterval:[{type:i.Input}]})}()},zp9Z:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.SYS_ADMIN="SYS_ADMIN",e.TENANT_ADMIN="TENANT_ADMIN",e.CUSTOMER_USER="CUSTOMER_USER",e.REFRESH_TOKEN="REFRESH_TOKEN",e.ANONYMOUS="ANONYMOUS"}(i||(i={}))}},[[0,1,15]]]);