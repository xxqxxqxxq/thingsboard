(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1uSB":function(e,t,n){"use strict";n.r(t),n.d(t,"AST",(function(){return ns})),n.d(t,"ASTWithName",(function(){return rs})),n.d(t,"ASTWithSource",(function(){return Os})),n.d(t,"AbsoluteSourceSpan",(function(){return Cs})),n.d(t,"AotCompiler",(function(){return Zv})),n.d(t,"AotSummaryResolver",(function(){return Nf})),n.d(t,"ArrayType",(function(){return ke})),n.d(t,"AssertNotNull",(function(){return nt})),n.d(t,"AstMemoryEfficientTransformer",(function(){return Ms})),n.d(t,"AstPath",(function(){return Ao})),n.d(t,"AstTransformer",(function(){return Ps})),n.d(t,"AttrAst",(function(){return ju})),n.d(t,"Attribute",(function(){return Lo})),n.d(t,"Binary",(function(){return bs})),n.d(t,"BinaryOperator",(function(){return ye})),n.d(t,"BinaryOperatorExpr",(function(){return ot})),n.d(t,"BindingPipe",(function(){return fs})),n.d(t,"BoundDirectivePropertyAst",(function(){return Fu})),n.d(t,"BoundElementProperty",(function(){return Ds})),n.d(t,"BoundElementPropertyAst",(function(){return Pu})),n.d(t,"BoundEventAst",(function(){return Mu})),n.d(t,"BoundTextAst",(function(){return Tu})),n.d(t,"BuiltinMethod",(function(){return Me})),n.d(t,"BuiltinType",(function(){return ge})),n.d(t,"BuiltinTypeName",(function(){return fe})),n.d(t,"BuiltinVar",(function(){return Ne})),n.d(t,"CONTENT_ATTR",(function(){return To})),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",(function(){return ne})),n.d(t,"CastExpr",(function(){return rt})),n.d(t,"Chain",(function(){return os})),n.d(t,"ClassField",(function(){return xt})),n.d(t,"ClassMethod",(function(){return wt})),n.d(t,"ClassStmt",(function(){return Ot})),n.d(t,"CommaExpr",(function(){return vt})),n.d(t,"Comment",(function(){return Vo})),n.d(t,"CompileDirectiveMetadata",(function(){return rr})),n.d(t,"CompileMetadataResolver",(function(){return Zp})),n.d(t,"CompileNgModuleMetadata",(function(){return sr})),n.d(t,"CompilePipeMetadata",(function(){return ir})),n.d(t,"CompileReflector",(function(){return Kf})),n.d(t,"CompileShallowModuleMetadata",(function(){return ar})),n.d(t,"CompileStylesheetMetadata",(function(){return tr})),n.d(t,"CompileSummaryKind",(function(){return zn})),n.d(t,"CompileTemplateMetadata",(function(){return nr})),n.d(t,"CompiledStylesheet",(function(){return No})),n.d(t,"CompilerConfig",(function(){return Xh})),n.d(t,"Conditional",(function(){return us})),n.d(t,"ConditionalExpr",(function(){return et})),n.d(t,"ConstantPool",(function(){return Mn})),n.d(t,"CssSelector",(function(){return I})),n.d(t,"DEFAULT_INTERPOLATION_CONFIG",(function(){return Na})),n.d(t,"DYNAMIC_TYPE",(function(){return Ee})),n.d(t,"DeclareFunctionStmt",(function(){return kt})),n.d(t,"DeclareVarStmt",(function(){return bt})),n.d(t,"DirectiveAst",(function(){return Lu})),n.d(t,"DirectiveNormalizer",(function(){return $h})),n.d(t,"DirectiveResolver",(function(){return Zh})),n.d(t,"DomElementSchemaRegistry",(function(){return ll})),n.d(t,"EOF",(function(){return Vc})),n.d(t,"ERROR_COMPONENT_TYPE",(function(){return Jp})),n.d(t,"Element",(function(){return Bo})),n.d(t,"ElementAst",(function(){return Ru})),n.d(t,"ElementSchemaRegistry",(function(){return ol})),n.d(t,"EmbeddedTemplateAst",(function(){return Du})),n.d(t,"EmitterVisitorContext",(function(){return Ba})),n.d(t,"EmptyExpr",(function(){return as})),n.d(t,"Expansion",(function(){return Do})),n.d(t,"ExpansionCase",(function(){return Fo})),n.d(t,"Expression",(function(){return Pe})),n.d(t,"ExpressionBinding",(function(){return js})),n.d(t,"ExpressionStatement",(function(){return _t})),n.d(t,"ExpressionType",(function(){return be})),n.d(t,"ExternalExpr",(function(){return Je})),n.d(t,"ExternalReference",(function(){return Ze})),n.d(t,"Extractor",(function(){return td})),n.d(t,"FunctionCall",(function(){return ws})),n.d(t,"FunctionExpr",(function(){return at})),n.d(t,"GeneratedFile",(function(){return Lv})),n.d(t,"HOST_ATTR",(function(){return Oo})),n.d(t,"HtmlParser",(function(){return fu})),n.d(t,"HtmlTagDefinition",(function(){return j})),n.d(t,"I18NHtmlParser",(function(){return Cp})),n.d(t,"Identifiers",(function(){return Ln})),n.d(t,"IfStmt",(function(){return Tt})),n.d(t,"ImplicitReceiver",(function(){return ss})),n.d(t,"InstantiateExpr",(function(){return Ue})),n.d(t,"Interpolation",(function(){return gs})),n.d(t,"InterpolationConfig",(function(){return ja})),n.d(t,"InvokeFunctionExpr",(function(){return Ve})),n.d(t,"InvokeMethodExpr",(function(){return Be})),n.d(t,"IvyParser",(function(){return el})),n.d(t,"JSDocComment",(function(){return yt})),n.d(t,"JitCompiler",(function(){return Hf})),n.d(t,"JitEvaluator",(function(){return Wa})),n.d(t,"JitSummaryResolver",(function(){return If})),n.d(t,"KeyedRead",(function(){return ps})),n.d(t,"KeyedWrite",(function(){return vs})),n.d(t,"LeadingComment",(function(){return mt})),n.d(t,"Lexer",(function(){return Dc})),n.d(t,"LiteralArray",(function(){return ms})),n.d(t,"LiteralArrayExpr",(function(){return lt})),n.d(t,"LiteralExpr",(function(){return He})),n.d(t,"LiteralMap",(function(){return ys})),n.d(t,"LiteralMapExpr",(function(){return pt})),n.d(t,"LiteralPrimitive",(function(){return ds})),n.d(t,"LocalizedString",(function(){return Ke})),n.d(t,"MapType",(function(){return _e})),n.d(t,"MessageBundle",(function(){return Dv})),n.d(t,"MethodCall",(function(){return Ss})),n.d(t,"NAMED_ENTITIES",(function(){return w})),n.d(t,"NGSP_UNICODE",(function(){return C})),n.d(t,"NONE_TYPE",(function(){return Oe})),n.d(t,"NO_ERRORS_SCHEMA",(function(){return re})),n.d(t,"NgContentAst",(function(){return Vu})),n.d(t,"NgModuleCompiler",(function(){return pv})),n.d(t,"NgModuleResolver",(function(){return vv})),n.d(t,"NodeWithI18n",(function(){return Io})),n.d(t,"NonNullAssert",(function(){return Es})),n.d(t,"NotExpr",(function(){return tt})),n.d(t,"NullTemplateVisitor",(function(){return Uu})),n.d(t,"ParseError",(function(){return Ar})),n.d(t,"ParseErrorLevel",(function(){return jr})),n.d(t,"ParseLocation",(function(){return Nr})),n.d(t,"ParseSourceFile",(function(){return Pr})),n.d(t,"ParseSourceSpan",(function(){return Mr})),n.d(t,"ParseSpan",(function(){return ts})),n.d(t,"ParseTreeResult",(function(){return lu})),n.d(t,"ParsedEvent",(function(){return Is})),n.d(t,"ParsedProperty",(function(){return As})),n.d(t,"ParsedPropertyType",(function(){return Za})),n.d(t,"ParsedVariable",(function(){return Rs})),n.d(t,"Parser",(function(){return Zc})),n.d(t,"ParserError",(function(){return es})),n.d(t,"PipeResolver",(function(){return yv})),n.d(t,"PrefixNot",(function(){return _s})),n.d(t,"PropertyRead",(function(){return cs})),n.d(t,"PropertyWrite",(function(){return ls})),n.d(t,"ProviderAst",(function(){return Bu})),n.d(t,"ProviderAstType",(function(){return Cu})),n.d(t,"ProviderMeta",(function(){return cr})),n.d(t,"Quote",(function(){return is})),n.d(t,"R3BoundTarget",(function(){return sd})),n.d(t,"R3FactoryTarget",(function(){return fa})),n.d(t,"R3Identifiers",(function(){return yr})),n.d(t,"R3ResolvedDependencyType",(function(){return da})),n.d(t,"R3TargetBinder",(function(){return nd})),n.d(t,"ReadKeyExpr",(function(){return ct})),n.d(t,"ReadPropExpr",(function(){return ut})),n.d(t,"ReadVarExpr",(function(){return Ae})),n.d(t,"RecursiveAstVisitor",(function(){return Ns})),n.d(t,"RecursiveTemplateAstVisitor",(function(){return Hu})),n.d(t,"RecursiveVisitor",(function(){return qo})),n.d(t,"ReferenceAst",(function(){return Au})),n.d(t,"ResolvedStaticSymbol",(function(){return Wv})),n.d(t,"ResourceLoader",(function(){return Ph})),n.d(t,"ReturnStatement",(function(){return Et})),n.d(t,"STRING_TYPE",(function(){return Ce})),n.d(t,"SafeMethodCall",(function(){return xs})),n.d(t,"SafePropertyRead",(function(){return hs})),n.d(t,"SelectorContext",(function(){return F})),n.d(t,"SelectorListContext",(function(){return D})),n.d(t,"SelectorMatcher",(function(){return R})),n.d(t,"Serializer",(function(){return ji})),n.d(t,"SplitInterpolation",(function(){return Xc})),n.d(t,"Statement",(function(){return gt})),n.d(t,"StaticReflector",(function(){return bf})),n.d(t,"StaticSymbol",(function(){return Un})),n.d(t,"StaticSymbolCache",(function(){return Hn})),n.d(t,"StaticSymbolResolver",(function(){return zv})),n.d(t,"StmtModifier",(function(){return Ye})),n.d(t,"StyleCompiler",(function(){return Po})),n.d(t,"StylesCompileDependency",(function(){return jo})),n.d(t,"SummaryResolver",(function(){return Af})),n.d(t,"TagContentType",(function(){return i})),n.d(t,"TemplateBindingParseResult",(function(){return Gc})),n.d(t,"TemplateParseError",(function(){return fc})),n.d(t,"TemplateParseResult",(function(){return dc})),n.d(t,"TemplateParser",(function(){return mc})),n.d(t,"Text",(function(){return Ro})),n.d(t,"TextAst",(function(){return Ou})),n.d(t,"ThrowStmt",(function(){return Nt})),n.d(t,"TmplAstBoundAttribute",(function(){return Br})),n.d(t,"TmplAstBoundEvent",(function(){return Vr})),n.d(t,"TmplAstBoundText",(function(){return Fr})),n.d(t,"TmplAstContent",(function(){return qr})),n.d(t,"TmplAstElement",(function(){return Ur})),n.d(t,"TmplAstRecursiveVisitor",(function(){return Qr})),n.d(t,"TmplAstReference",(function(){return zr})),n.d(t,"TmplAstTemplate",(function(){return Hr})),n.d(t,"TmplAstText",(function(){return Dr})),n.d(t,"TmplAstTextAttribute",(function(){return Lr})),n.d(t,"TmplAstVariable",(function(){return Wr})),n.d(t,"Token",(function(){return Fc})),n.d(t,"TokenType",(function(){return Nc})),n.d(t,"TransitiveCompileNgModuleMetadata",(function(){return or})),n.d(t,"TreeError",(function(){return cu})),n.d(t,"TryCatchStmt",(function(){return jt})),n.d(t,"Type",(function(){return de})),n.d(t,"TypeScriptEmitter",(function(){return dv})),n.d(t,"TypeofExpr",(function(){return Ie})),n.d(t,"Unary",(function(){return ks})),n.d(t,"UnaryOperator",(function(){return me})),n.d(t,"UnaryOperatorExpr",(function(){return st})),n.d(t,"UrlResolver",(function(){return Gf})),n.d(t,"VERSION",(function(){return Qh})),n.d(t,"VariableAst",(function(){return Iu})),n.d(t,"VariableBinding",(function(){return Ts})),n.d(t,"Version",(function(){return Sn})),n.d(t,"ViewCompiler",(function(){return Ev})),n.d(t,"WrappedNodeExpr",(function(){return Re})),n.d(t,"WriteKeyExpr",(function(){return Fe})),n.d(t,"WritePropExpr",(function(){return Le})),n.d(t,"WriteVarExpr",(function(){return De})),n.d(t,"Xliff",(function(){return vp})),n.d(t,"Xliff2",(function(){return yp})),n.d(t,"Xmb",(function(){return Vi})),n.d(t,"XmlParser",(function(){return pp})),n.d(t,"Xtb",(function(){return _p})),n.d(t,"_ParseAST",(function(){return nl})),n.d(t,"analyzeAndValidateNgModules",(function(){return af})),n.d(t,"analyzeFile",(function(){return of})),n.d(t,"analyzeFileForInjectables",(function(){return uf})),n.d(t,"analyzeNgModules",(function(){return rf})),n.d(t,"collectExternalReferences",(function(){return Rt})),n.d(t,"compileComponentFromMetadata",(function(){return yh})),n.d(t,"compileDirectiveFromMetadata",(function(){return mh})),n.d(t,"compileFactoryFunction",(function(){return ka})),n.d(t,"compileInjectable",(function(){return xa})),n.d(t,"compileInjector",(function(){return Ga})),n.d(t,"compileNgModule",(function(){return Xa})),n.d(t,"compilePipeFromMetadata",(function(){return Ja})),n.d(t,"componentFactoryName",(function(){return Jn})),n.d(t,"computeMsgId",(function(){return fi})),n.d(t,"core",(function(){return ve})),n.d(t,"createAotCompiler",(function(){return Mf})),n.d(t,"createAotUrlResolver",(function(){return Pf})),n.d(t,"createElementCssSelector",(function(){return Ec})),n.d(t,"createLoweredSymbol",(function(){return Xp})),n.d(t,"createOfflineCompileUrlResolver",(function(){return Xf})),n.d(t,"createUrlResolverWithoutPackagePrefix",(function(){return Qf})),n.d(t,"debugOutputAstAsTypeScript",(function(){return fv})),n.d(t,"findNode",(function(){return Wo})),n.d(t,"flatten",(function(){return lr})),n.d(t,"formattedError",(function(){return pf})),n.d(t,"getHtmlTagDefinition",(function(){return N})),n.d(t,"getNsPrefix",(function(){return S})),n.d(t,"getParseErrors",(function(){return mn})),n.d(t,"getUrlScheme",(function(){return $f})),n.d(t,"hostViewClassName",(function(){return Yn})),n.d(t,"identifierModuleUrl",(function(){return Xn})),n.d(t,"identifierName",(function(){return Qn})),n.d(t,"isEmptyExpression",(function(){return Oc})),n.d(t,"isFormattedError",(function(){return vf})),n.d(t,"isIdentifier",(function(){return qc})),n.d(t,"isLoweredSymbol",(function(){return Qp})),n.d(t,"isNgContainer",(function(){return k})),n.d(t,"isNgContent",(function(){return _})),n.d(t,"isNgTemplate",(function(){return E})),n.d(t,"isQuote",(function(){return Kc})),n.d(t,"isSyntaxError",(function(){return dn})),n.d(t,"jsDocComment",(function(){return Ut})),n.d(t,"leadingComment",(function(){return Vt})),n.d(t,"literalMap",(function(){return Xt})),n.d(t,"makeBindingParser",(function(){return ah})),n.d(t,"mergeAnalyzedFiles",(function(){return cf})),n.d(t,"mergeNsAndName",(function(){return x})),n.d(t,"ngModuleJitUrl",(function(){return fr})),n.d(t,"parseHostBindings",(function(){return jh})),n.d(t,"parseTemplate",(function(){return rh})),n.d(t,"preserveWhitespacesDefault",(function(){return Gh})),n.d(t,"publishFacade",(function(){return Kh})),n.d(t,"r3JitTypeSourceSpan",(function(){return Rr})),n.d(t,"removeSummaryDuplicates",(function(){return Cc})),n.d(t,"rendererTypeName",(function(){return $n})),n.d(t,"sanitizeIdentifier",(function(){return Wn})),n.d(t,"sharedStylesheetJitUrl",(function(){return vr})),n.d(t,"splitClasses",(function(){return kc})),n.d(t,"splitNsName",(function(){return b})),n.d(t,"syntaxError",(function(){return pn})),n.d(t,"templateJitUrl",(function(){return dr})),n.d(t,"templateSourceUrl",(function(){return pr})),n.d(t,"templateVisitAll",(function(){return qu})),n.d(t,"toTypeScript",(function(){return Bv})),n.d(t,"tokenName",(function(){return Zn})),n.d(t,"tokenReference",(function(){return er})),n.d(t,"typeSourceSpan",(function(){return Ir})),n.d(t,"unescapeIdentifier",(function(){return Kv})),n.d(t,"unwrapResolvedMetadata",(function(){return Qv})),n.d(t,"verifyHostBindings",(function(){return Nh})),n.d(t,"viewClassName",(function(){return Gn})),n.d(t,"visitAll",(function(){return Uo}));var r,i,a=n("rePB"),s=n("md7G"),o=n("T5bk"),u=n("RHh3"),c=n("ODXe"),l=n("JX7q"),h=n("uFwe"),p=n("ReuC"),v=n("foSv"),f=n("Ji7U"),d=n("LK+K"),m=n("KQm4"),y=n("1OyB"),g=n("vuIU");function b(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'.concat(e,'" expecting ":namespace:name"'));return[e.slice(1,t),e.slice(t+1)]}function k(e){return"ng-container"===b(e)[1]}function _(e){return"ng-content"===b(e)[1]}function E(e){return"ng-template"===b(e)[1]}function S(e){return null===e?null:b(e)[0]}function x(e,t){return e?":".concat(e,":").concat(t):t}!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(i||(i={}));var w={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},C="\ue500";w.ngsp=C;var O,T,j=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.closedByChildren,a=n.implicitNamespacePrefix,s=n.contentType,o=void 0===s?i.PARSABLE_DATA:s,u=n.closedByParent,c=void 0!==u&&u,l=n.isVoid,h=void 0!==l&&l,p=n.ignoreFirstLf,v=void 0!==p&&p,f=n.preventNamespaceInheritance,d=void 0!==f&&f;Object(y.a)(this,e),this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&r.length>0&&r.forEach((function(e){return t.closedByChildren[e]=!0})),this.isVoid=h,this.closedByParent=c||h,this.implicitNamespacePrefix=a||null,this.contentType=o,this.ignoreFirstLf=v,this.preventNamespaceInheritance=d}return Object(g.a)(e,[{key:"isClosedByChild",value:function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}}]),e}();function N(e){var t,n;return T||(O=new j,T={base:new j({isVoid:!0}),meta:new j({isVoid:!0}),area:new j({isVoid:!0}),embed:new j({isVoid:!0}),link:new j({isVoid:!0}),img:new j({isVoid:!0}),input:new j({isVoid:!0}),param:new j({isVoid:!0}),hr:new j({isVoid:!0}),br:new j({isVoid:!0}),source:new j({isVoid:!0}),track:new j({isVoid:!0}),wbr:new j({isVoid:!0}),p:new j({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new j({closedByChildren:["tbody","tfoot"]}),tbody:new j({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new j({closedByChildren:["tbody"],closedByParent:!0}),tr:new j({closedByChildren:["tr"],closedByParent:!0}),td:new j({closedByChildren:["td","th"],closedByParent:!0}),th:new j({closedByChildren:["td","th"],closedByParent:!0}),col:new j({isVoid:!0}),svg:new j({implicitNamespacePrefix:"svg"}),foreignObject:new j({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new j({implicitNamespacePrefix:"math"}),li:new j({closedByChildren:["li"],closedByParent:!0}),dt:new j({closedByChildren:["dt","dd"]}),dd:new j({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new j({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new j({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new j({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new j({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new j({closedByChildren:["optgroup"],closedByParent:!0}),option:new j({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new j({ignoreFirstLf:!0}),listing:new j({ignoreFirstLf:!0}),style:new j({contentType:i.RAW_TEXT}),script:new j({contentType:i.RAW_TEXT}),title:new j({contentType:i.ESCAPABLE_RAW_TEXT}),textarea:new j({contentType:i.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),null!==(n=null!==(t=T[e])&&void 0!==t?t:T[e.toLowerCase()])&&void 0!==n?n:O}var P,M,A=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),I=function(){function e(){Object(y.a)(this,e),this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return Object(g.a)(e,[{key:"isElementSelector",value:function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}},{key:"hasElementSelector",value:function(){return!!this.element}},{key:"setElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.element=e}},{key:"getMatchingElementTemplate",value:function(){for(var e=this.element||"div",t=this.classNames.length>0?' class="'.concat(this.classNames.join(" "),'"'):"",n="",r=0;r<this.attrs.length;r+=2){var i=this.attrs[r],a=""!==this.attrs[r+1]?'="'.concat(this.attrs[r+1],'"'):"";n+=" ".concat(i).concat(a)}return N(e).isVoid?"<".concat(e).concat(t).concat(n,"/>"):"<".concat(e).concat(t).concat(n,"></").concat(e,">")}},{key:"getAttrs",value:function(){var e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}},{key:"addAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.attrs.push(e,t&&t.toLowerCase()||"")}},{key:"addClassName",value:function(e){this.classNames.push(e.toLowerCase())}},{key:"toString",value:function(){var e=this.element||"";if(this.classNames&&this.classNames.forEach((function(t){return e+=".".concat(t)})),this.attrs)for(var t=0;t<this.attrs.length;t+=2){var n=this.attrs[t],r=this.attrs[t+1];e+="[".concat(n).concat(r?"="+r:"","]")}return this.notSelectors.forEach((function(t){return e+=":not(".concat(t,")")})),e}}],[{key:"parse",value:function(t){var n,r=[],i=function(e,t){t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)},a=new e,s=a,o=!1;for(A.lastIndex=0;n=A.exec(t);){if(n[1]){if(o)throw new Error("Nesting :not in a selector is not allowed");o=!0,s=new e,a.notSelectors.push(s)}var u=n[2];if(u){var c=n[3];"#"===c?s.addAttribute("id",u.substr(1)):"."===c?s.addClassName(u.substr(1)):s.setElement(u)}var l=n[4];if(l&&s.addAttribute(l,n[6]),n[7]&&(o=!1,s=a),n[8]){if(o)throw new Error("Multiple selectors in :not are not supported");i(r,a),a=s=new e}}return i(r,a),r}}]),e}(),R=function(){function e(){Object(y.a)(this,e),this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return Object(g.a)(e,[{key:"addSelectables",value:function(e,t){var n=null;e.length>1&&(n=new D(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)}},{key:"_addSelectable",value:function(e,t,n){var r=this,i=e.element,a=e.classNames,s=e.attrs,o=new F(e,t,n);i&&(0===s.length&&0===a.length?this._addTerminal(r._elementMap,i,o):r=this._addPartial(r._elementPartialMap,i));if(a)for(var u=0;u<a.length;u++){var c=0===s.length&&u===a.length-1,l=a[u];c?this._addTerminal(r._classMap,l,o):r=this._addPartial(r._classPartialMap,l)}if(s)for(var h=0;h<s.length;h+=2){var p=h===s.length-2,v=s[h],f=s[h+1];if(p){var d=r._attrValueMap,m=d.get(v);m||(m=new Map,d.set(v,m)),this._addTerminal(m,f,o)}else{var y=r._attrValuePartialMap,g=y.get(v);g||(g=new Map,y.set(v,g)),r=this._addPartial(g,f)}}}},{key:"_addTerminal",value:function(e,t,n){var r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}},{key:"_addPartial",value:function(t,n){var r=t.get(n);return r||(r=new e,t.set(n,r)),r}},{key:"match",value:function(e,t){for(var n=!1,r=e.element,i=e.classNames,a=e.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(var o=0;o<i.length;o++){var u=i[o];n=this._matchTerminal(this._classMap,u,e,t)||n,n=this._matchPartial(this._classPartialMap,u,e,t)||n}if(a)for(var c=0;c<a.length;c+=2){var l=a[c],h=a[c+1],p=this._attrValueMap.get(l);h&&(n=this._matchTerminal(p,"",e,t)||n),n=this._matchTerminal(p,h,e,t)||n;var v=this._attrValuePartialMap.get(l);h&&(n=this._matchPartial(v,"",e,t)||n),n=this._matchPartial(v,h,e,t)||n}return n}},{key:"_matchTerminal",value:function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t)||[],a=e.get("*");if(a&&(i=i.concat(a)),0===i.length)return!1;for(var s=!1,o=0;o<i.length;o++)s=i[o].finalize(n,r)||s;return s}},{key:"_matchPartial",value:function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t);return!!i&&i.match(n,r)}}],[{key:"createNotMatcher",value:function(t){var n=new e;return n.addSelectables(t,null),n}}]),e}(),D=function e(t){Object(y.a)(this,e),this.selectors=t,this.alreadyMatched=!1},F=function(){function e(t,n,r){Object(y.a)(this,e),this.selector=t,this.cbContext=n,this.listContext=r,this.notSelectors=t.notSelectors}return Object(g.a)(e,[{key:"finalize",value:function(e,t){var n=!0;!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(n=!R.createNotMatcher(this.notSelectors).match(e,null));return!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}]),e}(),L=ce("Inject",(function(e){return{token:e}})),B=ce("InjectionToken",(function(e){return{_desc:e,"\u0275prov":void 0}})),V=ce("Attribute",(function(e){return{attributeName:e}})),U=ce("ContentChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)})),H=ce("ContentChild",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)})),q=ce("ViewChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)})),W=ce("ViewChild",(function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)})),z=ce("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}));!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(P||(P={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(M||(M={}));var K,Q,X=ce("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:M.Default},e)})),G=ce("Pipe",(function(e){return Object.assign({pure:!0},e)})),$=ce("Input",(function(e){return{bindingPropertyName:e}})),Y=ce("Output",(function(e){return{bindingPropertyName:e}})),J=ce("HostBinding",(function(e){return{hostPropertyName:e}})),Z=ce("HostListener",(function(e,t){return{eventName:e,args:t}})),ee=ce("NgModule",(function(e){return e})),te=ce("Injectable",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),ne={name:"custom-elements"},re={name:"no-errors-schema"},ie=ce("Optional"),ae=ce("Self"),se=ce("SkipSelf"),oe=ce("Host"),ue=Function;function ce(e,t){function n(){var n=t?t.apply(void 0,arguments):{};return Object.assign({ngMetadataName:e},n)}return n.isTypeOf=function(t){return t&&t.ngMetadataName===e},n.ngMetadataName=e,n}function le(e){var t=function(e){var t=e.classNames&&e.classNames.length?[8].concat(Object(m.a)(e.classNames)):[];return[e.element&&"*"!==e.element?e.element:""].concat(Object(m.a)(e.attrs),Object(m.a)(t))}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map((function(e){return function(e){var t=e.classNames&&e.classNames.length?[8].concat(Object(m.a)(e.classNames)):[];return e.element?[5,e.element].concat(Object(m.a)(e.attrs),Object(m.a)(t)):e.attrs.length?[3].concat(Object(m.a)(e.attrs),Object(m.a)(t)):e.classNames&&e.classNames.length?[9].concat(Object(m.a)(e.classNames)):[]}(e)})):[];return t.concat.apply(t,Object(m.a)(n))}function he(e){return e?I.parse(e).map(le):[]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(K||(K={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Q||(Q={}));var pe,ve=Object.freeze({__proto__:null,createInject:L,createInjectionToken:B,createAttribute:V,createContentChildren:U,createContentChild:H,createViewChildren:q,createViewChild:W,createDirective:z,get ViewEncapsulation(){return P},get ChangeDetectionStrategy(){return M},createComponent:X,createPipe:G,createInput:$,createOutput:Y,createHostBinding:J,createHostListener:Z,createNgModule:ee,createInjectable:te,CUSTOM_ELEMENTS_SCHEMA:ne,NO_ERRORS_SCHEMA:re,createOptional:ie,createSelf:ae,createSkipSelf:se,createHost:oe,Type:ue,get SecurityContext(){return K},get MissingTranslationStrategy(){return Q},parseSelectorToR3Selector:he});!function(e){e[e.Const=0]="Const"}(pe||(pe={}));var fe,de=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(y.a)(this,e),this.modifiers=t}return Object(g.a)(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}();!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(fe||(fe={}));var me,ye,ge=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,r)).name=e,i}return Object(g.a)(n,[{key:"visitType",value:function(e,t){return e.visitBuiltinType(this,t)}}]),n}(de),be=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(y.a)(this,n),(i=t.call(this,r)).value=e,i.typeParams=a,i}return Object(g.a)(n,[{key:"visitType",value:function(e,t){return e.visitExpressionType(this,t)}}]),n}(de),ke=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,r)).of=e,i}return Object(g.a)(n,[{key:"visitType",value:function(e,t){return e.visitArrayType(this,t)}}]),n}(de),_e=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,r)).valueType=e||null,i}return Object(g.a)(n,[{key:"visitType",value:function(e,t){return e.visitMapType(this,t)}}]),n}(de),Ee=new ge(fe.Dynamic),Se=new ge(fe.Inferred),xe=new ge(fe.Bool),we=(new ge(fe.Int),new ge(fe.Number)),Ce=new ge(fe.String),Oe=(new ge(fe.Function),new ge(fe.None));function Te(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function je(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!e[r].isEquivalent(t[r]))return!1;return!0}!function(e){e[e.Minus=0]="Minus",e[e.Plus=1]="Plus"}(me||(me={})),function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals"}(ye||(ye={}));var Ne,Pe=function(){function e(t,n){Object(y.a)(this,e),this.type=t||null,this.sourceSpan=n||null}return Object(g.a)(e,[{key:"prop",value:function(e,t){return new ut(this,e,null,t)}},{key:"key",value:function(e,t,n){return new ct(this,e,t,n)}},{key:"callMethod",value:function(e,t,n){return new Be(this,e,t,null,n)}},{key:"callFn",value:function(e,t,n){return new Ve(this,e,null,t,n)}},{key:"instantiate",value:function(e,t,n){return new Ue(this,e,t,n)}},{key:"conditional",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return new et(this,e,t,null,n)}},{key:"equals",value:function(e,t){return new ot(ye.Equals,this,e,null,t)}},{key:"notEquals",value:function(e,t){return new ot(ye.NotEquals,this,e,null,t)}},{key:"identical",value:function(e,t){return new ot(ye.Identical,this,e,null,t)}},{key:"notIdentical",value:function(e,t){return new ot(ye.NotIdentical,this,e,null,t)}},{key:"minus",value:function(e,t){return new ot(ye.Minus,this,e,null,t)}},{key:"plus",value:function(e,t){return new ot(ye.Plus,this,e,null,t)}},{key:"divide",value:function(e,t){return new ot(ye.Divide,this,e,null,t)}},{key:"multiply",value:function(e,t){return new ot(ye.Multiply,this,e,null,t)}},{key:"modulo",value:function(e,t){return new ot(ye.Modulo,this,e,null,t)}},{key:"and",value:function(e,t){return new ot(ye.And,this,e,null,t)}},{key:"bitwiseAnd",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new ot(ye.BitwiseAnd,this,e,null,t,n)}},{key:"or",value:function(e,t){return new ot(ye.Or,this,e,null,t)}},{key:"lower",value:function(e,t){return new ot(ye.Lower,this,e,null,t)}},{key:"lowerEquals",value:function(e,t){return new ot(ye.LowerEquals,this,e,null,t)}},{key:"bigger",value:function(e,t){return new ot(ye.Bigger,this,e,null,t)}},{key:"biggerEquals",value:function(e,t){return new ot(ye.BiggerEquals,this,e,null,t)}},{key:"isBlank",value:function(e){return this.equals(dt,e)}},{key:"cast",value:function(e,t){return new rt(this,e,t)}},{key:"toStmt",value:function(){return new _t(this,null)}}]),e}();!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(Ne||(Ne={}));var Me,Ae=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),a=t.call(this,r,i),"string"==typeof e?(a.name=e,a.builtin=null):(a.name=null,a.builtin=e),a}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&this.builtin===e.builtin}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadVarExpr(this,t)}},{key:"set",value:function(e){if(!this.name)throw new Error("Built in variable ".concat(this.builtin," can not be assigned to."));return new De(this.name,e,null,this.sourceSpan)}}]),n}(Pe),Ie=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).expr=e,a}return Object(g.a)(n,[{key:"visitExpression",value:function(e,t){return e.visitTypeofExpr(this,t)}},{key:"isEquivalent",value:function(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}},{key:"isConstant",value:function(){return this.expr.isConstant()}}]),n}(Pe),Re=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).node=e,a}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.node===e.node}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWrappedNodeExpr(this,t)}}]),n}(Pe),De=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,i||r.type,a)).name=e,s.value=r,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWriteVarExpr(this,t)}},{key:"toDeclStmt",value:function(e,t){return new bt(this.name,this.value,e,t,this.sourceSpan)}},{key:"toConstDecl",value:function(){return this.toDeclStmt(Se,[Ye.Final])}}]),n}(Pe),Fe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,a||i.type,s)).receiver=e,o.index=r,o.value=i,o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWriteKeyExpr(this,t)}}]),n}(Pe),Le=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,a||i.type,s)).receiver=e,o.name=r,o.value=i,o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWritePropExpr(this,t)}}]),n}(Pe);!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(Me||(Me={}));var Be=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,a,s)).receiver=e,o.args=i,"string"==typeof r?(o.name=r,o.builtin=null):(o.name=null,o.builtin=r),o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&je(this.args,e.args)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInvokeMethodExpr(this,t)}}]),n}(Pe),Ve=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(y.a)(this,n),(s=t.call(this,i,a)).fn=e,s.args=r,s.pure=o,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&je(this.args,e.args)&&this.pure===e.pure}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInvokeFunctionExpr(this,t)}}]),n}(Pe),Ue=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,i,a)).classExpr=e,s.args=r,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&je(this.args,e.args)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInstantiateExpr(this,t)}}]),n}(Pe),He=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).value=e,a}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value===e.value}},{key:"isConstant",value:function(){return!0}},{key:"visitExpression",value:function(e,t){return e.visitLiteralExpr(this,t)}}]),n}(Pe),qe=function e(t,n){Object(y.a)(this,e),this.text=t,this.sourceSpan=n},We=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return n}(qe),ze=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return n}(qe),Ke=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,Ce,s)).metaBlock=e,o.messageParts=r,o.placeHolderNames=i,o.expressions=a,o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return!1}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitLocalizedString(this,t)}},{key:"serializeI18nHead",value:function(){var e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e="".concat(this.metaBlock.meaning).concat("|").concat(e)),this.metaBlock.customId&&(e="".concat(e).concat("@@").concat(this.metaBlock.customId)),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach((function(t){e="".concat(e).concat("\u241f").concat(t)})),$e(e,this.messageParts[0].text)}},{key:"getMessagePartSourceSpan",value:function(e){var t,n;return null!==(n=null===(t=this.messageParts[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:this.sourceSpan}},{key:"getPlaceholderSourceSpan",value:function(e){var t,n,r,i;return null!==(i=null!==(n=null===(t=this.placeHolderNames[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:null===(r=this.expressions[e])||void 0===r?void 0:r.sourceSpan)&&void 0!==i?i:this.sourceSpan}},{key:"serializeI18nTemplatePart",value:function(e){return $e(this.placeHolderNames[e-1].text,this.messageParts[e].text)}}]),n}(Pe),Qe=function(e){return e.replace(/\\/g,"\\\\")},Xe=function(e){return e.replace(/:/g,"\\:")},Ge=function(e){return e.replace(/`/g,"\\`").replace(/\${/g,"$\\{")};function $e(e,t){return""===e?{cooked:t,raw:Ge((n=Qe(t),n.replace(/^:/,"\\:")))}:{cooked:":".concat(e,":").concat(t),raw:Ge(":".concat(Xe(Qe(e)),":").concat(Qe(t)))};var n}var Ye,Je=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return Object(y.a)(this,n),(i=t.call(this,r,s)).value=e,i.typeParams=a,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitExternalExpr(this,t)}}]),n}(Pe),Ze=function e(t,n,r){Object(y.a)(this,e),this.moduleName=t,this.name=n,this.runtime=r},et=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object(y.a)(this,n),(i=t.call(this,s||r.type,o)).condition=e,i.falseCase=a,i.trueCase=r,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&Te(this.falseCase,e.falseCase)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitConditionalExpr(this,t)}}]),n}(Pe),tt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,xe,r)).condition=e,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitNotExpr(this,t)}}]),n}(Pe),nt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,e.type,r)).condition=e,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitAssertNotNullExpr(this,t)}}]),n}(Pe),rt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).value=e,a}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitCastExpr(this,t)}}]),n}(Pe),it=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(y.a)(this,e),this.name=t,this.type=n}return Object(g.a)(e,[{key:"isEquivalent",value:function(e){return this.name===e.name}}]),e}(),at=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,i,a)).params=e,o.statements=r,o.name=s,o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&je(this.params,e.params)&&je(this.statements,e.statements)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitFunctionExpr(this,t)}},{key:"toDeclStmt",value:function(e,t){return new kt(e,this.params,this.statements,this.type,t,this.sourceSpan)}}]),n}(Pe),st=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return Object(y.a)(this,n),(s=t.call(this,i||we,a)).operator=e,s.expr=r,s.parens=o,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitUnaryOperatorExpr(this,t)}}]),n}(Pe),ot=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return Object(y.a)(this,n),(o=t.call(this,a||r.type,s)).operator=e,o.rhs=i,o.parens=u,o.lhs=r,o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitBinaryOperatorExpr(this,t)}}]),n}(Pe),ut=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,i,a)).receiver=e,s.name=r,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadPropExpr(this,t)}},{key:"set",value:function(e){return new Le(this.receiver,this.name,e,null,this.sourceSpan)}}]),n}(Pe),ct=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,i,a)).receiver=e,s.index=r,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadKeyExpr(this,t)}},{key:"set",value:function(e){return new Fe(this.receiver,this.index,e,null,this.sourceSpan)}}]),n}(Pe),lt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).entries=e,a}return Object(g.a)(n,[{key:"isConstant",value:function(){return this.entries.every((function(e){return e.isConstant()}))}},{key:"isEquivalent",value:function(e){return e instanceof n&&je(this.entries,e.entries)}},{key:"visitExpression",value:function(e,t){return e.visitLiteralArrayExpr(this,t)}}]),n}(Pe),ht=function(){function e(t,n,r){Object(y.a)(this,e),this.key=t,this.value=n,this.quoted=r}return Object(g.a)(e,[{key:"isEquivalent",value:function(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}]),e}(),pt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).entries=e,a.valueType=null,r&&(a.valueType=r.valueType),a}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&je(this.entries,e.entries)}},{key:"isConstant",value:function(){return this.entries.every((function(e){return e.value.isConstant()}))}},{key:"visitExpression",value:function(e,t){return e.visitLiteralMapExpr(this,t)}}]),n}(Pe),vt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,e[e.length-1].type,r)).parts=e,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&je(this.parts,e.parts)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitCommaExpr(this,t)}}]),n}(Pe),ft=(new Ae(Ne.This,null,null),new Ae(Ne.Super,null,null),new Ae(Ne.CatchError,null,null),new Ae(Ne.CatchStack,null,null),new He(null,null,null)),dt=new He(null,Se,null);!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(Ye||(Ye={}));var mt=function(){function e(t,n,r){Object(y.a)(this,e),this.text=t,this.multiline=n,this.trailingNewline=r}return Object(g.a)(e,[{key:"toString",value:function(){return this.multiline?" ".concat(this.text," "):this.text}}]),e}(),yt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,"",!0,!0)).tags=e,r}return Object(g.a)(n,[{key:"toString",value:function(){return function(e){if(0===e.length)return"";if(1===e.length&&e[0].tagName&&!e[0].text)return"*".concat(Zt(e[0])," ");var t,n="*\n",r=Object(h.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=" *",n+=Zt(i).replace(/\n/g,"\n * "),n+="\n"}}catch(a){r.e(a)}finally{r.f()}return n+=" "}(this.tags)}}]),n}(mt),gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;Object(y.a)(this,e),this.modifiers=t,this.sourceSpan=n,this.leadingComments=r}return Object(g.a)(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}},{key:"addLeadingComment",value:function(e){var t;this.leadingComments=null!==(t=this.leadingComments)&&void 0!==t?t:[],this.leadingComments.push(e)}}]),e}(),bt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o){var u;return Object(y.a)(this,n),(u=t.call(this,a,s,o)).name=e,u.value=r,u.type=i||r&&r.type||null,u}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareVarStmt(this,t)}}]),n}(gt),kt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o,u){var c;return Object(y.a)(this,n),(c=t.call(this,s,o,u)).name=e,c.params=r,c.statements=i,c.type=a||null,c}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&je(this.params,e.params)&&je(this.statements,e.statements)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareFunctionStmt(this,t)}}]),n}(gt),_t=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,[],r,i)).expr=e,a}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}},{key:"visitStatement",value:function(e,t){return e.visitExpressionStmt(this,t)}}]),n}(gt),Et=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return Object(y.a)(this,n),(r=t.call(this,[],i,a)).value=e,r}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.value.isEquivalent(e.value)}},{key:"visitStatement",value:function(e,t){return e.visitReturnStmt(this,t)}}]),n}(gt),St=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(y.a)(this,e),this.type=t,this.modifiers=n}return Object(g.a)(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}(),xt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,r,i)).name=e,s.initializer=a,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return this.name===e.name}}]),n}(St),wt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,a,s)).name=e,o.params=r,o.body=i,o}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return this.name===e.name&&je(this.body,e.body)}}]),n}(St),Ct=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,i,a)).name=e,s.body=r,s}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return this.name===e.name&&je(this.body,e.body)}}]),n}(St),Ot=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o,u,c,l){var h;return Object(y.a)(this,n),(h=t.call(this,u,c,l)).name=e,h.parent=r,h.fields=i,h.getters=a,h.constructorMethod=s,h.methods=o,h}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.name===e.name&&Te(this.parent,e.parent)&&je(this.fields,e.fields)&&je(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&je(this.methods,e.methods)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareClassStmt(this,t)}}]),n}(gt),Tt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object(y.a)(this,n),(i=t.call(this,[],s,o)).condition=e,i.trueCase=r,i.falseCase=a,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&je(this.trueCase,e.trueCase)&&je(this.falseCase,e.falseCase)}},{key:"visitStatement",value:function(e,t){return e.visitIfStmt(this,t)}}]),n}(gt),jt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return Object(y.a)(this,n),(i=t.call(this,[],a,s)).bodyStmts=e,i.catchStmts=r,i}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof n&&je(this.bodyStmts,e.bodyStmts)&&je(this.catchStmts,e.catchStmts)}},{key:"visitStatement",value:function(e,t){return e.visitTryCatchStmt(this,t)}}]),n}(gt),Nt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return Object(y.a)(this,n),(r=t.call(this,[],i,a)).error=e,r}return Object(g.a)(n,[{key:"isEquivalent",value:function(e){return e instanceof jt&&this.error.isEquivalent(e.error)}},{key:"visitStatement",value:function(e,t){return e.visitThrowStmt(this,t)}}]),n}(gt),Pt=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"transformExpr",value:function(e,t){return e}},{key:"transformStmt",value:function(e,t){return e}},{key:"visitReadVarExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitWrappedNodeExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitTypeofExpr",value:function(e,t){return this.transformExpr(new Ie(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWriteVarExpr",value:function(e,t){return this.transformExpr(new De(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWriteKeyExpr",value:function(e,t){return this.transformExpr(new Fe(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWritePropExpr",value:function(e,t){return this.transformExpr(new Le(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitInvokeMethodExpr",value:function(e,t){var n=e.builtin||e.name;return this.transformExpr(new Be(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return this.transformExpr(new Ve(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitInstantiateExpr",value:function(e,t){return this.transformExpr(new Ue(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitLocalizedString",value:function(e,t){return this.transformExpr(new Ke(e.metaBlock,e.messageParts,e.placeHolderNames,this.visitAllExpressions(e.expressions,t),e.sourceSpan),t)}},{key:"visitExternalExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitConditionalExpr",value:function(e,t){return this.transformExpr(new et(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitNotExpr",value:function(e,t){return this.transformExpr(new tt(e.condition.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return this.transformExpr(new nt(e.condition.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitCastExpr",value:function(e,t){return this.transformExpr(new rt(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitFunctionExpr",value:function(e,t){return this.transformExpr(new at(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}},{key:"visitUnaryOperatorExpr",value:function(e,t){return this.transformExpr(new st(e.operator,e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitBinaryOperatorExpr",value:function(e,t){return this.transformExpr(new ot(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitReadPropExpr",value:function(e,t){return this.transformExpr(new ut(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}},{key:"visitReadKeyExpr",value:function(e,t){return this.transformExpr(new ct(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.transformExpr(new lt(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this,r=e.entries.map((function(e){return new ht(e.key,e.value.visitExpression(n,t),e.quoted)})),i=new _e(e.valueType);return this.transformExpr(new pt(r,i,e.sourceSpan),t)}},{key:"visitCommaExpr",value:function(e,t){return this.transformExpr(new vt(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}},{key:"visitAllExpressions",value:function(e,t){var n=this;return e.map((function(e){return e.visitExpression(n,t)}))}},{key:"visitDeclareVarStmt",value:function(e,t){var n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new bt(e.name,n,e.type,e.modifiers,e.sourceSpan,e.leadingComments),t)}},{key:"visitDeclareFunctionStmt",value:function(e,t){return this.transformStmt(new kt(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan,e.leadingComments),t)}},{key:"visitExpressionStmt",value:function(e,t){return this.transformStmt(new _t(e.expr.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitReturnStmt",value:function(e,t){return this.transformStmt(new Et(e.value.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this,r=e.parent.visitExpression(this,t),i=e.getters.map((function(e){return new Ct(e.name,n.visitAllStatements(e.body,t),e.type,e.modifiers)})),a=e.constructorMethod&&new wt(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map((function(e){return new wt(e.name,e.params,n.visitAllStatements(e.body,t),e.type,e.modifiers)}));return this.transformStmt(new Ot(e.name,r,e.fields,i,a,s,e.modifiers,e.sourceSpan),t)}},{key:"visitIfStmt",value:function(e,t){return this.transformStmt(new Tt(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitTryCatchStmt",value:function(e,t){return this.transformStmt(new jt(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitThrowStmt",value:function(e,t){return this.transformStmt(new Nt(e.error.visitExpression(this,t),e.sourceSpan,e.leadingComments),t)}},{key:"visitAllStatements",value:function(e,t){var n=this;return e.map((function(e){return e.visitStatement(n,t)}))}}]),e}(),Mt=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitType",value:function(e,t){return e}},{key:"visitExpression",value:function(e,t){return e.type&&e.type.visitType(this,t),e}},{key:"visitBuiltinType",value:function(e,t){return this.visitType(e,t)}},{key:"visitExpressionType",value:function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach((function(e){return n.visitType(e,t)})),this.visitType(e,t)}},{key:"visitArrayType",value:function(e,t){return this.visitType(e,t)}},{key:"visitMapType",value:function(e,t){return this.visitType(e,t)}},{key:"visitWrappedNodeExpr",value:function(e,t){return e}},{key:"visitTypeofExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitReadVarExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitWriteVarExpr",value:function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitWriteKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitWritePropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitInvokeMethodExpr",value:function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitInstantiateExpr",value:function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitLiteralExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitLocalizedString",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitExternalExpr",value:function(e,t){var n=this;return e.typeParams&&e.typeParams.forEach((function(e){return e.visitType(n,t)})),this.visitExpression(e,t)}},{key:"visitConditionalExpr",value:function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitNotExpr",value:function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitFunctionExpr",value:function(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}},{key:"visitUnaryOperatorExpr",value:function(e,t){return e.expr.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitBinaryOperatorExpr",value:function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return e.entries.forEach((function(e){return e.value.visitExpression(n,t)})),this.visitExpression(e,t)}},{key:"visitCommaExpr",value:function(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}},{key:"visitAllExpressions",value:function(e,t){var n=this;e.forEach((function(e){return e.visitExpression(n,t)}))}},{key:"visitDeclareVarStmt",value:function(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}},{key:"visitDeclareFunctionStmt",value:function(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}},{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t),e}},{key:"visitReturnStmt",value:function(e,t){return e.value.visitExpression(this,t),e}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return e.parent.visitExpression(this,t),e.getters.forEach((function(e){return n.visitAllStatements(e.body,t)})),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach((function(e){return n.visitAllStatements(e.body,t)})),e}},{key:"visitIfStmt",value:function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}},{key:"visitTryCatchStmt",value:function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}},{key:"visitThrowStmt",value:function(e,t){return e.error.visitExpression(this,t),e}},{key:"visitAllStatements",value:function(e,t){var n=this;e.forEach((function(e){return e.visitStatement(n,t)}))}}]),e}();function At(e){var t=new It;return t.visitAllStatements(e,null),t.varNames}var It=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.apply(this,arguments)).varNames=new Set,e}return Object(g.a)(n,[{key:"visitDeclareFunctionStmt",value:function(e,t){return e}},{key:"visitDeclareClassStmt",value:function(e,t){return e}},{key:"visitReadVarExpr",value:function(e,t){return e.name&&this.varNames.add(e.name),null}}]),n}(Mt);function Rt(e){var t=new Dt;return t.visitAllStatements(e,null),t.externalReferences}var Dt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.apply(this,arguments)).externalReferences=[],e}return Object(g.a)(n,[{key:"visitExternalExpr",value:function(e,t){return this.externalReferences.push(e.value),Object(p.a)(Object(v.a)(n.prototype),"visitExternalExpr",this).call(this,e,t)}}]),n}(Mt);function Ft(e,t){if(!t)return e;var n=new Bt(t);return e.visitStatement(n,null)}function Lt(e,t){if(!t)return e;var n=new Bt(t);return e.visitExpression(n,null)}var Bt=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this)).sourceSpan=e,r}return Object(g.a)(n,[{key:"_clone",value:function(e){for(var t=Object.create(e.constructor.prototype),n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i]}return t}},{key:"transformExpr",value:function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}},{key:"transformStmt",value:function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}]),n}(Pt);function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new mt(e,t,n)}function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new yt(e)}function Ht(e,t,n){return new Ae(e,t,n)}function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return new Je(e,null,t,n)}function Wt(e,t,n){return null!=e?zt(qt(e,t,null),n):null}function zt(e,t,n){return new be(e,t,n)}function Kt(e){return new Ie(e)}function Qt(e,t,n){return new lt(e,t,n)}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new pt(e.map((function(e){return new ht(e.key,e.value,e.quoted)})),t,null)}function Gt(e,t,n,r,i){return new at(e,t,n,r,i)}function $t(e,t,n,r,i){return new Tt(e,t,n,r,i)}function Yt(e,t,n){return new He(e,t,n)}function Jt(e){return e instanceof He&&null===e.value}function Zt(e){var t="";if(e.tagName&&(t+=" @".concat(e.tagName)),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}var en=/-+([a-z0-9])/g;function tn(e,t){return nn(e,":",t)}function nn(e,t,n){var r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function rn(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===gn?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function an(e){return null!=e}function sn(e){return void 0===e?null:e}var on=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitArray",value:function(e,t){var n=this;return e.map((function(e){return rn(e,n,t)}))}},{key:"visitStringMap",value:function(e,t){var n=this,r={};return Object.keys(e).forEach((function(i){r[i]=rn(e[i],n,t)})),r}},{key:"visitPrimitive",value:function(e,t){return e}},{key:"visitOther",value:function(e,t){return e}}]),e}(),un=function(e){if(En(e))throw new Error("Illegal state: value cannot be a promise");return e},cn=function(e,t){return En(e)?e.then(t):t(e)},ln=function(e){return e.some(En)?Promise.all(e):e};function hn(e){throw new Error("Internal Error: ".concat(e))}function pn(e,t){var n=Error(e);return n[vn]=!0,t&&(n[fn]=t),n}var vn="ngSyntaxError",fn="ngParseErrors";function dn(e){return e[vn]}function mn(e){return e[fn]||[]}function yn(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var gn=Object.getPrototypeOf({});function bn(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){var i=e.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?t+=String.fromCharCode(r):r<=2047?t+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?t+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(t+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return t}function kn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(kn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);if(!e.toString)return"object";var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _n(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function En(e){return!!e&&"function"==typeof e.then}var Sn=function e(t){Object(y.a)(this,e),this.full=t;var n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")},xn="undefined"!=typeof window&&window,wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn="undefined"!=typeof global&&global||xn||wn;function On(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Tn(e,t){var n=[],r=[];return e.forEach((function(e){(t(e)?n:r).push(e)})),[n,r]}var jn=Ht("<unknown>"),Nn={},Pn=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e.type)).resolved=e,r.original=e,r}return Object(g.a)(n,[{key:"visitExpression",value:function(e,t){return t===Nn?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}},{key:"isEquivalent",value:function(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}},{key:"isConstant",value:function(){return!0}},{key:"fixup",value:function(e){this.resolved=e,this.shared=!0}}]),n}(Pe),Mn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(y.a)(this,e),this.isClosureCompilerEnabled=t,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}return Object(g.a)(e,[{key:"getConstLiteral",value:function(e,t){if(e instanceof He&&!Dn(e)||e instanceof Pn)return e;var n=this.keyOf(e),r=this.literals.get(n),i=!1;if(r||(r=new Pn(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){var a,s,o=this.freshName();this.isClosureCompilerEnabled&&Dn(e)?(a=Ht(o).set(new at([],[new Et(e)])),s=Ht(o).callFn([])):(a=Ht(o).set(e),s=Ht(o)),this.statements.push(a.toDeclStmt(Se,[Ye.Final])),r.fixup(s)}return r}},{key:"getDefinition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.definitionsOf(t),a=i.get(e),s=!1;if(!a){var o=this.propertyNameOf(t);a=new Pn(n.importExpr(e).prop(o)),i.set(e,a),s=!0}if(!s&&!a.shared||s&&r){var u=this.freshName();this.statements.push(Ht(u).set(a.resolved).toDeclStmt(Se,[Ye.Final])),a.fixup(Ht(u))}return a}},{key:"getLiteralFactory",value:function(e){if(e instanceof lt){var t=e.entries.map((function(e){return e.isConstant()?e:jn})),n=this.keyOf(Qt(t));return this._getLiteralFactory(n,e.entries,(function(e){return Qt(e)}))}var r=Xt(e.entries.map((function(e){return{key:e.key,value:e.value.isConstant()?e.value:jn,quoted:e.quoted}}))),i=this.keyOf(r);return this._getLiteralFactory(i,e.entries.map((function(e){return e.value})),(function(t){return Xt(t.map((function(t,n){return{key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}})))}))}},{key:"_getLiteralFactory",value:function(e,t,n){var r=this,i=this.literalFactories.get(e),a=t.filter((function(e){return!e.isConstant()}));if(!i){var s=t.map((function(e,t){return e.isConstant()?r.getConstLiteral(e,!0):Ht("a".concat(t))})),o=Gt(s.filter(Rn).map((function(e){return new it(e.name,Ee)})),[new Et(n(s))],Se),u=this.freshName();this.statements.push(Ht(u).set(o).toDeclStmt(Se,[Ye.Final])),i=Ht(u),this.literalFactories.set(e,i)}return{literalFactory:i,literalFactoryArguments:a}}},{key:"uniqueName",value:function(e){return"".concat(e).concat(this.nextNameIndex++)}},{key:"definitionsOf",value:function(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return hn("Unknown definition kind ".concat(e)),this.componentDefinitions}},{key:"propertyNameOf",value:function(e){switch(e){case 2:return"\u0275cmp";case 1:return"\u0275dir";case 0:return"\u0275inj";case 3:return"\u0275pipe"}return hn("Unknown definition kind ".concat(e)),"<unknown>"}},{key:"freshName",value:function(){return this.uniqueName("_c")}},{key:"keyOf",value:function(e){return e.visitExpression(new An,Nn)}}]),e}(),An=function(){function e(){Object(y.a)(this,e),this.visitWrappedNodeExpr=In,this.visitWriteVarExpr=In,this.visitWriteKeyExpr=In,this.visitWritePropExpr=In,this.visitInvokeMethodExpr=In,this.visitInvokeFunctionExpr=In,this.visitInstantiateExpr=In,this.visitConditionalExpr=In,this.visitNotExpr=In,this.visitAssertNotNullExpr=In,this.visitCastExpr=In,this.visitFunctionExpr=In,this.visitUnaryOperatorExpr=In,this.visitBinaryOperatorExpr=In,this.visitReadPropExpr=In,this.visitReadKeyExpr=In,this.visitCommaExpr=In,this.visitLocalizedString=In}return Object(g.a)(e,[{key:"visitLiteralExpr",value:function(e){return"".concat("string"==typeof e.value?'"'+e.value+'"':e.value)}},{key:"visitLiteralArrayExpr",value:function(e,t){var n=this;return"[".concat(e.entries.map((function(e){return e.visitExpression(n,t)})).join(","),"]")}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return"{".concat(e.entries.map((function(e){return"".concat(function(e){var t=e.quoted?'"':"";return"".concat(t).concat(e.key).concat(t)}(e),":").concat(e.value.visitExpression(n,t))})).join(","))}},{key:"visitExternalExpr",value:function(e){return e.value.moduleName?"EX:".concat(e.value.moduleName,":").concat(e.value.name):"EX:".concat(e.value.runtime.name)}},{key:"visitReadVarExpr",value:function(e){return"VAR:".concat(e.name)}},{key:"visitTypeofExpr",value:function(e,t){return"TYPEOF:".concat(e.expr.visitExpression(this,t))}}]),e}();function In(e){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(e.constructor.name))}function Rn(e){return e instanceof Ae}function Dn(e){return e instanceof He&&"string"==typeof e.value&&e.value.length>=50}var Fn="@angular/core",Ln=function e(){Object(y.a)(this,e)};function Bn(e){return{identifier:{reference:e}}}function Vn(e,t){return Bn(e.resolveExternalReference(t))}Ln.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Fn},Ln.ElementRef={name:"ElementRef",moduleName:Fn},Ln.NgModuleRef={name:"NgModuleRef",moduleName:Fn},Ln.ViewContainerRef={name:"ViewContainerRef",moduleName:Fn},Ln.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Fn},Ln.QueryList={name:"QueryList",moduleName:Fn},Ln.TemplateRef={name:"TemplateRef",moduleName:Fn},Ln.Renderer2={name:"Renderer2",moduleName:Fn},Ln.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Fn},Ln.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Fn},Ln.ComponentFactory={name:"ComponentFactory",moduleName:Fn},Ln.ComponentRef={name:"ComponentRef",moduleName:Fn},Ln.NgModuleFactory={name:"NgModuleFactory",moduleName:Fn},Ln.createModuleFactory={name:"\u0275cmf",moduleName:Fn},Ln.moduleDef={name:"\u0275mod",moduleName:Fn},Ln.moduleProviderDef={name:"\u0275mpd",moduleName:Fn},Ln.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Fn},Ln.inject={name:"\u0275\u0275inject",moduleName:Fn},Ln.directiveInject={name:"\u0275\u0275directiveInject",moduleName:Fn},Ln.INJECTOR={name:"INJECTOR",moduleName:Fn},Ln.Injector={name:"Injector",moduleName:Fn},Ln.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:Fn},Ln.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:Fn},Ln.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Fn},Ln.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Fn},Ln.SecurityContext={name:"SecurityContext",moduleName:Fn},Ln.LOCALE_ID={name:"LOCALE_ID",moduleName:Fn},Ln.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Fn},Ln.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Fn},Ln.interpolate={name:"\u0275interpolate",moduleName:Fn},Ln.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Fn},Ln.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Fn},Ln.Renderer={name:"Renderer",moduleName:Fn},Ln.viewDef={name:"\u0275vid",moduleName:Fn},Ln.elementDef={name:"\u0275eld",moduleName:Fn},Ln.anchorDef={name:"\u0275and",moduleName:Fn},Ln.textDef={name:"\u0275ted",moduleName:Fn},Ln.directiveDef={name:"\u0275did",moduleName:Fn},Ln.providerDef={name:"\u0275prd",moduleName:Fn},Ln.queryDef={name:"\u0275qud",moduleName:Fn},Ln.pureArrayDef={name:"\u0275pad",moduleName:Fn},Ln.pureObjectDef={name:"\u0275pod",moduleName:Fn},Ln.purePipeDef={name:"\u0275ppd",moduleName:Fn},Ln.pipeDef={name:"\u0275pid",moduleName:Fn},Ln.nodeValue={name:"\u0275nov",moduleName:Fn},Ln.ngContentDef={name:"\u0275ncd",moduleName:Fn},Ln.unwrapValue={name:"\u0275unv",moduleName:Fn},Ln.createRendererType2={name:"\u0275crt",moduleName:Fn},Ln.RendererType2={name:"RendererType2",moduleName:Fn},Ln.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Fn},Ln.createComponentFactory={name:"\u0275ccf",moduleName:Fn},Ln.setClassMetadata={name:"\u0275setClassMetadata",moduleName:Fn};var Un=function(){function e(t,n,r){Object(y.a)(this,e),this.filePath=t,this.name=n,this.members=r}return Object(g.a)(e,[{key:"assertNoMembers",value:function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got ".concat(JSON.stringify(this),"."))}}]),e}(),Hn=function(){function e(){Object(y.a)(this,e),this.cache=new Map}return Object(g.a)(e,[{key:"get",value:function(e,t,n){var r=(n=n||[]).length?".".concat(n.join(".")):"",i='"'.concat(e,'".').concat(t).concat(r),a=this.cache.get(i);return a||(a=new Un(e,t,n),this.cache.set(i,a)),a}}]),e}(),qn=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function Wn(e){return e.replace(/\W/g,"_")}var zn,Kn=0;function Qn(e){if(!e||!e.reference)return null;var t=e.reference;if(t instanceof Un)return t.name;if(t.__anonymousType)return t.__anonymousType;var n=kn(t);return n.indexOf("(")>=0?(n="anonymous_".concat(Kn++),t.__anonymousType=n):n=Wn(n),n}function Xn(e){var t=e.reference;return t instanceof Un?t.filePath:"./".concat(kn(t))}function Gn(e,t){return"View_".concat(Qn({reference:e}),"_").concat(t)}function $n(e){return"RenderType_".concat(Qn({reference:e}))}function Yn(e){return"HostView_".concat(Qn({reference:e}))}function Jn(e){return"".concat(Qn({reference:e}),"NgFactory")}function Zn(e){return null!=e.value?Wn(e.value):Qn(e.identifier)}function er(e){return null!=e.identifier?e.identifier.reference:e.value}!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}(zn||(zn={}));var tr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.moduleUrl,r=t.styles,i=t.styleUrls;Object(y.a)(this,e),this.moduleUrl=n||null,this.styles=ur(r),this.styleUrls=ur(i)},nr=function(){function e(t){var n=t.encapsulation,r=t.template,i=t.templateUrl,a=t.htmlAst,s=t.styles,o=t.styleUrls,u=t.externalStylesheets,c=t.animations,l=t.ngContentSelectors,h=t.interpolation,p=t.isInline,v=t.preserveWhitespaces;if(Object(y.a)(this,e),this.encapsulation=n,this.template=r,this.templateUrl=i,this.htmlAst=a,this.styles=ur(s),this.styleUrls=ur(o),this.externalStylesheets=ur(u),this.animations=c?lr(c):[],this.ngContentSelectors=l||[],h&&2!=h.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=h,this.isInline=p,this.preserveWhitespaces=v}return Object(g.a)(e,[{key:"toSummary",value:function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}]),e}(),rr=function(){function e(t){var n=t.isHost,r=t.type,i=t.isComponent,a=t.selector,s=t.exportAs,o=t.changeDetection,u=t.inputs,c=t.outputs,l=t.hostListeners,h=t.hostProperties,p=t.hostAttributes,v=t.providers,f=t.viewProviders,d=t.queries,m=t.guards,g=t.viewQueries,b=t.entryComponents,k=t.template,_=t.componentViewType,E=t.rendererType,S=t.componentFactory;Object(y.a)(this,e),this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=a,this.exportAs=s,this.changeDetection=o,this.inputs=u,this.outputs=c,this.hostListeners=l,this.hostProperties=h,this.hostAttributes=p,this.providers=ur(v),this.viewProviders=ur(f),this.queries=ur(d),this.guards=m,this.viewQueries=ur(g),this.entryComponents=ur(b),this.template=k,this.componentViewType=_,this.rendererType=E,this.componentFactory=S}return Object(g.a)(e,[{key:"toSummary",value:function(){return{summaryKind:zn.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}],[{key:"create",value:function(t){var n=t.isHost,r=t.type,i=t.isComponent,a=t.selector,s=t.exportAs,o=t.changeDetection,u=t.inputs,c=t.outputs,l=t.host,h=t.providers,p=t.viewProviders,v=t.queries,f=t.guards,d=t.viewQueries,m=t.entryComponents,y=t.template,g=t.componentViewType,b=t.rendererType,k=t.componentFactory,_={},E={},S={};null!=l&&Object.keys(l).forEach((function(e){var t=l[e],n=e.match(qn);null===n?S[e]=t:null!=n[1]?E[n[1]]=t:null!=n[2]&&(_[n[2]]=t)}));var x={};null!=u&&u.forEach((function(e){var t=tn(e,[e,e]);x[t[0]]=t[1]}));var w={};return null!=c&&c.forEach((function(e){var t=tn(e,[e,e]);w[t[0]]=t[1]})),new e({isHost:n,type:r,isComponent:!!i,selector:a,exportAs:s,changeDetection:o,inputs:x,outputs:w,hostListeners:_,hostProperties:E,hostAttributes:S,providers:h,viewProviders:p,queries:v,guards:f,viewQueries:d,entryComponents:m,template:y,componentViewType:g,rendererType:b,componentFactory:k})}}]),e}(),ir=function(){function e(t){var n=t.type,r=t.name,i=t.pure;Object(y.a)(this,e),this.type=n,this.name=r,this.pure=!!i}return Object(g.a)(e,[{key:"toSummary",value:function(){return{summaryKind:zn.Pipe,type:this.type,name:this.name,pure:this.pure}}}]),e}(),ar=function e(){Object(y.a)(this,e)},sr=function(){function e(t){var n=t.type,r=t.providers,i=t.declaredDirectives,a=t.exportedDirectives,s=t.declaredPipes,o=t.exportedPipes,u=t.entryComponents,c=t.bootstrapComponents,l=t.importedModules,h=t.exportedModules,p=t.schemas,v=t.transitiveModule,f=t.id;Object(y.a)(this,e),this.type=n||null,this.declaredDirectives=ur(i),this.exportedDirectives=ur(a),this.declaredPipes=ur(s),this.exportedPipes=ur(o),this.providers=ur(r),this.entryComponents=ur(u),this.bootstrapComponents=ur(c),this.importedModules=ur(l),this.exportedModules=ur(h),this.schemas=ur(p),this.id=f||null,this.transitiveModule=v||null}return Object(g.a)(e,[{key:"toSummary",value:function(){var e=this.transitiveModule;return{summaryKind:zn.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}]),e}(),or=function(){function e(){Object(y.a)(this,e),this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return Object(g.a)(e,[{key:"addProvider",value:function(e,t){this.providers.push({provider:e,module:t})}},{key:"addDirective",value:function(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}},{key:"addExportedDirective",value:function(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}},{key:"addPipe",value:function(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}},{key:"addExportedPipe",value:function(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}},{key:"addModule",value:function(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}},{key:"addEntryComponent",value:function(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}]),e}();function ur(e){return e||[]}var cr=function e(t,n){var r=n.useClass,i=n.useValue,a=n.useExisting,s=n.useFactory,o=n.deps,u=n.multi;Object(y.a)(this,e),this.token=t,this.useClass=r||null,this.useValue=i,this.useExisting=a,this.useFactory=s||null,this.dependencies=o||null,this.multi=!!u};function lr(e){return e.reduce((function(e,t){var n=Array.isArray(t)?lr(t):t;return e.concat(n)}),[])}function hr(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function pr(e,t,n){var r;return r=n.isInline?t.type.reference instanceof Un?"".concat(t.type.reference.filePath,".").concat(t.type.reference.name,".html"):"".concat(Qn(e),"/").concat(Qn(t.type),".html"):n.templateUrl,t.type.reference instanceof Un?r:hr(r)}function vr(e,t){var n=e.moduleUrl.split(/\/\\/g),r=n[n.length-1];return hr("css/".concat(t).concat(r,".ngstyle.js"))}function fr(e){return hr("".concat(Qn(e.type),"/module.ngfactory.js"))}function dr(e,t){return hr("".concat(Qn(e),"/").concat(Qn(t.type),".ngfactory.js"))}var mr="@angular/core",yr=function e(){Object(y.a)(this,e)};function gr(e){return Xt(Object.keys(e).map((function(t){return{key:t,value:e[t],quoted:!1}})))}function br(e,t){if(Array.isArray(e))return Qt(e.map((function(e){return br(e,t)})));if(e instanceof Un)return t.importExpr(e);if(null==e)return Yt(e);throw new Error("Internal error: Unsupported or unknown metadata: ".concat(e))}function kr(e,t){if(0===t)return zt(e);for(var n=[],r=0;r<t;r++)n.push(Ee);return zt(e,void 0,n)}yr.NEW_METHOD="factory",yr.TRANSFORM_METHOD="transform",yr.PATCH_DEPS="patchedDeps",yr.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:mr},yr.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:mr},yr.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:mr},yr.element={name:"\u0275\u0275element",moduleName:mr},yr.elementStart={name:"\u0275\u0275elementStart",moduleName:mr},yr.elementEnd={name:"\u0275\u0275elementEnd",moduleName:mr},yr.advance={name:"\u0275\u0275advance",moduleName:mr},yr.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:mr},yr.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:mr},yr.attribute={name:"\u0275\u0275attribute",moduleName:mr},yr.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:mr},yr.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:mr},yr.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:mr},yr.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:mr},yr.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:mr},yr.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:mr},yr.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:mr},yr.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:mr},yr.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:mr},yr.classProp={name:"\u0275\u0275classProp",moduleName:mr},yr.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:mr},yr.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:mr},yr.elementContainer={name:"\u0275\u0275elementContainer",moduleName:mr},yr.styleMap={name:"\u0275\u0275styleMap",moduleName:mr},yr.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:mr},yr.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:mr},yr.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:mr},yr.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:mr},yr.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:mr},yr.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:mr},yr.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:mr},yr.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:mr},yr.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:mr},yr.classMap={name:"\u0275\u0275classMap",moduleName:mr},yr.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:mr},yr.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:mr},yr.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:mr},yr.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:mr},yr.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:mr},yr.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:mr},yr.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:mr},yr.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:mr},yr.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:mr},yr.styleProp={name:"\u0275\u0275styleProp",moduleName:mr},yr.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:mr},yr.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:mr},yr.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:mr},yr.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:mr},yr.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:mr},yr.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:mr},yr.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:mr},yr.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:mr},yr.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:mr},yr.nextContext={name:"\u0275\u0275nextContext",moduleName:mr},yr.templateCreate={name:"\u0275\u0275template",moduleName:mr},yr.text={name:"\u0275\u0275text",moduleName:mr},yr.enableBindings={name:"\u0275\u0275enableBindings",moduleName:mr},yr.disableBindings={name:"\u0275\u0275disableBindings",moduleName:mr},yr.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:mr},yr.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:mr},yr.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:mr},yr.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:mr},yr.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:mr},yr.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:mr},yr.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:mr},yr.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:mr},yr.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:mr},yr.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:mr},yr.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:mr},yr.restoreView={name:"\u0275\u0275restoreView",moduleName:mr},yr.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:mr},yr.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:mr},yr.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:mr},yr.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:mr},yr.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:mr},yr.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:mr},yr.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:mr},yr.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:mr},yr.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:mr},yr.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:mr},yr.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:mr},yr.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:mr},yr.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:mr},yr.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:mr},yr.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:mr},yr.hostProperty={name:"\u0275\u0275hostProperty",moduleName:mr},yr.property={name:"\u0275\u0275property",moduleName:mr},yr.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:mr},yr.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:mr},yr.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:mr},yr.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:mr},yr.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:mr},yr.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:mr},yr.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:mr},yr.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:mr},yr.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:mr},yr.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:mr},yr.i18n={name:"\u0275\u0275i18n",moduleName:mr},yr.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:mr},yr.i18nExp={name:"\u0275\u0275i18nExp",moduleName:mr},yr.i18nStart={name:"\u0275\u0275i18nStart",moduleName:mr},yr.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:mr},yr.i18nApply={name:"\u0275\u0275i18nApply",moduleName:mr},yr.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:mr},yr.pipe={name:"\u0275\u0275pipe",moduleName:mr},yr.projection={name:"\u0275\u0275projection",moduleName:mr},yr.projectionDef={name:"\u0275\u0275projectionDef",moduleName:mr},yr.reference={name:"\u0275\u0275reference",moduleName:mr},yr.inject={name:"\u0275\u0275inject",moduleName:mr},yr.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:mr},yr.injectPipeChangeDetectorRef={name:"\u0275\u0275injectPipeChangeDetectorRef",moduleName:mr},yr.directiveInject={name:"\u0275\u0275directiveInject",moduleName:mr},yr.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:mr},yr.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:mr},yr.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:mr},yr.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:mr},yr.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:mr},yr.resolveBody={name:"\u0275\u0275resolveBody",moduleName:mr},yr.defineComponent={name:"\u0275\u0275defineComponent",moduleName:mr},yr.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:mr},yr.ComponentDefWithMeta={name:"\u0275\u0275ComponentDefWithMeta",moduleName:mr},yr.FactoryDef={name:"\u0275\u0275FactoryDef",moduleName:mr},yr.defineDirective={name:"\u0275\u0275defineDirective",moduleName:mr},yr.DirectiveDefWithMeta={name:"\u0275\u0275DirectiveDefWithMeta",moduleName:mr},yr.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:mr},yr.defineInjector={name:"\u0275\u0275defineInjector",moduleName:mr},yr.NgModuleDefWithMeta={name:"\u0275\u0275NgModuleDefWithMeta",moduleName:mr},yr.ModuleWithProviders={name:"ModuleWithProviders",moduleName:mr},yr.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:mr},yr.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:mr},yr.PipeDefWithMeta={name:"\u0275\u0275PipeDefWithMeta",moduleName:mr},yr.definePipe={name:"\u0275\u0275definePipe",moduleName:mr},yr.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:mr},yr.viewQuery={name:"\u0275\u0275viewQuery",moduleName:mr},yr.staticViewQuery={name:"\u0275\u0275staticViewQuery",moduleName:mr},yr.staticContentQuery={name:"\u0275\u0275staticContentQuery",moduleName:mr},yr.loadQuery={name:"\u0275\u0275loadQuery",moduleName:mr},yr.contentQuery={name:"\u0275\u0275contentQuery",moduleName:mr},yr.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:mr},yr.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:mr},yr.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:mr},yr.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:mr},yr.listener={name:"\u0275\u0275listener",moduleName:mr},yr.getFactoryOf={name:"\u0275\u0275getFactoryOf",moduleName:mr},yr.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:mr},yr.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:mr},yr.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:mr},yr.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:mr},yr.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:mr},yr.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:mr},yr.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:mr};function _r(e){return"".concat("@").concat(e)}function Er(e,t){return"".concat("@").concat(e,".").concat(t)}function Sr(e,t){return"animation_".concat(e,"_").concat(t)}function xr(e){return e>=9&&e<=32||160==e}function wr(e){return 48<=e&&e<=57}function Cr(e){return e>=97&&e<=122||e>=65&&e<=90}function Or(e){return 10===e||13===e}function Tr(e){return 48<=e&&e<=55}var jr,Nr=function(){function e(t,n,r,i){Object(y.a)(this,e),this.file=t,this.offset=n,this.line=r,this.col=i}return Object(g.a)(e,[{key:"toString",value:function(){return null!=this.offset?"".concat(this.file.url,"@").concat(this.line,":").concat(this.col):this.file.url}},{key:"moveBy",value:function(t){for(var n=this.file.content,r=n.length,i=this.offset,a=this.line,s=this.col;i>0&&t<0;){if(i--,t++,10==n.charCodeAt(i)){a--;var o=n.substr(0,i-1).lastIndexOf(String.fromCharCode(10));s=o>0?i-o:i}else s--}for(;i<r&&t>0;){var u=n.charCodeAt(i);i++,t--,10==u?(a++,s=0):s++}return new e(this.file,i,a,s)}},{key:"getContext",value:function(e,t){var n=this.file.content,r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);for(var i=r,a=0,s=0;a<e&&r>0&&(a++,"\n"!=n[--r]||++s!=t););for(a=0,s=0;a<e&&i<n.length-1&&(a++,"\n"!=n[++i]||++s!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}]),e}(),Pr=function e(t,n){Object(y.a)(this,e),this.content=t,this.url=n},Mr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(y.a)(this,e),this.start=t,this.end=n,this.details=r}return Object(g.a)(e,[{key:"toString",value:function(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}]),e}();!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(jr||(jr={}));var Ar=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr.ERROR;Object(y.a)(this,e),this.span=t,this.msg=n,this.level=r}return Object(g.a)(e,[{key:"contextualMessage",value:function(){var e=this.span.start.getContext(100,3);return e?"".concat(this.msg,' ("').concat(e.before,"[").concat(jr[this.level]," ->]").concat(e.after,'")'):this.msg}},{key:"toString",value:function(){var e=this.span.details?", ".concat(this.span.details):"";return"".concat(this.contextualMessage(),": ").concat(this.span.start).concat(e)}}]),e}();function Ir(e,t){var n=Xn(t),r=null!=n?"in ".concat(e," ").concat(Qn(t)," in ").concat(n):"in ".concat(e," ").concat(Qn(t)),i=new Pr("",r);return new Mr(new Nr(i,-1,-1,-1),new Nr(i,-1,-1,-1))}function Rr(e,t,n){var r="in ".concat(e," ").concat(t," in ").concat(n),i=new Pr("",r);return new Mr(new Nr(i,-1,-1,-1),new Nr(i,-1,-1,-1))}var Dr=function(){function e(t,n){Object(y.a)(this,e),this.value=t,this.sourceSpan=n}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitText(this)}}]),e}(),Fr=function(){function e(t,n,r){Object(y.a)(this,e),this.value=t,this.sourceSpan=n,this.i18n=r}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitBoundText(this)}}]),e}(),Lr=function(){function e(t,n,r,i,a){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.valueSpan=i,this.i18n=a}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitTextAttribute(this)}}]),e}(),Br=function(){function e(t,n,r,i,a,s,o,u){Object(y.a)(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=a,this.sourceSpan=s,this.valueSpan=o,this.i18n=u}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitBoundAttribute(this)}}],[{key:"fromBoundElementProperty",value:function(t,n){return new e(t.name,t.type,t.securityContext,t.value,t.unit,t.sourceSpan,t.valueSpan,n)}}]),e}(),Vr=function(){function e(t,n,r,i,a,s,o){Object(y.a)(this,e),this.name=t,this.type=n,this.handler=r,this.target=i,this.phase=a,this.sourceSpan=s,this.handlerSpan=o}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitBoundEvent(this)}}],[{key:"fromParsedEvent",value:function(t){var n=0===t.type?t.targetOrPhase:null,r=1===t.type?t.targetOrPhase:null;return new e(t.name,t.type,t.handler,n,r,t.sourceSpan,t.handlerSpan)}}]),e}(),Ur=function(){function e(t,n,r,i,a,s,o,u,c,l){Object(y.a)(this,e),this.name=t,this.attributes=n,this.inputs=r,this.outputs=i,this.children=a,this.references=s,this.sourceSpan=o,this.startSourceSpan=u,this.endSourceSpan=c,this.i18n=l,0===a.length&&u&&c&&(this.sourceSpan=new Mr(o.start,c.end))}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitElement(this)}}]),e}(),Hr=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p){Object(y.a)(this,e),this.tagName=t,this.attributes=n,this.inputs=r,this.outputs=i,this.templateAttrs=a,this.children=s,this.references=o,this.variables=u,this.sourceSpan=c,this.startSourceSpan=l,this.endSourceSpan=h,this.i18n=p}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitTemplate(this)}}]),e}(),qr=function(){function e(t,n,r,i){Object(y.a)(this,e),this.selector=t,this.attributes=n,this.sourceSpan=r,this.i18n=i,this.name="ng-content"}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitContent(this)}}]),e}(),Wr=function(){function e(t,n,r,i){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.valueSpan=i}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitVariable(this)}}]),e}(),zr=function(){function e(t,n,r,i){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.valueSpan=i}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitReference(this)}}]),e}(),Kr=function(){function e(t,n,r,i){Object(y.a)(this,e),this.vars=t,this.placeholders=n,this.sourceSpan=r,this.i18n=i}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitIcu(this)}}]),e}(),Qr=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitElement",value:function(e){Xr(this,e.attributes),Xr(this,e.children),Xr(this,e.references)}},{key:"visitTemplate",value:function(e){Xr(this,e.attributes),Xr(this,e.children),Xr(this,e.references),Xr(this,e.variables)}},{key:"visitContent",value:function(e){}},{key:"visitVariable",value:function(e){}},{key:"visitReference",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitBoundAttribute",value:function(e){}},{key:"visitBoundEvent",value:function(e){}},{key:"visitText",value:function(e){}},{key:"visitBoundText",value:function(e){}},{key:"visitIcu",value:function(e){}}]),e}();function Xr(e,t){var n=[];if(e.visit){var r,i=Object(h.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.visit(a)||a.visit(e)}}catch(c){i.e(c)}finally{i.f()}}else{var s,o=Object(h.a)(t);try{for(o.s();!(s=o.n()).done;){var u=s.value.visit(e);u&&n.push(u)}}catch(c){o.e(c)}finally{o.f()}}return n}var Gr=function e(t,n,r,i,a,s){Object(y.a)(this,e),this.nodes=t,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=a,this.customId=s,this.id=this.customId,this.legacyIds=[],t.length?this.sources=[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:this.sources=[]},$r=function(){function e(t,n){Object(y.a)(this,e),this.value=t,this.sourceSpan=n}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),Yr=function(){function e(t,n){Object(y.a)(this,e),this.children=t,this.sourceSpan=n}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitContainer(this,t)}}]),e}(),Jr=function(){function e(t,n,r,i){Object(y.a)(this,e),this.expression=t,this.type=n,this.cases=r,this.sourceSpan=i}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitIcu(this,t)}}]),e}(),Zr=function(){function e(t,n,r,i,a,s,o,u,c){Object(y.a)(this,e),this.tag=t,this.attrs=n,this.startName=r,this.closeName=i,this.children=a,this.isVoid=s,this.sourceSpan=o,this.startSourceSpan=u,this.endSourceSpan=c}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitTagPlaceholder(this,t)}}]),e}(),ei=function(){function e(t,n,r){Object(y.a)(this,e),this.value=t,this.name=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitPlaceholder(this,t)}}]),e}(),ti=function(){function e(t,n,r){Object(y.a)(this,e),this.value=t,this.name=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitIcuPlaceholder(this,t)}}]),e}(),ni=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){return new $r(e.value,e.sourceSpan)}},{key:"visitContainer",value:function(e,t){var n=this,r=e.children.map((function(e){return e.visit(n,t)}));return new Yr(r,e.sourceSpan)}},{key:"visitIcu",value:function(e,t){var n=this,r={};Object.keys(e.cases).forEach((function(i){return r[i]=e.cases[i].visit(n,t)}));var i=new Jr(e.expression,e.type,r,e.sourceSpan);return i.expressionPlaceholder=e.expressionPlaceholder,i}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r=e.children.map((function(e){return e.visit(n,t)}));return new Zr(e.tag,e.attrs,e.startName,e.closeName,r,e.isVoid,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitPlaceholder",value:function(e,t){return new ei(e.value,e.name,e.sourceSpan)}},{key:"visitIcuPlaceholder",value:function(e,t){return new ti(e.value,e.name,e.sourceSpan)}}]),e}(),ri=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){}},{key:"visitContainer",value:function(e,t){var n=this;e.children.forEach((function(e){return e.visit(n)}))}},{key:"visitIcu",value:function(e,t){var n=this;Object.keys(e.cases).forEach((function(t){e.cases[t].visit(n)}))}},{key:"visitTagPlaceholder",value:function(e,t){var n=this;e.children.forEach((function(e){return e.visit(n)}))}},{key:"visitPlaceholder",value:function(e,t){}},{key:"visitIcuPlaceholder",value:function(e,t){}}]),e}();function ii(e){return e.id||ai(e)}function ai(e){return function(e){var t=bn(e),n=function(e,t){for(var n=e.length+3>>>2,r=[],i=0;i<n;i++)r[i]=xi(e,4*i,t);return r}(t,li.Big),r=8*t.length,i=On(80),a=1732584193,s=4023233417,o=2562383102,u=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(var l=0;l<n.length;l+=16){for(var h=a,p=s,v=o,f=u,d=c,m=0;m<80;m++){i[m]=m<16?n[l+m]:_i(i[m-3]^i[m-8]^i[m-14]^i[m-16],1);var y=pi(m,s,o,u),g=y[0],b=y[1],k=[_i(a,5),g,c,b,i[m]].reduce(yi);c=u,u=o,o=_i(s,30),s=a,a=k}a=yi(a,h),s=yi(s,p),o=yi(o,v),u=yi(u,f),c=yi(c,d)}return function(e){for(var t="",n=0;n<e.length;n++){var r=Si(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(wi([a,s,o,u,c]))}((t=e.nodes,t.map((function(e){return e.visit(ci,null)}))).join("")+"[".concat(e.meaning,"]"));var t}function si(e){return e.id||oi(e)}function oi(e){var t=new hi;return fi(e.nodes.map((function(e){return e.visit(t,null)})).join(""),e.meaning)}var ui=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){return e.value}},{key:"visitContainer",value:function(e,t){var n=this;return"[".concat(e.children.map((function(e){return e.visit(n)})).join(", "),"]")}},{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map((function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")}));return"{".concat(e.expression,", ").concat(e.type,", ").concat(r.join(", "),"}")}},{key:"visitTagPlaceholder",value:function(e,t){var n=this;return e.isVoid?'<ph tag name="'.concat(e.startName,'"/>'):'<ph tag name="'.concat(e.startName,'">').concat(e.children.map((function(e){return e.visit(n)})).join(", "),'</ph name="').concat(e.closeName,'">')}},{key:"visitPlaceholder",value:function(e,t){return e.value?'<ph name="'.concat(e.name,'">').concat(e.value,"</ph>"):'<ph name="'.concat(e.name,'"/>')}},{key:"visitIcuPlaceholder",value:function(e,t){return'<ph icu name="'.concat(e.name,'">').concat(e.value.visit(this),"</ph>")}}]),e}(),ci=new ui;var li,hi=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map((function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")}));return"{".concat(e.type,", ").concat(r.join(", "),"}")}}]),n}(ui);function pi(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function vi(e){var t=bn(e),n=di(t,0),r=di(t,102072);return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=vi(e);if(t){var r=vi(t);n=bi(Ei(n,1),r)}var i=n[0],a=n[1];return Ci(wi([2147483647&i,a]))}function di(e,t){var n,r=2654435769,i=2654435769,a=e.length;for(n=0;n+12<=a;n+=12){var s=mi(r=yi(r,xi(e,n,li.Little)),i=yi(i,xi(e,n+4,li.Little)),t=yi(t,xi(e,n+8,li.Little)));r=s[0],i=s[1],t=s[2]}return r=yi(r,xi(e,n,li.Little)),i=yi(i,xi(e,n+4,li.Little)),t=yi(t,a),mi(r,i,t=yi(t,xi(e,n+8,li.Little)<<8))[2]}function mi(e,t,n){return e=ki(e,t),e=ki(e,n),e^=n>>>13,t=ki(t,n),t=ki(t,e),t^=e<<8,n=ki(n,e),n=ki(n,t),n^=t>>>13,e=ki(e,t),e=ki(e,n),e^=n>>>12,t=ki(t,n),t=ki(t,e),t^=e<<16,n=ki(n,e),n=ki(n,t),n^=t>>>5,e=ki(e,t),e=ki(e,n),e^=n>>>3,t=ki(t,n),t=ki(t,e),t^=e<<10,n=ki(n,e),n=ki(n,t),[e,t,n^=t>>>15]}function yi(e,t){return gi(e,t)[1]}function gi(e,t){var n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function bi(e,t){var n=e[0],r=e[1],i=t[0],a=gi(r,t[1]),s=a[0],o=a[1];return[yi(yi(n,i),s),o]}function ki(e,t){var n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function _i(e,t){return e<<t|e>>>32-t}function Ei(e,t){var n=e[0],r=e[1];return[n<<t|r>>>32-t,r<<t|n>>>32-t]}function Si(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function xi(e,t,n){var r=0;if(n===li.Big)for(var i=0;i<4;i++)r+=Si(e,t+i)<<24-8*i;else for(var a=0;a<4;a++)r+=Si(e,t+a)<<8*a;return r}function wi(e){return e.reduce((function(e,t){return e+function(e){for(var t="",n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t)}),"")}function Ci(e){for(var t="",n="1",r=e.length-1;r>=0;r--)t=Oi(t,Ti(Si(e,r),n)),n=Ti(256,n);return t.split("").reverse().join("")}function Oi(e,t){for(var n="",r=Math.max(e.length,t.length),i=0,a=0;i<r||a;i++){var s=a+ +(e[i]||0)+ +(t[i]||0);s>=10?(a=1,n+=s-10):(a=0,n+=s)}return n}function Ti(e,t){for(var n="",r=t;0!==e;e>>>=1)1&e&&(n=Oi(n,r)),r=Oi(r,r);return n}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(li||(li={}));var ji=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"createNameMapper",value:function(e){return null}}]),e}(),Ni=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this)).mapName=r,i.internalToPublic={},i.publicToNextId={},i.publicToInternal={},e.nodes.forEach((function(e){return e.visit(Object(l.a)(i))})),i}return Object(g.a)(n,[{key:"toPublicName",value:function(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}},{key:"toInternalName",value:function(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}},{key:"visitText",value:function(e,t){return null}},{key:"visitTagPlaceholder",value:function(e,t){this.visitPlaceholderName(e.startName),Object(p.a)(Object(v.a)(n.prototype),"visitTagPlaceholder",this).call(this,e,t),this.visitPlaceholderName(e.closeName)}},{key:"visitPlaceholder",value:function(e,t){this.visitPlaceholderName(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){this.visitPlaceholderName(e.name)}},{key:"visitPlaceholderName",value:function(e){if(e&&!this.internalToPublic.hasOwnProperty(e)){var t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){var n=this.publicToNextId[t];this.publicToNextId[t]=n+1,t="".concat(t,"_").concat(n)}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}}]),n}(ri),Pi=new(function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitTag",value:function(e){var t=this,n=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<".concat(e.name).concat(n,"/>");var r=e.children.map((function(e){return e.visit(t)}));return"<".concat(e.name).concat(n,">").concat(r.join(""),"</").concat(e.name,">")}},{key:"visitText",value:function(e){return e.value}},{key:"visitDeclaration",value:function(e){return"<?xml".concat(this._serializeAttributes(e.attrs)," ?>")}},{key:"_serializeAttributes",value:function(e){var t=Object.keys(e).map((function(t){return"".concat(t,'="').concat(e[t],'"')})).join(" ");return t.length>0?" "+t:""}},{key:"visitDoctype",value:function(e){return"<!DOCTYPE ".concat(e.rootTag," [\n").concat(e.dtd,"\n]>")}}]),e}());function Mi(e){return e.map((function(e){return e.visit(Pi)})).join("")}var Ai=function(){function e(t){var n=this;Object(y.a)(this,e),this.attrs={},Object.keys(t).forEach((function(e){n.attrs[e]=Bi(t[e])}))}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitDeclaration(this)}}]),e}(),Ii=function(){function e(t,n){Object(y.a)(this,e),this.rootTag=t,this.dtd=n}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitDoctype(this)}}]),e}(),Ri=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(y.a)(this,e),this.name=t,this.children=i,this.attrs={},Object.keys(r).forEach((function(e){n.attrs[e]=Bi(r[e])}))}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitTag(this)}}]),e}(),Di=function(){function e(t){Object(y.a)(this,e),this.value=Bi(t)}return Object(g.a)(e,[{key:"visit",value:function(e){return e.visitText(this)}}]),e}(),Fi=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(y.a)(this,n),t.call(this,"\n".concat(new Array(e+1).join(" ")))}return n}(Di),Li=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function Bi(e){return Li.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}var Vi=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"write",value:function(e,t){var n=new qi,r=new Ui,i=new Ri("messagebundle");return e.forEach((function(e){var t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);var n=[];e.sources.forEach((function(e){n.push(new Ri("source",{},[new Di("".concat(e.filePath,":").concat(e.startLine).concat(e.endLine!==e.startLine?","+e.endLine:""))]))})),i.children.push(new Fi(2),new Ri("msg",t,[].concat(n,Object(m.a)(r.serialize(e.nodes)))))})),i.children.push(new Fi),Mi([new Ai({version:"1.0",encoding:"UTF-8"}),new Fi,new Ii("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Fi,n.addDefaultExamples(i),new Fi])}},{key:"load",value:function(e,t){throw new Error("Unsupported")}},{key:"digest",value:function(e){return Hi(e)}},{key:"createNameMapper",value:function(e){return new Ni(e,Wi)}}]),n}(ji),Ui=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){return[new Di(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach((function(e){return r.push.apply(r,Object(m.a)(e.visit(n)))})),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new Di("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach((function(t){r.push.apply(r,[new Di("".concat(t," {"))].concat(Object(m.a)(e.cases[t].visit(n)),[new Di("} ")]))})),r.push(new Di("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n=new Di("<".concat(e.tag,">")),r=new Ri("ex",{},[n]),i=new Ri("ph",{name:e.startName},[r,n]);if(e.isVoid)return[i];var a=new Di("</".concat(e.tag,">")),s=new Ri("ex",{},[a]),o=new Ri("ph",{name:e.closeName},[s,a]);return[i].concat(Object(m.a)(this.serialize(e.children)),[o])}},{key:"visitPlaceholder",value:function(e,t){var n=new Di("{{".concat(e.value,"}}")),r=new Ri("ex",{},[n]);return[new Ri("ph",{name:e.name},[r,n])]}},{key:"visitIcuPlaceholder",value:function(e,t){var n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map((function(e){return e+" {...}"})).join(" "),a=new Di("{".concat(n,", ").concat(r,", ").concat(i,"}")),s=new Ri("ex",{},[a]);return[new Ri("ph",{name:e.name},[s,a])]}},{key:"serialize",value:function(e){var t,n=this;return(t=[]).concat.apply(t,Object(m.a)(e.map((function(e){return e.visit(n)}))))}}]),e}();function Hi(e){return si(e)}var qi=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"addDefaultExamples",value:function(e){return e.visit(this),e}},{key:"visitTag",value:function(e){var t=this;if("ph"===e.name){if(!e.children||0==e.children.length){var n=new Di(e.attrs.name||"...");e.children=[new Ri("ex",{},[n])]}}else e.children&&e.children.forEach((function(e){return e.visit(t)}))}},{key:"visitText",value:function(e){}},{key:"visitDeclaration",value:function(e){}},{key:"visitDoctype",value:function(e){}}]),e}();function Wi(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function zi(e){return"i18n"===e||e.startsWith("i18n-")}function Ki(e){return e instanceof Gr}function Qi(e){return Ki(e)&&1===e.nodes.length&&e.nodes[0]instanceof Jr}function Xi(e){return!!e.i18n}function Gi(e){return e.nodes[0]}function $i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t>0?":".concat(t):"";return"".concat("\ufffd").concat(e).concat(n).concat("\ufffd")}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e;return function(){return t++}}function Ji(e){var t={};return e.forEach((function(e,n){t[n]=Yt(e.length>1?"[".concat(e.join("|"),"]"):e[0])})),t}function Zi(e,t){for(var n=e.get(t)||[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];n.push.apply(n,i),e.set(t,n)}function ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t,i=new Map,a=e instanceof Gr?e.nodes.find((function(e){return e instanceof Yr})):e;return a&&a.children.filter((function(e){return e instanceof ei})).forEach((function(e,t){var a=$i(r+t,n);Zi(i,e.name,a)})),i}function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};return e&&Object.keys(e).length&&Object.keys(e).forEach((function(r){return n[na(r,t)]=e[r]})),n}function na(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Wi(e);if(!t)return n;var r,i=n.split("_");if(1===i.length)return e.toLowerCase();/^\d+$/.test(i[i.length-1])&&(r=i.pop());var a=i.shift().toLowerCase();return i.length&&(a+=i.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join("")),r?"".concat(a,"_").concat(r):a}function ra(e){return"".concat("MSG_").concat(e).toUpperCase()}function ia(e){return new bt(e.name,void 0,Se,void 0,e.sourceSpan)}var aa=/[-.]/;function sa(e,t){var n=null;return function(){return n||(e.push(new bt("_t",void 0,Ee)),n=Ht(t)),n}}function oa(e){if(this)throw new Error("Builder ".concat(this.constructor.name," doesn't support ").concat(e," yet"));throw new Error("Feature ".concat(e," is not supported yet"))}function ua(e){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(e.constructor.name))}function ca(e){return Array.isArray(e)?Qt(e.map(ca)):Yt(e,Se)}function la(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return Xt(Object.getOwnPropertyNames(e).map((function(n){var r,i,a,s=e[n];if(Array.isArray(s)){var o=Object(c.a)(s,2);i=o[0],r=o[1]}else{var u=tn(n,[n,s]),l=Object(c.a)(u,2);r=l[0],i=l[1]}return{key:a=r,quoted:aa.test(a),value:t&&i!==r?Qt([ca(i),ca(r)]):ca(i)}})))}(e,t):null}function ha(e){for(;Jt(e[e.length-1]);)e.pop();return e}function pa(e,t){if(Array.isArray(e.predicate)){var n=[];return e.predicate.forEach((function(e){var t=e.split(",").map((function(e){return Yt(e.trim())}));n.push.apply(n,Object(m.a)(t))})),t.getConstLiteral(Qt(n),!0)}return e.predicate}var va,fa,da,ma=function(){function e(){Object(y.a)(this,e),this.values=[]}return Object(g.a)(e,[{key:"set",value:function(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}},{key:"toLiteralMap",value:function(){return Xt(this.values)}}]),e}();function ya(e){var t={};return e instanceof Hr&&"ng-template"!==e.tagName?e.templateAttrs.forEach((function(e){return t[e.name]=""})):(e.attributes.forEach((function(e){zi(e.name)||(t[e.name]=e.value)})),e.inputs.forEach((function(e){t[e.name]=""})),e.outputs.forEach((function(e){t[e.name]=""}))),t}function ga(e,t,n){var r=qt(e,null,n);if(t.length>0)for(var i=0;i<t.length;i++)r=r.callFn(t[i],n);else r=r.callFn([],n);return r}function ba(e){var t=e.expressions,n=e.strings;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}function ka(e){var t,n,r,i=Ht("t"),a=[],s=Oe,o=Sa(e)?i:new ot(ye.Or,i,e.internalType),u=null;if(null!==e.deps)"invalid"!==e.deps&&(u=new Ue(o,_a(e.deps,e.injectFn,e.target===fa.Pipe)),t=e.deps,n=!1,r=t.map((function(e){var t=function(e){var t=[];return e.resolved===da.Attribute&&null!==e.attribute&&t.push({key:"attribute",value:e.attribute,quoted:!1}),e.optional&&t.push({key:"optional",value:Yt(!0),quoted:!1}),e.host&&t.push({key:"host",value:Yt(!0),quoted:!1}),e.self&&t.push({key:"self",value:Yt(!0),quoted:!1}),e.skipSelf&&t.push({key:"skipSelf",value:Yt(!0),quoted:!1}),t.length>0?Xt(t):null}(e);return null!==t?(n=!0,t):Yt(null)})),s=n?zt(Qt(r)):Oe);else{var c=Ht("\u0275".concat(e.name,"_BaseFactory")),l=qt(yr.getInheritedFactory),h=c.set(l.callFn([e.internalType],void 0,!0)).toDeclStmt(Se,[Ye.Exported,Ye.Final]);a.push(h),u=c.callFn([o])}var p=u,v=[],f=null;function d(e){var t=Ht("r");v.push(t.set(ft).toDeclStmt());var n=null;return n=null!==p?t.set(p).toStmt():qt(yr.invalidFactory).callFn([]).toStmt(),v.push($t(i,[n],[t.set(e).toStmt()])),t}if(Sa(e)&&e.delegateType===va.Factory){var m=Ht("\u0275".concat(e.name,"_BaseFactory")),y=qt(yr.getFactoryOf);if(e.delegate.isEquivalent(e.internalType))throw new Error("Illegal state: compiling factory that delegates to itself");var g=m.set(y.callFn([e.delegate])).toDeclStmt(Se,[Ye.Exported,Ye.Final]);a.push(g),f=d(m.callFn([]))}else if(Sa(e)){var b=_a(e.delegateDeps,e.injectFn,e.target===fa.Pipe);f=d(new(e.delegateType===va.Class?Ue:Ve)(e.delegate,b))}else f=function(e){return void 0!==e.expression}(e)?d(e.expression):u;return null!==f?v.push(new Et(f)):v.push(qt(yr.invalidFactory).callFn([]).toStmt()),{factory:Gt([new it("t",Ee)],v,Se,void 0,"".concat(e.name,"_Factory")),statements:a,type:zt(qt(yr.FactoryDef,[kr(e.type.type,e.typeArgumentCount),s]))}}function _a(e,t,n){return e.map((function(e,r){return function(e,t,n,r){switch(e.resolved){case da.Token:case da.ChangeDetectorRef:var i=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0),a=0!==i||e.optional?Yt(i):null;if(n&&e.resolved===da.ChangeDetectorRef)return qt(yr.injectPipeChangeDetectorRef).callFn(a?[a]:[]);var s=[e.token];return a&&s.push(a),qt(t).callFn(s);case da.Attribute:return qt(yr.injectAttribute).callFn([e.token]);case da.Invalid:return qt(yr.invalidFactoryDep).callFn([Yt(r)]);default:return oa("Unknown R3ResolvedDependencyType: ".concat(da[e.resolved]))}}(e,t,n,r)}))}function Ea(e,t,n){n.resolveExternalReference(Ln.Injector);var r,i=[],a=Object(h.a)(e.diDeps);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.token){var o=er(s.token),u=s.isAttribute?da.Attribute:da.Token,c=o instanceof Un?t.importExpr(o):Yt(o);i.push({token:c,attribute:null,resolved:u,host:!!s.isHost,optional:!!s.isOptional,self:!!s.isSelf,skipSelf:!!s.isSkipSelf})}else oa("dependency without a token")}}catch(l){a.e(l)}finally{a.f()}return i}function Sa(e){return void 0!==e.delegateType}function xa(e){var t=null,n={name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:e.typeArgumentCount,deps:[],injectFn:Ln.inject,target:fa.Injectable};if(void 0!==e.useClass){var r=e.useClass.isEquivalent(e.internalType),i=void 0;void 0!==e.userDeps&&(i=e.userDeps),t=void 0!==i?ka(Object.assign(Object.assign({},n),{delegate:e.useClass,delegateDeps:i,delegateType:va.Class})):r?ka(n):wa(e.type.value,e.useClass)}else t=void 0!==e.useFactory?void 0!==e.userDeps?ka(Object.assign(Object.assign({},n),{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:va.Function})):{statements:[],factory:Gt([],[new Et(e.useFactory.callFn([]))])}:void 0!==e.useValue?ka(Object.assign(Object.assign({},n),{expression:e.useValue})):void 0!==e.useExisting?ka(Object.assign(Object.assign({},n),{expression:qt(Ln.inject).callFn([e.useExisting])})):wa(e.type.value,e.internalType);var a={token:e.internalType,factory:t.factory};return null!==e.providedIn.value&&(a.providedIn=e.providedIn),{expression:qt(Ln.\u0275\u0275defineInjectable).callFn([gr(a)]),type:new be(qt(Ln.InjectableDef,[kr(e.type.type,e.typeArgumentCount)])),statements:t.statements}}function wa(e,t){return{statements:[],factory:e.node===t.node?t.prop("\u0275fac"):Gt([new it("t",Ee)],[new Et(t.callMethod("\u0275fac",[Ht("t")]))])}}function Ca(e,t){if(null!=t){if(!Array.isArray(t))throw new Error("Expected '".concat(e,"' to be an array of strings."));for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error("Expected '".concat(e,"' to be an array of strings."))}}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function",e[e.Factory=2]="Factory"}(va||(va={})),function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(fa||(fa={})),function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid"}(da||(da={}));var Oa=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Ta(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected '".concat(e,"' to be an array, [start, end]."));if(null!=t){var n=t[0],r=t[1];Oa.forEach((function(e){if(e.test(n)||e.test(r))throw new Error("['".concat(n,"', '").concat(r,"'] contains unusable interpolation symbol."))}))}}var ja=function(){function e(t,n){Object(y.a)(this,e),this.start=t,this.end=n}return Object(g.a)(e,null,[{key:"fromArray",value:function(t){return t?(Ta("interpolation",t),new e(t[0],t[1])):Na}}]),e}(),Na=new ja("{{","}}"),Pa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(y.a)(this,e),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return Object(g.a)(e,[{key:"addSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}},{key:"addLine",value:function(){return this.lines.push([]),this.lastCol0=0,this}},{key:"addMapping",value:function(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error('Unknown source file "'.concat(t,'"'));if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}},{key:"toJSON",value:function(){var e=this;if(!this.hasMappings)return null;var t=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((function(i,a){t.set(i,a),n.push(i),r.push(e.sourcesContent.get(i)||null)}));var i="",a=0,s=0,o=0,u=0;return this.lines.forEach((function(e){a=0,i+=e.map((function(e){var n=Ma(e.col0-a);return a=e.col0,null!=e.sourceUrl&&(n+=Ma(t.get(e.sourceUrl)-s),s=t.get(e.sourceUrl),n+=Ma(e.sourceLine0-o),o=e.sourceLine0,n+=Ma(e.sourceCol0-u),u=e.sourceCol0),n})).join(","),i+=";"})),i=i.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}},{key:"toJsComment",value:function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){var t="";e=bn(e);for(var n=0;n<e.length;){var r=e.charCodeAt(n++),i=e.charCodeAt(n++),a=e.charCodeAt(n++);t+=Aa(r>>2),t+=Aa((3&r)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":Aa((15&i)<<2|a>>6),t+=isNaN(i)||isNaN(a)?"=":Aa(63&a)}return t}(JSON.stringify(this,null,0)):""}},{key:"currentLine",get:function(){return this.lines.slice(-1)[0]}}]),e}();function Ma(e){e=e<0?1+(-e<<1):e<<1;var t="";do{var n=31&e;(e>>=5)>0&&(n|=32),t+=Aa(n)}while(e>0);return t}function Aa(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}var Ia=/'|\\|\n|\r|\$/g,Ra=/^[$A-Z_][0-9A-Z_$]*$/i,Da=Ht("error",null,null),Fa=Ht("stack",null,null),La=function e(t){Object(y.a)(this,e),this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]},Ba=function(){function e(t){Object(y.a)(this,e),this._indent=t,this._classes=[],this._preambleLineCount=0,this._lines=[new La(t)]}return Object(g.a)(e,[{key:"println",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.print(e||null,t,!0)}},{key:"lineIsEmpty",value:function(){return 0===this._currentLine.parts.length}},{key:"lineLength",value:function(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}},{key:"print",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new La(this._indent))}},{key:"removeEmptyLastLine",value:function(){this.lineIsEmpty()&&this._lines.pop()}},{key:"incIndent",value:function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"decIndent",value:function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"pushClass",value:function(e){this._classes.push(e)}},{key:"popClass",value:function(){return this._classes.pop()}},{key:"toSource",value:function(){return this.sourceLines.map((function(e){return e.parts.length>0?Ha(e.indent)+e.parts.join(""):""})).join("\n")}},{key:"toSourceMapGenerator",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Pa(e),r=!1,i=function(){r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)},a=0;a<t;a++)n.addLine(),i();return this.sourceLines.forEach((function(e,t){n.addLine();for(var a=e.srcSpans,s=e.parts,o=e.indent*"  ".length,u=0;u<a.length&&!a[u];)o+=s[u].length,u++;for(u<a.length&&0===t&&0===o?r=!0:i();u<a.length;){var c=a[u],l=c.start.file,h=c.start.line,p=c.start.col;for(n.addSource(l.url,l.content).addMapping(o,l.url,h,p),o+=s[u].length,u++;u<a.length&&(c===a[u]||!a[u]);)o+=s[u].length,u++}})),n}},{key:"setPreambleLineCount",value:function(e){return this._preambleLineCount=e}},{key:"spanOf",value:function(e,t){var n=this._lines[e-this._preambleLineCount];if(n)for(var r=t-Ha(n.indent).length,i=0;i<n.parts.length;i++){var a=n.parts[i];if(a.length>r)return n.srcSpans[i];r-=a.length}return null}},{key:"_currentLine",get:function(){return this._lines[this._lines.length-1]}},{key:"currentClass",get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null}},{key:"sourceLines",get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}],[{key:"createRoot",value:function(){return new e(0)}}]),e}(),Va=function(){function e(t){Object(y.a)(this,e),this._escapeDollarInStrings=t}return Object(g.a)(e,[{key:"printLeadingComments",value:function(e,t){if(void 0!==e.leadingComments){var n,r=Object(h.a)(e.leadingComments);try{for(r.s();!(n=r.n()).done;){var i=n.value;i instanceof yt?t.print(e,"/*".concat(i.toString(),"*/"),i.trailingNewline):i.multiline?t.print(e,"/* ".concat(i.text," */"),i.trailingNewline):i.text.split("\n").forEach((function(n){t.println(e,"// ".concat(n))}))}}catch(a){r.e(a)}finally{r.f()}}}},{key:"visitExpressionStmt",value:function(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}},{key:"visitReturnStmt",value:function(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}},{key:"visitIfStmt",value:function(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");var n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}},{key:"visitThrowStmt",value:function(e,t){return this.printLeadingComments(e,t),t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}},{key:"visitWriteVarExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,"".concat(e.name," = ")),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitWriteKeyExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitWritePropExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,".".concat(e.name," = ")),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitInvokeMethodExpr",value:function(e,t){e.receiver.visitExpression(this,t);var n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))||(t.print(e,".".concat(n,"(")),this.visitAllExpressions(e.args,t,","),t.print(e,")")),null}},{key:"visitInvokeFunctionExpr",value:function(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}},{key:"visitReadVarExpr",value:function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Ne.Super:n="super";break;case Ne.This:n="this";break;case Ne.CatchError:n=Da.name;break;case Ne.CatchStack:n=Fa.name;break;default:throw new Error("Unknown builtin variable ".concat(e.builtin))}return t.print(e,n),null}},{key:"visitInstantiateExpr",value:function(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitLiteralExpr",value:function(e,t){var n=e.value;return"string"==typeof n?t.print(e,Ua(n,this._escapeDollarInStrings)):t.print(e,"".concat(n)),null}},{key:"visitLocalizedString",value:function(e,t){var n=e.serializeI18nHead();t.print(e,"$localize `"+n.raw);for(var r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,"}".concat(e.serializeI18nTemplatePart(r).raw));return t.print(e,"`"),null}},{key:"visitConditionalExpr",value:function(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}},{key:"visitNotExpr",value:function(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t),null}},{key:"visitUnaryOperatorExpr",value:function(e,t){var n;switch(e.operator){case me.Plus:n="+";break;case me.Minus:n="-";break;default:throw new Error("Unknown operator ".concat(e.operator))}return e.parens&&t.print(e,"("),t.print(e,n),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}},{key:"visitBinaryOperatorExpr",value:function(e,t){var n;switch(e.operator){case ye.Equals:n="==";break;case ye.Identical:n="===";break;case ye.NotEquals:n="!=";break;case ye.NotIdentical:n="!==";break;case ye.And:n="&&";break;case ye.BitwiseAnd:n="&";break;case ye.Or:n="||";break;case ye.Plus:n="+";break;case ye.Minus:n="-";break;case ye.Divide:n="/";break;case ye.Multiply:n="*";break;case ye.Modulo:n="%";break;case ye.Lower:n="<";break;case ye.LowerEquals:n="<=";break;case ye.Bigger:n=">";break;case ye.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator ".concat(e.operator))}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e," ".concat(n," ")),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}},{key:"visitLiteralArrayExpr",value:function(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return t.print(e,"{"),this.visitAllObjects((function(r){t.print(e,"".concat(Ua(r.key,n._escapeDollarInStrings,r.quoted),":")),r.value.visitExpression(n,t)}),e.entries,t,","),t.print(e,"}"),null}},{key:"visitCommaExpr",value:function(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}},{key:"visitAllExpressions",value:function(e,t,n){var r=this;this.visitAllObjects((function(e){return e.visitExpression(r,t)}),e,t,n)}},{key:"visitAllObjects",value:function(e,t,n,r){for(var i=!1,a=0;a<t.length;a++)a>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[a]);i&&(n.decIndent(),n.decIndent())}},{key:"visitAllStatements",value:function(e,t){var n=this;e.forEach((function(e){return e.visitStatement(n,t)}))}}]),e}();function Ua(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e)return null;var r=e.replace(Ia,(function(){return"$"==(arguments.length<=0?void 0:arguments[0])?t?"\\$":"$":"\n"==(arguments.length<=0?void 0:arguments[0])?"\\n":"\r"==(arguments.length<=0?void 0:arguments[0])?"\\r":"\\".concat(arguments.length<=0?void 0:arguments[0])})),i=n||!Ra.test(r);return i?"'".concat(r,"'"):r}function Ha(e){for(var t="",n=0;n<e;n++)t+="  ";return t}var qa=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.call(this,!1)}return Object(g.a)(n,[{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,"".concat(e.name,".prototype = Object.create(")),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach((function(r){return n._visitClassGetter(e,r,t)})),e.methods.forEach((function(r){return n._visitClassMethod(e,r,t)})),t.popClass(),null}},{key:"_visitClassConstructor",value:function(e,t){t.print(e,"function ".concat(e.name,"(")),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}},{key:"_visitClassGetter",value:function(e,t,n){n.println(e,"Object.defineProperty(".concat(e.name,".prototype, '").concat(t.name,"', { get: function() {")),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}},{key:"_visitClassMethod",value:function(e,t,n){n.print(e,"".concat(e.name,".prototype.").concat(t.name," = function(")),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}},{key:"visitReadVarExpr",value:function(e,t){if(e.builtin===Ne.This)t.print(e,"self");else{if(e.builtin===Ne.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");Object(p.a)(Object(v.a)(n.prototype),"visitReadVarExpr",this).call(this,e,t)}return null}},{key:"visitDeclareVarStmt",value:function(e,t){return t.print(e,"var ".concat(e.name)),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t),null}},{key:"visitInvokeFunctionExpr",value:function(e,t){var r=e.fn;return r instanceof Ae&&r.builtin===Ne.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):Object(p.a)(Object(v.a)(n.prototype),"visitInvokeFunctionExpr",this).call(this,e,t),null}},{key:"visitFunctionExpr",value:function(e,t){return t.print(e,"function".concat(e.name?" "+e.name:"","(")),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}},{key:"visitDeclareFunctionStmt",value:function(e,t){return t.print(e,"function ".concat(e.name,"(")),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitTryCatchStmt",value:function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch (".concat(Da.name,") {")),t.incIndent();var n=[Fa.set(Da.prop("stack")).toDeclStmt(null,[Ye.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitLocalizedString",value:function(e,t){var n=this;t.print(e,'$localize((this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})(');for(var r=[e.serializeI18nHead()],i=1;i<e.messageParts.length;i++)r.push(e.serializeI18nTemplatePart(i));return t.print(e,"[".concat(r.map((function(e){return Ua(e.cooked,!1)})).join(", "),"], ")),t.print(e,"[".concat(r.map((function(e){return Ua(e.raw,!1)})).join(", "),"])")),e.expressions.forEach((function(r){t.print(e,", "),r.visitExpression(n,t)})),t.print(e,")"),null}},{key:"_visitParams",value:function(e,t){this.visitAllObjects((function(e){return t.print(null,e.name)}),e,t,",")}},{key:"getBuiltinMethodName",value:function(e){var t;switch(e){case Me.ConcatArray:t="concat";break;case Me.SubscribeObservable:t="subscribe";break;case Me.Bind:t="bind";break;default:throw new Error("Unknown builtin method: ".concat(e))}return t}}]),n}(Va),Wa=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"evaluateStatements",value:function(e,t,n,r){var i=new za(n),a=Ba.createRoot();return t.length>0&&!t[0].isEquivalent(Yt("use strict").toStmt())&&(t=[Yt("use strict").toStmt()].concat(Object(m.a)(t))),i.visitAllStatements(t,a),i.createReturnStmt(a),this.evaluateCode(e,a,i.getArgs(),r)}},{key:"evaluateCode",value:function(e,t,n,r){var i='"use strict";'.concat(t.toSource(),"\n//# sourceURL=").concat(e),a=[],s=[];for(var o in n)s.push(n[o]),a.push(o);if(r){var c=Object(u.a)(Function,Object(m.a)(a.concat("return null;"))).toString(),l=c.slice(0,c.indexOf("return null;")).split("\n").length-1;i+="\n".concat(t.toSourceMapGenerator(e,l).toJsComment())}var h=Object(u.a)(Function,Object(m.a)(a.concat(i)));return this.executeFunction(h,s)}},{key:"executeFunction",value:function(e,t){return e.apply(void 0,Object(m.a)(t))}}]),e}(),za=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this)).reflector=e,r._evalArgNames=[],r._evalArgValues=[],r._evalExportedVars=[],r}return Object(g.a)(n,[{key:"createReturnStmt",value:function(e){new Et(new pt(this._evalExportedVars.map((function(e){return new ht(e,Ht(e),!1)})))).visitStatement(this,e)}},{key:"getArgs",value:function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}},{key:"visitExternalExpr",value:function(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}},{key:"visitWrappedNodeExpr",value:function(e,t){return this._emitReferenceToExternal(e,e.node,t),null}},{key:"visitDeclareVarStmt",value:function(e,t){return e.hasModifier(Ye.Exported)&&this._evalExportedVars.push(e.name),Object(p.a)(Object(v.a)(n.prototype),"visitDeclareVarStmt",this).call(this,e,t)}},{key:"visitDeclareFunctionStmt",value:function(e,t){return e.hasModifier(Ye.Exported)&&this._evalExportedVars.push(e.name),Object(p.a)(Object(v.a)(n.prototype),"visitDeclareFunctionStmt",this).call(this,e,t)}},{key:"visitDeclareClassStmt",value:function(e,t){return e.hasModifier(Ye.Exported)&&this._evalExportedVars.push(e.name),Object(p.a)(Object(v.a)(n.prototype),"visitDeclareClassStmt",this).call(this,e,t)}},{key:"_emitReferenceToExternal",value:function(e,t,n){var r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);var i=Qn({reference:t})||"val";this._evalArgNames.push("jit_".concat(i,"_").concat(r))}n.print(e,this._evalArgNames[r])}}]),n}(qa);var Ka=function(){function e(t){Object(y.a)(this,e),this.context=t}return Object(g.a)(e,[{key:"resolveExternalReference",value:function(e){if("@angular/core"!==e.moduleName)throw new Error("Cannot resolve external reference to ".concat(e.moduleName,", only references to @angular/core are supported."));if(!this.context.hasOwnProperty(e.name))throw new Error("No value provided for @angular/core symbol '".concat(e.name,"'."));return this.context[e.name]}},{key:"parameters",value:function(e){throw new Error("Not implemented.")}},{key:"annotations",value:function(e){throw new Error("Not implemented.")}},{key:"shallowAnnotations",value:function(e){throw new Error("Not implemented.")}},{key:"tryAnnotations",value:function(e){throw new Error("Not implemented.")}},{key:"propMetadata",value:function(e){throw new Error("Not implemented.")}},{key:"hasLifecycleHook",value:function(e,t){throw new Error("Not implemented.")}},{key:"guards",value:function(e){throw new Error("Not implemented.")}},{key:"componentModuleUrl",value:function(e,t){throw new Error("Not implemented.")}}]),e}();function Qa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xt(Object.keys(e).map((function(n){return{key:n,quoted:t,value:e[n]}})))}function Xa(e){var t=e.internalType,n=e.type,r=e.bootstrap,i=e.declarations,a=e.imports,s=e.exports,o=e.schemas,u=e.containsForwardDecls,c=e.emitInline,l=e.id,h=[],p={type:t};if(r.length&&(p.bootstrap=Ya(r,u)),c)i.length&&(p.declarations=Ya(i,u)),a.length&&(p.imports=Ya(a,u)),s.length&&(p.exports=Ya(s,u));else{var v=function(e){var t=e.adjacentType,n=e.declarations,r=e.imports,i=e.exports,a=e.containsForwardDecls,s={};n.length&&(s.declarations=Ya(n,a));r.length&&(s.imports=Ya(r,a));i.length&&(s.exports=Ya(i,a));if(0===Object.keys(s).length)return null;var o=(c=new Ve(qt(yr.setNgModuleScope),[t,gr(s)]),l=new Je({name:"ngJitMode",moduleName:null}),h=new ot(ye.Identical,new Ie(l),Yt("undefined")),p=new ot(ye.Or,h,l,void 0,void 0,!0),new ot(ye.And,p,c)),u=new at([],[o.toStmt()]);var c,l,h,p;return new Ve(u,[]).toStmt()}(e);null!==v&&h.push(v)}return o&&o.length&&(p.schemas=Qt(o.map((function(e){return e.value})))),l&&(p.id=l),{expression:qt(yr.defineNgModule).callFn([gr(p)]),type:new be(qt(yr.NgModuleDefWithMeta,[new be(n.type),$a(i),$a(a),$a(s)])),additionalStatements:h}}function Ga(e){var t=ka({name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:0,deps:e.deps,injectFn:yr.inject,target:fa.NgModule}),n={factory:t.factory};return null!==e.providers&&(n.providers=e.providers),e.imports.length>0&&(n.imports=Qt(e.imports)),{expression:qt(yr.defineInjector).callFn([gr(n)]),type:new be(qt(yr.InjectorDef,[new be(e.type.type)])),statements:t.statements}}function $a(e){var t=e.map((function(e){return Kt(e.type)}));return e.length>0?zt(Qt(t)):Oe}function Ya(e,t){var n=Qt(e.map((function(e){return e.value})));return t?Gt([],[new Et(n)]):n}function Ja(e){var t=[];return t.push({key:"name",value:Yt(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type.value,quoted:!1}),t.push({key:"pure",value:Yt(e.pure),quoted:!1}),{expression:qt(yr.definePipe).callFn([Xt(t)]),type:new be(qt(yr.PipeDefWithMeta,[kr(e.type.type,e.typeArgumentCount),new be(new He(e.pipeName))]))}}var Za,es=function e(t,n,r,i){Object(y.a)(this,e),this.input=n,this.errLocation=r,this.ctxLocation=i,this.message="Parser Error: ".concat(t," ").concat(r," [").concat(n,"] in ").concat(i)},ts=function(){function e(t,n){Object(y.a)(this,e),this.start=t,this.end=n}return Object(g.a)(e,[{key:"toAbsolute",value:function(e){return new Cs(e+this.start,e+this.end)}}]),e}(),ns=function(){function e(t,n){Object(y.a)(this,e),this.span=t,this.sourceSpan=n}return Object(g.a)(e,[{key:"visit",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null}},{key:"toString",value:function(){return"AST"}}]),e}(),rs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,e,r)).nameSpan=i,a}return n}(ns),is=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,e,r)).prefix=i,o.uninterpretedExpression=a,o.location=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitQuote(this,t)}},{key:"toString",value:function(){return"Quote"}}]),n}(ns),as=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"visit",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}]),n}(ns),ss=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitImplicitReceiver(this,t)}}]),n}(ns),os=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,e,r)).expressions=i,a}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitChain(this,t)}}]),n}(ns),us=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,e,r)).condition=i,o.trueExp=a,o.falseExp=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitConditional(this,t)}}]),n}(ns),cs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,e,r,i)).receiver=a,o.name=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPropertyRead(this,t)}}]),n}(rs),ls=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o){var u;return Object(y.a)(this,n),(u=t.call(this,e,r,i)).receiver=a,u.name=s,u.value=o,u}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPropertyWrite(this,t)}}]),n}(rs),hs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,e,r,i)).receiver=a,o.name=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitSafePropertyRead(this,t)}}]),n}(rs),ps=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,e,r)).obj=i,s.key=a,s}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitKeyedRead(this,t)}}]),n}(ns),vs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,e,r)).obj=i,o.key=a,o.value=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitKeyedWrite(this,t)}}]),n}(ns),fs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o){var u;return Object(y.a)(this,n),(u=t.call(this,e,r,o)).exp=i,u.name=a,u.args=s,u}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPipe(this,t)}}]),n}(rs),ds=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,e,r)).value=i,a}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralPrimitive(this,t)}}]),n}(ns),ms=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,e,r)).expressions=i,a}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralArray(this,t)}}]),n}(ns),ys=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,e,r)).keys=i,s.values=a,s}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralMap(this,t)}}]),n}(ns),gs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,e,r)).strings=i,s.expressions=a,s}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitInterpolation(this,t)}}]),n}(ns),bs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,e,r)).operation=i,o.left=a,o.right=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitBinary(this,t)}}]),n}(ns),ks=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o,u){var c;return Object(y.a)(this,n),(c=t.call(this,e,r,s,o,u)).operator=i,c.expr=a,c}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==e.visitUnary?e.visitUnary(this,t):e.visitBinary(this,t)}}],[{key:"createMinus",value:function(e,t,r){return new n(e,t,"-",r,"-",new ds(e,t,0),r)}},{key:"createPlus",value:function(e,t,r){return new n(e,t,"+",r,"-",r,new ds(e,t,0))}}]),n}(bs),_s=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,e,r)).expression=i,a}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPrefixNot(this,t)}}]),n}(ns),Es=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,e,r)).expression=i,a}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitNonNullAssert(this,t)}}]),n}(ns),Ss=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o){var u;return Object(y.a)(this,n),(u=t.call(this,e,r,i)).receiver=a,u.name=s,u.args=o,u}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitMethodCall(this,t)}}]),n}(rs),xs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o){var u;return Object(y.a)(this,n),(u=t.call(this,e,r,i)).receiver=a,u.name=s,u.args=o,u}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitSafeMethodCall(this,t)}}]),n}(rs),ws=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,e,r)).target=i,s.args=a,s}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitFunctionCall(this,t)}}]),n}(ns),Cs=function e(t,n){Object(y.a)(this,e),this.start=t,this.end=n},Os=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,new ts(0,null===r?0:r.length),new Cs(a,null===r?a:a+r.length))).ast=e,o.source=r,o.location=i,o.errors=s,o}return Object(g.a)(n,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}},{key:"toString",value:function(){return"".concat(this.source," in ").concat(this.location)}}]),n}(ns),Ts=function e(t,n,r){Object(y.a)(this,e),this.sourceSpan=t,this.key=n,this.value=r},js=function e(t,n,r){Object(y.a)(this,e),this.sourceSpan=t,this.key=n,this.value=r},Ns=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visit",value:function(e,t){e.visit(this,t)}},{key:"visitUnary",value:function(e,t){this.visit(e.expr,t)}},{key:"visitBinary",value:function(e,t){this.visit(e.left,t),this.visit(e.right,t)}},{key:"visitChain",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitConditional",value:function(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}},{key:"visitPipe",value:function(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}},{key:"visitFunctionCall",value:function(e,t){e.target&&this.visit(e.target,t),this.visitAll(e.args,t)}},{key:"visitImplicitReceiver",value:function(e,t){}},{key:"visitInterpolation",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitKeyedRead",value:function(e,t){this.visit(e.obj,t),this.visit(e.key,t)}},{key:"visitKeyedWrite",value:function(e,t){this.visit(e.obj,t),this.visit(e.key,t),this.visit(e.value,t)}},{key:"visitLiteralArray",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitLiteralMap",value:function(e,t){this.visitAll(e.values,t)}},{key:"visitLiteralPrimitive",value:function(e,t){}},{key:"visitMethodCall",value:function(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}},{key:"visitPrefixNot",value:function(e,t){this.visit(e.expression,t)}},{key:"visitNonNullAssert",value:function(e,t){this.visit(e.expression,t)}},{key:"visitPropertyRead",value:function(e,t){this.visit(e.receiver,t)}},{key:"visitPropertyWrite",value:function(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}},{key:"visitSafePropertyRead",value:function(e,t){this.visit(e.receiver,t)}},{key:"visitSafeMethodCall",value:function(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}},{key:"visitQuote",value:function(e,t){}},{key:"visitAll",value:function(e,t){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.visit(i,t)}}catch(a){r.e(a)}finally{r.f()}}}]),e}(),Ps=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitImplicitReceiver",value:function(e,t){return e}},{key:"visitInterpolation",value:function(e,t){return new gs(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}},{key:"visitLiteralPrimitive",value:function(e,t){return new ds(e.span,e.sourceSpan,e.value)}},{key:"visitPropertyRead",value:function(e,t){return new cs(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}},{key:"visitPropertyWrite",value:function(e,t){return new ls(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}},{key:"visitSafePropertyRead",value:function(e,t){return new hs(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}},{key:"visitMethodCall",value:function(e,t){return new Ss(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}},{key:"visitSafeMethodCall",value:function(e,t){return new xs(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}},{key:"visitFunctionCall",value:function(e,t){return new ws(e.span,e.sourceSpan,e.target.visit(this),this.visitAll(e.args))}},{key:"visitLiteralArray",value:function(e,t){return new ms(e.span,e.sourceSpan,this.visitAll(e.expressions))}},{key:"visitLiteralMap",value:function(e,t){return new ys(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}},{key:"visitUnary",value:function(e,t){switch(e.operator){case"+":return ks.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return ks.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error("Unknown unary operator ".concat(e.operator))}}},{key:"visitBinary",value:function(e,t){return new bs(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}},{key:"visitPrefixNot",value:function(e,t){return new _s(e.span,e.sourceSpan,e.expression.visit(this))}},{key:"visitNonNullAssert",value:function(e,t){return new Es(e.span,e.sourceSpan,e.expression.visit(this))}},{key:"visitConditional",value:function(e,t){return new us(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}},{key:"visitPipe",value:function(e,t){return new fs(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}},{key:"visitKeyedRead",value:function(e,t){return new ps(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this))}},{key:"visitKeyedWrite",value:function(e,t){return new vs(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}},{key:"visitAll",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}},{key:"visitChain",value:function(e,t){return new os(e.span,e.sourceSpan,this.visitAll(e.expressions))}},{key:"visitQuote",value:function(e,t){return new is(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)}}]),e}(),Ms=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitImplicitReceiver",value:function(e,t){return e}},{key:"visitInterpolation",value:function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new gs(e.span,e.sourceSpan,e.strings,n):e}},{key:"visitLiteralPrimitive",value:function(e,t){return e}},{key:"visitPropertyRead",value:function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new cs(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}},{key:"visitPropertyWrite",value:function(e,t){var n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new ls(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}},{key:"visitSafePropertyRead",value:function(e,t){var n=e.receiver.visit(this);return n!==e.receiver?new hs(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}},{key:"visitMethodCall",value:function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new Ss(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}},{key:"visitSafeMethodCall",value:function(e,t){var n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new xs(e.span,e.sourceSpan,e.nameSpan,n,e.name,r):e}},{key:"visitFunctionCall",value:function(e,t){var n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new ws(e.span,e.sourceSpan,n,r):e}},{key:"visitLiteralArray",value:function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new ms(e.span,e.sourceSpan,n):e}},{key:"visitLiteralMap",value:function(e,t){var n=this.visitAll(e.values);return n!==e.values?new ys(e.span,e.sourceSpan,e.keys,n):e}},{key:"visitUnary",value:function(e,t){var n=e.expr.visit(this);if(n!==e.expr)switch(e.operator){case"+":return ks.createPlus(e.span,e.sourceSpan,n);case"-":return ks.createMinus(e.span,e.sourceSpan,n);default:throw new Error("Unknown unary operator ".concat(e.operator))}return e}},{key:"visitBinary",value:function(e,t){var n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new bs(e.span,e.sourceSpan,e.operation,n,r):e}},{key:"visitPrefixNot",value:function(e,t){var n=e.expression.visit(this);return n!==e.expression?new _s(e.span,e.sourceSpan,n):e}},{key:"visitNonNullAssert",value:function(e,t){var n=e.expression.visit(this);return n!==e.expression?new Es(e.span,e.sourceSpan,n):e}},{key:"visitConditional",value:function(e,t){var n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new us(e.span,e.sourceSpan,n,r,i):e}},{key:"visitPipe",value:function(e,t){var n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new fs(e.span,e.sourceSpan,n,e.name,r,e.nameSpan):e}},{key:"visitKeyedRead",value:function(e,t){var n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new ps(e.span,e.sourceSpan,n,r):e}},{key:"visitKeyedWrite",value:function(e,t){var n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new vs(e.span,e.sourceSpan,n,r,i):e}},{key:"visitAll",value:function(e){for(var t=[],n=!1,r=0;r<e.length;++r){var i=e[r],a=i.visit(this);t[r]=a,n=n||a!==i}return n?t:e}},{key:"visitChain",value:function(e,t){var n=this.visitAll(e.expressions);return n!==e.expressions?new os(e.span,e.sourceSpan,n):e}},{key:"visitQuote",value:function(e,t){return e}}]),e}(),As=function e(t,n,r,i,a){Object(y.a)(this,e),this.name=t,this.expression=n,this.type=r,this.sourceSpan=i,this.valueSpan=a,this.isLiteral=this.type===Za.LITERAL_ATTR,this.isAnimation=this.type===Za.ANIMATION};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(Za||(Za={}));var Is=function e(t,n,r,i,a,s){Object(y.a)(this,e),this.name=t,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=a,this.handlerSpan=s},Rs=function e(t,n,r,i,a){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.keySpan=i,this.valueSpan=a},Ds=function e(t,n,r,i,a,s,o){Object(y.a)(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=a,this.sourceSpan=s,this.valueSpan=o},Fs=function e(){Object(y.a)(this,e)};Fs.event=Ht("$event");var Ls=function e(t,n){Object(y.a)(this,e),this.stmts=t,this.allowDefault=n,this.render3Stmts=t.map((function(e){if(e instanceof bt&&e.name==n.name&&e.value instanceof ot){var t=e.value.lhs;return new Et(t.value)}return e}))};function Bs(e,t,n,r,i,a,s){e||(e=new Js);var o=Vs({createLiteralArrayConverter:function(e){return function(e){return Qt(e)}},createLiteralMapConverter:function(e){return function(t){return Xt(e.map((function(e,n){return{key:e.key,value:t[n],quoted:e.quoted}})))}},createPipeConverter:function(e){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: ".concat(e))}},n),u=new Ys(e,t,r,i,a,s),c=[];!function e(t,n){Array.isArray(t)?t.forEach((function(t){return e(t,n)})):n.push(t)}(o.visit(u,Hs.Statement),c),function(e,t,n){for(var r=e-1;r>=0;r--)n.unshift(Qs(t,r))}(u.temporaryCount,r,c),u.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var l=c.length-1,h=null;if(l>=0){var p=function(e){if(e instanceof _t)return e.expr;if(e instanceof Et)return e.value;return null}(c[l]);p&&(h=function(e){return Ht("pd_".concat(e))}(r),c[l]=h.set(p.cast(Ee).notIdentical(Yt(!1))).toDeclStmt(null,[Ye.Final]))}return new Ls(c,h)}function Vs(e,t){return function(e,t){var n=new $s(e);return t.visit(n)}(e,t)}var Us,Hs,qs=function e(t,n){Object(y.a)(this,e),this.stmts=t,this.currValExpr=n};function Ws(e,t,n,r,i,a){e||(e=new Js);var s=new Ys(e,t,r,a),o=n.visit(s,Hs.Expression),u=zs(s,r);if(s.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===s.temporaryCount&&i==Us.TrySimple)return new qs([],o);if(i===Us.Expression)return new qs(u,o);var c=function(e){return Ht("currVal_".concat(e))}(r);return u.push(c.set(o).toDeclStmt(Ee,[Ye.Final])),new qs(u,c)}function zs(e,t){for(var n=[],r=0;r<e.temporaryCount;r++)n.push(Qs(t,r));return n}function Ks(e,t){return"tmp_".concat(e,"_").concat(t)}function Qs(e,t){return new bt(Ks(e,t),ft)}function Xs(e,t){if(e!==Hs.Expression)throw new Error("Expected an expression, but saw ".concat(t))}function Gs(e,t){return e===Hs.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple",e[e.Expression=2]="Expression"}(Us||(Us={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(Hs||(Hs={}));var $s=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this))._converterFactory=e,r}return Object(g.a)(n,[{key:"visitPipe",value:function(e,t){var n=this,r=[e.exp].concat(Object(m.a)(e.args)).map((function(e){return e.visit(n,t)}));return new Zs(e.span,e.sourceSpan,r,this._converterFactory.createPipeConverter(e.name,r.length))}},{key:"visitLiteralArray",value:function(e,t){var n=this,r=e.expressions.map((function(e){return e.visit(n,t)}));return new Zs(e.span,e.sourceSpan,r,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}},{key:"visitLiteralMap",value:function(e,t){var n=this,r=e.values.map((function(e){return e.visit(n,t)}));return new Zs(e.span,e.sourceSpan,r,this._converterFactory.createLiteralMapConverter(e.keys))}}]),n}(Ps),Ys=function(){function e(t,n,r,i,a,s){Object(y.a)(this,e),this._localResolver=t,this._implicitReceiver=n,this.bindingId=r,this.interpolationFunction=i,this.baseSourceSpan=a,this.implicitReceiverAccesses=s,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}return Object(g.a)(e,[{key:"visitUnary",value:function(e,t){var n;switch(e.operator){case"+":n=me.Plus;break;case"-":n=me.Minus;break;default:throw new Error("Unsupported operator ".concat(e.operator))}return Gs(t,new st(n,this._visit(e.expr,Hs.Expression),void 0,this.convertSourceSpan(e.span)))}},{key:"visitBinary",value:function(e,t){var n;switch(e.operation){case"+":n=ye.Plus;break;case"-":n=ye.Minus;break;case"*":n=ye.Multiply;break;case"/":n=ye.Divide;break;case"%":n=ye.Modulo;break;case"&&":n=ye.And;break;case"||":n=ye.Or;break;case"==":n=ye.Equals;break;case"!=":n=ye.NotEquals;break;case"===":n=ye.Identical;break;case"!==":n=ye.NotIdentical;break;case"<":n=ye.Lower;break;case">":n=ye.Bigger;break;case"<=":n=ye.LowerEquals;break;case">=":n=ye.BiggerEquals;break;default:throw new Error("Unsupported operation ".concat(e.operation))}return Gs(t,new ot(n,this._visit(e.left,Hs.Expression),this._visit(e.right,Hs.Expression),void 0,this.convertSourceSpan(e.span)))}},{key:"visitChain",value:function(e,t){return!function(e,t){if(e!==Hs.Statement)throw new Error("Expected a statement, but saw ".concat(t))}(t,e),this.visitAll(e.expressions,t)}},{key:"visitConditional",value:function(e,t){return Gs(t,this._visit(e.condition,Hs.Expression).conditional(this._visit(e.trueExp,Hs.Expression),this._visit(e.falseExp,Hs.Expression),this.convertSourceSpan(e.span)))}},{key:"visitPipe",value:function(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: ".concat(e.name))}},{key:"visitFunctionCall",value:function(e,t){var n=this.visitAll(e.args,Hs.Expression);return Gs(t,e instanceof Zs?e.converter(n):this._visit(e.target,Hs.Expression).callFn(n,this.convertSourceSpan(e.span)))}},{key:"visitImplicitReceiver",value:function(e,t){return Xs(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}},{key:"visitInterpolation",value:function(e,t){Xs(t,e);for(var n=[Yt(e.expressions.length)],r=0;r<e.strings.length-1;r++)n.push(Yt(e.strings[r])),n.push(this._visit(e.expressions[r],Hs.Expression));return n.push(Yt(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?qt(Ln.inlineInterpolate).callFn(n):qt(Ln.interpolate).callFn([n[0],Qt(n.slice(1),void 0,this.convertSourceSpan(e.span))])}},{key:"visitKeyedRead",value:function(e,t){var n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):Gs(t,this._visit(e.obj,Hs.Expression).key(this._visit(e.key,Hs.Expression)))}},{key:"visitKeyedWrite",value:function(e,t){var n=this._visit(e.obj,Hs.Expression),r=this._visit(e.key,Hs.Expression),i=this._visit(e.value,Hs.Expression);return Gs(t,n.key(r).set(i))}},{key:"visitLiteralArray",value:function(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}},{key:"visitLiteralMap",value:function(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}},{key:"visitLiteralPrimitive",value:function(e,t){var n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?Se:void 0;return Gs(t,Yt(e.value,n,this.convertSourceSpan(e.span)))}},{key:"_getLocal",value:function(e){return this._localResolver.getLocal(e)}},{key:"visitMethodCall",value:function(e,t){if(e.receiver instanceof ss&&"$any"==e.name){var n=this.visitAll(e.args,Hs.Expression);if(1!=n.length)throw new Error("Invalid call to $any, expected 1 argument but received ".concat(n.length||"none"));return n[0].cast(Ee,this.convertSourceSpan(e.span))}var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var i=this.visitAll(e.args,Hs.Expression),a=this.usesImplicitReceiver,s=null,o=this._visit(e.receiver,Hs.Expression);if(o===this._implicitReceiver){var u=this._getLocal(e.name);u&&(this.usesImplicitReceiver=a,s=u.callFn(i)),this.addImplicitReceiverAccess(e.name)}return null==s&&(s=o.callMethod(e.name,i,this.convertSourceSpan(e.span))),Gs(t,s)}},{key:"visitPrefixNot",value:function(e,t){return Gs(t,(n=this._visit(e.expression,Hs.Expression),new tt(n,r)));var n,r}},{key:"visitNonNullAssert",value:function(e,t){return Gs(t,(n=this._visit(e.expression,Hs.Expression),new nt(n,r)));var n,r}},{key:"visitPropertyRead",value:function(e,t){var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=null,i=this.usesImplicitReceiver,a=this._visit(e.receiver,Hs.Expression);return a===this._implicitReceiver&&((r=this._getLocal(e.name))&&(this.usesImplicitReceiver=i),this.addImplicitReceiverAccess(e.name)),null==r&&(r=a.prop(e.name)),Gs(t,r)}},{key:"visitPropertyWrite",value:function(e,t){var n=this._visit(e.receiver,Hs.Expression),r=this.usesImplicitReceiver,i=null;if(n===this._implicitReceiver){var a=this._getLocal(e.name);if(a){if(!(a instanceof ut)){var s=e.name,o=e.value instanceof cs?e.value.name:void 0;throw new Error('Cannot assign value "'.concat(o,'" to template variable "').concat(s,'". Template variables are read-only.'))}i=a,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name)}}return null===i&&(i=n.prop(e.name)),Gs(t,i.set(this._visit(e.value,Hs.Expression)))}},{key:"visitSafePropertyRead",value:function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}},{key:"visitSafeMethodCall",value:function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}},{key:"visitAll",value:function(e,t){var n=this;return e.map((function(e){return n._visit(e,t)}))}},{key:"visitQuote",value:function(e,t){throw new Error("Quotes are not supported for evaluation!\n        Statement: ".concat(e.uninterpretedExpression," located at ").concat(e.location))}},{key:"_visit",value:function(e,t){var n=this._resultMap.get(e);return n||(this._nodeMap.get(e)||e).visit(this,t)}},{key:"convertSafeAccess",value:function(e,t,n){var r=this._visit(t.receiver,Hs.Expression),i=void 0;this.needsTemporary(t.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(t.receiver,i));var a=r.isBlank();t instanceof xs?this._nodeMap.set(t,new Ss(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name,t.args)):this._nodeMap.set(t,new cs(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name));var s=this._visit(e,Hs.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),Gs(n,a.conditional(Yt(null),s))}},{key:"leftMostSafeNode",value:function(e){var t=this,n=function(e,n){return(t._nodeMap.get(n)||n).visit(e)};return e.visit({visitUnary:function(e){return null},visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return n(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return n(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitNonNullAssert:function(e){return null},visitPropertyRead:function(e){return n(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return n(this,e.receiver)||e},visitSafePropertyRead:function(e){return n(this,e.receiver)||e}})}},{key:"needsTemporary",value:function(e){var t=this,n=function(e,n){return n&&(t._nodeMap.get(n)||n).visit(e)};return e.visit({visitUnary:function(e){return n(this,e.expr)},visitBinary:function(e){return n(this,e.left)||n(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return n(this,e.condition)||n(this,e.trueExp)||n(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return function(e,t){return t.some((function(t){return n(e,t)}))}(this,e.expressions)},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return n(this,e.expression)},visitNonNullAssert:function(e){return n(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})}},{key:"allocateTemporary",value:function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Ae(Ks(this.bindingId,e))}},{key:"releaseTemporary",value:function(e){if(this._currentTemporary--,e.name!=Ks(this.bindingId,this._currentTemporary))throw new Error("Temporary ".concat(e.name," released out of order"))}},{key:"convertSourceSpan",value:function(e){if(this.baseSourceSpan){var t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end);return new Mr(t,n)}return null}},{key:"addImplicitReceiverAccess",value:function(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}}]),e}();var Js=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){return e===Fs.event.name?Fs.event:null}}]),e}();var Zs=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this,e,r,null,i)).args=i,s.converter=a,s}return n}(ws),eo=function(){function e(){Object(y.a)(this,e),this.strictStyling=!0}return Object(g.a)(e,[{key:"shimCssText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Eo(e);e=ko(e),e=this._insertDirectives(e);var i=this._scopeCssText(e,t,n);return[i].concat(Object(m.a)(r)).join("\n")}},{key:"_insertDirectives",value:function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}},{key:"_insertPolyfillDirectivesInCssText",value:function(e){return e.replace(no,(function(){return(arguments.length<=2?void 0:arguments[2])+"{"}))}},{key:"_insertPolyfillRulesInCssText",value:function(e){return e.replace(ro,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].replace(t[1],"").replace(t[2],"");return t[4]+r}))}},{key:"_scopeCssText",value:function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}},{key:"_extractUnscopedRulesFromCssText",value:function(e){var t,n="";for(io.lastIndex=0;null!==(t=io.exec(e));){n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return n}},{key:"_convertColonHost",value:function(e){return this._convertColonRule(e,uo,this._colonHostPartReplacer)}},{key:"_convertColonHostContext",value:function(e){return this._convertColonRule(e,co,this._colonHostContextPartReplacer)}},{key:"_convertColonRule",value:function(e,t,n){return e.replace(t,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t[2]){for(var i=t[2].split(","),a=[],s=0;s<i.length;s++){var o=i[s].trim();if(!o)break;a.push(n(lo,o,t[3]))}return a.join(",")}return lo+t[3]}))}},{key:"_colonHostContextPartReplacer",value:function(e,t,n){return t.indexOf(ao)>-1?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n}},{key:"_colonHostPartReplacer",value:function(e,t,n){return e+t.replace(ao,"")+n}},{key:"_convertShadowDOMSelectors",value:function(e){return po.reduce((function(e,t){return e.replace(t," ")}),e)}},{key:"_scopeSelectors",value:function(e,t,n){var r,i,a,s=this;return r=function(e){var r=e.selector,i=e.content;return"@"!=e.selector[0]?r=s._scopeSelector(e.selector,t,n,s.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(i=s._scopeSelectors(e.content,t,n)),new wo(r,i)},i=function(e){for(var t=e.split(xo),n=[],r=[],i=0,a=[],s=0;s<t.length;s++){var o=t[s];"}"==o&&i--,i>0?a.push(o):(a.length>0&&(r.push(a.join("")),n.push("%BLOCK%"),a=[]),n.push(o)),"{"==o&&i++}return a.length>0&&(r.push(a.join("")),n.push("%BLOCK%")),new Co(n.join(""),r)}(e),a=0,i.escapedString.replace(So,(function(){var e=arguments.length<=2?void 0:arguments[2],t="",n=arguments.length<=4?void 0:arguments[4],s="";n&&n.startsWith("{%BLOCK%")&&(t=i.blocks[a++],n=n.substring("%BLOCK%".length+1),s="{");var o=r(new wo(e,t));return"".concat(arguments.length<=1?void 0:arguments[1]).concat(o.selector).concat(arguments.length<=3?void 0:arguments[3]).concat(s).concat(o.content).concat(n)}))}},{key:"_scopeSelector",value:function(e,t,n,r){var i=this;return e.split(",").map((function(e){return e.trim().split(vo)})).map((function(e){var a=Object(o.a)(e),s=a[0],u=a.slice(1);return[function(e){return i._selectorNeedsScoping(e,t)?r?i._applyStrictSelectorScope(e,t,n):i._applySelectorScope(e,t,n):e}(s)].concat(Object(m.a)(u)).join(" ")})).join(", ")}},{key:"_selectorNeedsScoping",value:function(e,t){return!this._makeScopeMatcher(t).test(e)}},{key:"_makeScopeMatcher",value:function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+fo,"m")}},{key:"_applySelectorScope",value:function(e,t,n){return this._applySimpleSelectorScope(e,t,n)}},{key:"_applySimpleSelectorScope",value:function(e,t,n){if(mo.lastIndex=0,mo.test(e)){var r=this.strictStyling?"[".concat(n,"]"):t;return e.replace(ho,(function(e,t){return t.replace(/([^:]*)(:*)(.*)/,(function(e,t,n,i){return t+r+n+i}))})).replace(mo,r+" ")}return t+" "+e}},{key:"_applyStrictSelectorScope",value:function(e,t,n){for(var r,i=this,a="["+(t=t.replace(/\[is=([^\]]*)\]/g,(function(e){return arguments.length<=1?void 0:arguments[1]})))+"]",s=function(e){var r=e.trim();if(!r)return"";if(e.indexOf(lo)>-1)r=i._applySimpleSelectorScope(e,t,n);else{var s=e.replace(mo,"");if(s.length>0){var o=s.match(/([^:]*)(:*)(.*)/);o&&(r=o[1]+a+o[2]+o[3])}}return r},o=new to(e),u="",c=0,l=/( |>|\+|~(?!=))\s*/g,h=!((e=o.content()).indexOf(lo)>-1);null!==(r=l.exec(e));){var p=r[1],v=e.slice(c,r.index).trim(),f=(h=h||v.indexOf(lo)>-1)?s(v):v;u+="".concat(f," ").concat(p," "),c=l.lastIndex}var d=e.substring(c);return u+=(h=h||d.indexOf(lo)>-1)?s(d):d,o.restore(u)}},{key:"_insertPolyfillHostInCssText",value:function(e){return e.replace(go,so).replace(yo,ao)}}]),e}(),to=function(){function e(t){var n=this;Object(y.a)(this,e),this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,(function(e,t){var r="__ph-".concat(n.index,"__");return n.placeholders.push(t),n.index++,r})),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(function(e,t,r){var i="__ph-".concat(n.index,"__");return n.placeholders.push(r),n.index++,t+i}))}return Object(g.a)(e,[{key:"restore",value:function(e){var t=this;return e.replace(/__ph-(\d+)__/g,(function(e,n){return t.placeholders[+n]}))}},{key:"content",value:function(){return this._content}}]),e}(),no=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,ro=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,io=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ao="-shadowcsshost",so="-shadowcsscontext",oo=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",uo=new RegExp("("+ao+oo,"gim"),co=new RegExp("("+so+oo,"gim"),lo=ao+"-no-combinator",ho=/-shadowcsshost-no-combinator([^\s]*)/,po=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],vo=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,fo="([>\\s~+[.,{:][\\s\\S]*)?$",mo=/-shadowcsshost/gim,yo=/:host/gim,go=/:host-context/gim,bo=/\/\*\s*[\s\S]*?\*\//g;function ko(e){return e.replace(bo,"")}var _o=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;function Eo(e){return e.match(_o)||[]}var So=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,xo=/([{}])/g,wo=function e(t,n){Object(y.a)(this,e),this.selector=t,this.content=n};var Co=function e(t,n){Object(y.a)(this,e),this.escapedString=t,this.blocks=n};var Oo="_nghost-".concat("%COMP%"),To="_ngcontent-".concat("%COMP%"),jo=function e(t,n,r){Object(y.a)(this,e),this.name=t,this.moduleUrl=n,this.setValue=r},No=function e(t,n,r,i,a){Object(y.a)(this,e),this.outputCtx=t,this.stylesVar=n,this.dependencies=r,this.isShimmed=i,this.meta=a},Po=function(){function e(t){Object(y.a)(this,e),this._urlResolver=t,this._shadowCss=new eo}return Object(g.a)(e,[{key:"compileComponent",value:function(e,t){var n=t.template;return this._compileStyles(e,t,new tr({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:Xn(t.type)}),this.needsStyleShim(t),!0)}},{key:"compileStyles",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.needsStyleShim(t);return this._compileStyles(e,t,n,r,!1)}},{key:"needsStyleShim",value:function(e){return e.template.encapsulation===P.Emulated}},{key:"_compileStyles",value:function(e,t,n,r,i){var a=this,s=n.styles.map((function(e){return Yt(a._shimIfNeeded(e,r))})),o=[];n.styleUrls.forEach((function(t){var n=s.length;s.push(null),o.push(new jo(Mo(null),t,(function(t){return s[n]=e.importExpr(t)})))}));var u=Mo(i?t:null),c=Ht(u).set(Qt(s,new ke(Ee,[pe.Const]))).toDeclStmt(null,i?[Ye.Final]:[Ye.Final,Ye.Exported]);return e.statements.push(c),new No(e,u,o,r,n)}},{key:"_shimIfNeeded",value:function(e,t){return t?this._shadowCss.shimCssText(e,To,Oo):e}}]),e}();function Mo(e){var t="styles";return e&&(t+="_".concat(Qn(e.type))),t}var Ao=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(y.a)(this,e),this.path=t,this.position=n}return Object(g.a)(e,[{key:"parentOf",value:function(e){return e&&this.path[this.path.indexOf(e)-1]}},{key:"childOf",value:function(e){return this.path[this.path.indexOf(e)+1]}},{key:"first",value:function(e){for(var t=this.path.length-1;t>=0;t--){var n=this.path[t];if(n instanceof e)return n}}},{key:"push",value:function(e){this.path.push(e)}},{key:"pop",value:function(){return this.path.pop()}},{key:"empty",get:function(){return!this.path||!this.path.length}},{key:"head",get:function(){return this.path[0]}},{key:"tail",get:function(){return this.path[this.path.length-1]}}]),e}(),Io=function e(t,n){Object(y.a)(this,e),this.sourceSpan=t,this.i18n=n},Ro=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).value=e,a}return Object(g.a)(n,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),n}(Io),Do=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o){var u;return Object(y.a)(this,n),(u=t.call(this,a,o)).switchValue=e,u.type=r,u.cases=i,u.switchValueSourceSpan=s,u}return Object(g.a)(n,[{key:"visit",value:function(e,t){return e.visitExpansion(this,t)}}]),n}(Io),Fo=function(){function e(t,n,r,i,a){Object(y.a)(this,e),this.value=t,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=a}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitExpansionCase(this,t)}}]),e}(),Lo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s){var o;return Object(y.a)(this,n),(o=t.call(this,i,s)).name=e,o.value=r,o.valueSpan=a,o}return Object(g.a)(n,[{key:"visit",value:function(e,t){return e.visitAttribute(this,t)}}]),n}(Io),Bo=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6?arguments[6]:void 0;return Object(y.a)(this,n),(s=t.call(this,a,c)).name=e,s.attrs=r,s.children=i,s.startSourceSpan=o,s.endSourceSpan=u,s}return Object(g.a)(n,[{key:"visit",value:function(e,t){return e.visitElement(this,t)}}]),n}(Io),Vo=function(){function e(t,n){Object(y.a)(this,e),this.value=t,this.sourceSpan=n}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitComment(this,t)}}]),e}();function Uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=e.visit?function(t){return e.visit(t,n)||t.visit(e,n)}:function(t){return t.visit(e,n)};return t.forEach((function(e){var t=i(e);t&&r.push(t)})),r}var Ho,qo=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitElement",value:function(e,t){this.visitChildren(t,(function(t){t(e.attrs),t(e.children)}))}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){return this.visitChildren(t,(function(t){t(e.cases)}))}},{key:"visitExpansionCase",value:function(e,t){}},{key:"visitChildren",value:function(e,t){var n=[],r=this;return t((function(t){t&&n.push(Uo(r,t,e))})),Array.prototype.concat.apply([],n)}}]),e}();function Wo(e,t){var n=[];return Uo(new(function(e){Object(f.a)(i,e);var r=Object(d.a)(i);function i(){return Object(y.a)(this,i),r.apply(this,arguments)}return Object(g.a)(i,[{key:"visit",value:function(e,r){var i=function e(t){var n=t.sourceSpan.start.offset,r=t.sourceSpan.end.offset;return t instanceof Bo&&(t.endSourceSpan?r=t.endSourceSpan.end.offset:t.children&&t.children.length&&(r=e(t.children[t.children.length-1]).end)),{start:n,end:r}}(e);if(!(i.start<=t&&t<i.end))return!0;n.push(e)}}]),i}(qo)),e),new Ao(n,t)}!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_QUOTE=12]="ATTR_QUOTE",e[e.ATTR_VALUE=13]="ATTR_VALUE",e[e.DOC_TYPE=14]="DOC_TYPE",e[e.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",e[e.EOF=20]="EOF"}(Ho||(Ho={}));var zo=function e(t,n,r){Object(y.a)(this,e),this.type=t,this.parts=n,this.sourceSpan=r},Ko=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,i,e)).tokenType=r,a}return n}(Ar),Qo=function e(t,n,r){Object(y.a)(this,e),this.tokens=t,this.errors=n,this.nonNormalizedIcuExpressions=r};var Xo,Go=/\r\n?/g;function $o(e){var t=0===e?"EOF":String.fromCharCode(e);return'Unexpected character "'.concat(t,'"')}function Yo(e){return'Unknown entity "'.concat(e,'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax')}!function(e){e.HEX="hexadecimal",e.DEC="decimal"}(Xo||(Xo={}));var Jo=function e(t){Object(y.a)(this,e),this.error=t},Zo=function(){function e(t,n,r){Object(y.a)(this,e),this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||Na,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map((function(e){return e.codePointAt(0)||0}));var i=r.range||{endPos:t.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new ou(t,i):new su(t,i),this._preserveLineEndings=r.preserveLineEndings||!1,this._escapedString=r.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(a){this.handleError(a)}}return Object(g.a)(e,[{key:"_processCarriageReturns",value:function(e){return this._preserveLineEndings?e:e.replace(Go,"\n")}},{key:"tokenize",value:function(){for(;0!==this._cursor.peek();){var e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){this.handleError(t)}}this._beginToken(Ho.EOF),this._endToken([])}},{key:"_tokenizeExpansionForm",value:function(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(125!==this._cursor.peek()&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}},{key:"_beginToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cursor.clone();this._currentTokenStart=t,this._currentTokenType=e}},{key:"_endToken",value:function(e,t){if(null===this._currentTokenStart)throw new Ko("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new Ko("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));var n=new zo(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}},{key:"_createError",value:function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new Ko(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Jo(n)}},{key:"handleError",value:function(e){if(e instanceof uu&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof Jo))throw e;this.errors.push(e.error)}},{key:"_attemptCharCode",value:function(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}},{key:"_attemptCharCodeCaseInsensitive",value:function(e){return t=this._cursor.peek(),n=e,iu(t)==iu(n)&&(this._cursor.advance(),!0);var t,n}},{key:"_requireCharCode",value:function(e){var t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError($o(this._cursor.peek()),this._cursor.getSpan(t))}},{key:"_attemptStr",value:function(e){var t=e.length;if(this._cursor.charsLeft()<t)return!1;for(var n=this._cursor.clone(),r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}},{key:"_attemptStrCaseInsensitive",value:function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}},{key:"_requireStr",value:function(e){var t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError($o(this._cursor.peek()),this._cursor.getSpan(t))}},{key:"_attemptCharCodeUntilFn",value:function(e){for(;!e(this._cursor.peek());)this._cursor.advance()}},{key:"_requireCharCodeUntilFn",value:function(e,t){var n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(n)<t)throw this._createError($o(this._cursor.peek()),this._cursor.getSpan(n))}},{key:"_attemptUntilChar",value:function(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}},{key:"_readChar",value:function(e){if(e&&38===this._cursor.peek())return this._decodeEntity();var t=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),t}},{key:"_decodeEntity",value:function(){var e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){var t=this._cursor.clone();if(this._attemptCharCodeUntilFn(ru),59!=this._cursor.peek())return this._cursor=t,"&";var n=this._cursor.getChars(t);this._cursor.advance();var r=w[n];if(!r)throw this._createError(Yo(n),this._cursor.getSpan(e));return r}var i=this._attemptCharCode(120)||this._attemptCharCode(88),a=this._cursor.clone();if(this._attemptCharCodeUntilFn(nu),59!=this._cursor.peek()){this._cursor.advance();var s=i?Xo.HEX:Xo.DEC;throw this._createError((o=s,u=this._cursor.getChars(e),'Unable to parse entity "'.concat(u,'" - ').concat(o,' character reference entities must end with ";"')),this._cursor.getSpan())}var o,u,c=this._cursor.getChars(a);this._cursor.advance();try{var l=parseInt(c,i?16:10);return String.fromCharCode(l)}catch(h){throw this._createError(Yo(this._cursor.getChars(e)),this._cursor.getSpan())}}},{key:"_consumeRawText",value:function(e,t){this._beginToken(e?Ho.ESCAPABLE_RAW_TEXT:Ho.RAW_TEXT);for(var n=[];;){var r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}},{key:"_consumeComment",value:function(e){var t=this;this._beginToken(Ho.COMMENT_START,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,(function(){return t._attemptStr("--\x3e")})),this._beginToken(Ho.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}},{key:"_consumeCdata",value:function(e){var t=this;this._beginToken(Ho.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,(function(){return t._attemptStr("]]>")})),this._beginToken(Ho.CDATA_END),this._requireStr("]]>"),this._endToken([])}},{key:"_consumeDocType",value:function(e){this._beginToken(Ho.DOC_TYPE,e);var t=this._cursor.clone();this._attemptUntilChar(62);var n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}},{key:"_consumePrefixAndName",value:function(){for(var e,t,n=this._cursor.clone(),r="";58!==this._cursor.peek()&&!(((e=this._cursor.peek())<97||122<e)&&(e<65||90<e)&&(e<48||e>57));)this._cursor.advance();return 58===this._cursor.peek()?(r=this._cursor.getChars(n),this._cursor.advance(),t=this._cursor.clone()):t=n,this._requireCharCodeUntilFn(tu,""===r?0:1),[r,this._cursor.getChars(t)]}},{key:"_consumeTagOpen",value:function(e){var t,n,r,a=this.tokens.length,s=this._cursor.clone();try{if(!Cr(this._cursor.peek()))throw this._createError($o(this._cursor.peek()),this._cursor.getSpan(e));for(n=(r=this._consumeTagOpenStart(e)).parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(eu);47!==this._cursor.peek()&&62!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(eu),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(eu),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(eu);this._consumeTagOpenEnd()}catch(u){if(u instanceof Jo)return this._cursor=s,r&&(this.tokens.length=a),this._beginToken(Ho.TEXT,e),this._endToken(["<"]),void 0;throw u}var o=this._getTagDefinition(t).contentType;o===i.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):o===i.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}},{key:"_consumeRawTextWithTagClose",value:function(e,t,n){var r=this;this._consumeRawText(n,(function(){return!!r._attemptCharCode(60)&&(!!r._attemptCharCode(47)&&(r._attemptCharCodeUntilFn(eu),!!r._attemptStrCaseInsensitive(t)&&(r._attemptCharCodeUntilFn(eu),r._attemptCharCode(62))))}));this._beginToken(Ho.TAG_CLOSE),this._requireCharCodeUntilFn((function(e){return 62===e}),3),this._cursor.advance(),this._endToken([e,t])}},{key:"_consumeTagOpenStart",value:function(e){this._beginToken(Ho.TAG_OPEN_START,e);var t=this._consumePrefixAndName();return this._endToken(t)}},{key:"_consumeAttributeName",value:function(){var e=this._cursor.peek();if(39===e||34===e)throw this._createError($o(e),this._cursor.getSpan());this._beginToken(Ho.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)}},{key:"_consumeAttributeValue",value:function(){var e;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(Ho.ATTR_QUOTE);var t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(Ho.ATTR_VALUE);for(var n=[];this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(Ho.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(Ho.ATTR_VALUE);var r=this._cursor.clone();this._requireCharCodeUntilFn(tu,1),e=this._cursor.getChars(r),this._endToken([this._processCarriageReturns(e)])}}},{key:"_consumeTagOpenEnd",value:function(){var e=this._attemptCharCode(47)?Ho.TAG_OPEN_END_VOID:Ho.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])}},{key:"_consumeTagClose",value:function(e){this._beginToken(Ho.TAG_CLOSE,e),this._attemptCharCodeUntilFn(eu);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(eu),this._requireCharCode(62),this._endToken(t)}},{key:"_consumeExpansionFormStart",value:function(){this._beginToken(Ho.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(Ho.EXPANSION_FORM_START),this._beginToken(Ho.RAW_TEXT);var e=this._readUntil(44),t=this._processCarriageReturns(e);if(this._escapedString||this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{var n=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(n)}this._requireCharCode(44),this._attemptCharCodeUntilFn(eu),this._beginToken(Ho.RAW_TEXT);var r=this._readUntil(44);this._endToken([r]),this._requireCharCode(44),this._attemptCharCodeUntilFn(eu)}},{key:"_consumeExpansionCaseStart",value:function(){this._beginToken(Ho.EXPANSION_CASE_VALUE);var e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(eu),this._beginToken(Ho.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(eu),this._expansionCaseStack.push(Ho.EXPANSION_CASE_EXP_START)}},{key:"_consumeExpansionCaseEnd",value:function(){this._beginToken(Ho.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(eu),this._expansionCaseStack.pop()}},{key:"_consumeExpansionFormEnd",value:function(){this._beginToken(Ho.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}},{key:"_consumeText",value:function(){var e=this._cursor.clone();this._beginToken(Ho.TEXT,e);var t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}},{key:"_isTextEnd",value:function(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}},{key:"_readUntil",value:function(e){var t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}},{key:"_isInExpansionCase",value:function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Ho.EXPANSION_CASE_EXP_START}},{key:"_isInExpansionForm",value:function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Ho.EXPANSION_FORM_START}},{key:"isExpansionFormStart",value:function(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){var e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}]),e}();function eu(e){return!xr(e)||0===e}function tu(e){return xr(e)||62===e||47===e||39===e||34===e||61===e}function nu(e){return 59==e||0==e||!function(e){return e>=97&&e<=102||e>=65&&e<=70||wr(e)}(e)}function ru(e){return 59==e||0==e||!Cr(e)}function iu(e){return e>=97&&e<=122?e-97+65:e}function au(e){for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];n&&n.type==Ho.TEXT&&i.type==Ho.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,t.push(n))}return t}var su=function(){function e(t,n){if(Object(y.a)(this,e),t instanceof e){this.file=t.file,this.input=t.input,this.end=t.end;var r=t.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}return Object(g.a)(e,[{key:"clone",value:function(){return new e(this)}},{key:"peek",value:function(){return this.state.peek}},{key:"charsLeft",value:function(){return this.end-this.state.offset}},{key:"diff",value:function(e){return this.state.offset-e.state.offset}},{key:"advance",value:function(){this.advanceState(this.state)}},{key:"init",value:function(){this.updatePeek(this.state)}},{key:"getSpan",value:function(e,t){e=e||this;var n=!1;if(t)for(;this.diff(e)>0&&-1!==t.indexOf(e.peek());)n||(e=e.clone(),n=!0),e.advance();return new Mr(new Nr(e.file,e.state.offset,e.state.line,e.state.column),new Nr(this.file,this.state.offset,this.state.line,this.state.column))}},{key:"getChars",value:function(e){return this.input.substring(e.state.offset,this.state.offset)}},{key:"charAt",value:function(e){return this.input.charCodeAt(e)}},{key:"advanceState",value:function(e){if(e.offset>=this.end)throw this.state=e,new uu('Unexpected character "EOF"',this);var t=this.charAt(e.offset);10===t?(e.line++,e.column=0):Or(t)||e.column++,e.offset++,this.updatePeek(e)}},{key:"updatePeek",value:function(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}}]),e}(),ou=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),e instanceof n?(i=t.call(this,e)).internalState=Object.assign({},e.internalState):(i=t.call(this,e,r)).internalState=i.state,Object(s.a)(i)}return Object(g.a)(n,[{key:"advance",value:function(){this.state=this.internalState,Object(p.a)(Object(v.a)(n.prototype),"advance",this).call(this),this.processEscapeSequence()}},{key:"init",value:function(){Object(p.a)(Object(v.a)(n.prototype),"init",this).call(this),this.processEscapeSequence()}},{key:"clone",value:function(){return new n(this)}},{key:"getChars",value:function(e){for(var t=e.clone(),n="";t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}},{key:"processEscapeSequence",value:function(){var e=this,t=function(){return e.internalState.peek};if(92===t())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===t())this.state.peek=10;else if(114===t())this.state.peek=13;else if(118===t())this.state.peek=11;else if(116===t())this.state.peek=9;else if(98===t())this.state.peek=8;else if(102===t())this.state.peek=12;else if(117===t())if(this.advanceState(this.internalState),123===t()){this.advanceState(this.internalState);for(var n=this.clone(),r=0;125!==t();)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{var i=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(i,4)}else if(120===t()){this.advanceState(this.internalState);var a=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(a,2)}else if(Tr(t())){for(var s="",o=0,u=this.clone();Tr(t())&&o<3;)u=this.clone(),s+=String.fromCodePoint(t()),this.advanceState(this.internalState),o++;this.state.peek=parseInt(s,8),this.internalState=u.internalState}else Or(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}},{key:"decodeHexDigits",value:function(e,t){var n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new uu("Invalid hexadecimal escape sequence",e);return r}}]),n}(su),uu=function e(t,n){Object(y.a)(this,e),this.msg=t,this.cursor=n},cu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this,r,i)).elementName=e,a}return Object(g.a)(n,null,[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ar),lu=function e(t,n){Object(y.a)(this,e),this.rootNodes=t,this.errors=n},hu=function(){function e(t){Object(y.a)(this,e),this.getTagDefinition=t}return Object(g.a)(e,[{key:"parse",value:function(e,t,n){var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new Zo(new Pr(e,t),n,r);return i.tokenize(),new Qo(au(i.tokens),i.errors,i.nonNormalizedIcuExpressions)}(e,t,this.getTagDefinition,n),i=new pu(r.tokens,this.getTagDefinition);return i.build(),new lu(i.rootNodes,r.errors.concat(i.errors))}}]),e}(),pu=function(){function e(t,n){Object(y.a)(this,e),this.tokens=t,this.getTagDefinition=n,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}return Object(g.a)(e,[{key:"build",value:function(){for(;this._peek.type!==Ho.EOF;)this._peek.type===Ho.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Ho.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Ho.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Ho.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Ho.TEXT||this._peek.type===Ho.RAW_TEXT||this._peek.type===Ho.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Ho.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance()}},{key:"_advance",value:function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}},{key:"_advanceIf",value:function(e){return this._peek.type===e?this._advance():null}},{key:"_consumeCdata",value:function(e){this._consumeText(this._advance()),this._advanceIf(Ho.CDATA_END)}},{key:"_consumeComment",value:function(e){var t=this._advanceIf(Ho.RAW_TEXT);this._advanceIf(Ho.COMMENT_END);var n=null!=t?t.parts[0].trim():null;this._addToParent(new Vo(n,e.sourceSpan))}},{key:"_consumeExpansion",value:function(e){for(var t=this._advance(),n=this._advance(),r=[];this._peek.type===Ho.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type!==Ho.EXPANSION_FORM_END)return this.errors.push(cu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'.")),void 0;var a=new Mr(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Do(t.parts[0],n.parts[0],r,a,t.sourceSpan)),this._advance()}},{key:"_parseExpansionCase",value:function(){var t=this._advance();if(this._peek.type!==Ho.EXPANSION_CASE_EXP_START)return this.errors.push(cu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new zo(Ho.EOF,[],i.sourceSpan));var a=new e(r,this.getTagDefinition);if(a.build(),a.errors.length>0)return this.errors=this.errors.concat(a.errors),null;var s=new Mr(t.sourceSpan.start,i.sourceSpan.end),o=new Mr(n.sourceSpan.start,i.sourceSpan.end);return new Fo(t.parts[0],a.rootNodes,s,t.sourceSpan,o)}},{key:"_collectExpansionExpTokens",value:function(e){for(var t=[],n=[Ho.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==Ho.EXPANSION_FORM_START&&this._peek.type!==Ho.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===Ho.EXPANSION_CASE_EXP_END){if(!vu(n,Ho.EXPANSION_CASE_EXP_START))return this.errors.push(cu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===Ho.EXPANSION_FORM_END){if(!vu(n,Ho.EXPANSION_FORM_START))return this.errors.push(cu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===Ho.EOF)return this.errors.push(cu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}},{key:"_consumeText",value:function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new Ro(t,e.sourceSpan))}},{key:"_closeVoidElement",value:function(){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},{key:"_consumeStartTag",value:function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this._peek.type===Ho.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(t,n,this._getParentElement()),a=!1;if(this._peek.type===Ho.TAG_OPEN_END_VOID){this._advance(),a=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==S(i)||s.isVoid||this.errors.push(cu.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'.concat(e.parts[1],'"')))}else this._peek.type===Ho.TAG_OPEN_END&&(this._advance(),a=!1);var o=this._peek.sourceSpan.start,u=new Mr(e.sourceSpan.start,o),c=new Bo(i,r,[],u,u,void 0);this._pushElement(c),a&&this._popElement(i,u)}},{key:"_pushElement",value:function(e){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}},{key:"_consumeEndTag",value:function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this.getTagDefinition(t).isVoid)this.errors.push(cu.create(t,e.sourceSpan,'Void elements do not have end tags "'.concat(e.parts[1],'"')));else if(!this._popElement(t,e.sourceSpan)){var n='Unexpected closing tag "'.concat(t,'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags');this.errors.push(cu.create(t,e.sourceSpan,n))}}},{key:"_popElement",value:function(e,t){for(var n=this._elementStack.length-1;n>=0;n--){var r=this._elementStack[n];if(r.name==e)return r.endSourceSpan=t,this._elementStack.splice(n,this._elementStack.length-n),!0;if(!this.getTagDefinition(r.name).closedByParent)return!1}return!1}},{key:"_consumeAttr",value:function(e){var t=x(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="",i=void 0;if(this._peek.type===Ho.ATTR_QUOTE&&this._advance(),this._peek.type===Ho.ATTR_VALUE){var a=this._advance();r=a.parts[0],n=a.sourceSpan.end,i=a.sourceSpan}this._peek.type===Ho.ATTR_QUOTE&&(n=this._advance().sourceSpan.end);return new Lo(t,r,new Mr(e.sourceSpan.start,n),i)}},{key:"_getParentElement",value:function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}},{key:"_addToParent",value:function(e){var t=this._getParentElement();null!=t?t.children.push(e):this.rootNodes.push(e)}},{key:"_getElementFullName",value:function(e,t,n){if(""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n){var r=b(n.name)[1];this.getTagDefinition(r).preventNamespaceInheritance||(e=S(n.name))}return x(e,t)}}]),e}();function vu(e,t){return e.length>0&&e[e.length-1]===t}var fu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.call(this,N)}return Object(g.a)(n,[{key:"parse",value:function(e,t,r){return Object(p.a)(Object(v.a)(n.prototype),"parse",this).call(this,e,t,r)}}]),n}(hu),du=new Set(["pre","template","textarea","script","style"]),mu=new RegExp("[^".concat(" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff","]")),yu=new RegExp("[".concat(" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff","]{2,}"),"g");function gu(e){return e.replace(new RegExp(C,"g")," ")}var bu=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitElement",value:function(e,t){return du.has(e.name)||e.attrs.some((function(e){return"ngPreserveWhitespaces"===e.name}))?new Bo(e.name,Uo(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new Bo(e.name,e.attrs,(n=this,r=e.children,i=[],r.forEach((function(e,t){var a={prev:r[t-1],next:r[t+1]},s=e.visit(n,a);s&&i.push(s)})),i),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);var n,r,i}},{key:"visitAttribute",value:function(e,t){return"ngPreserveWhitespaces"!==e.name?e:null}},{key:"visitText",value:function(e,t){var n=e.value.match(mu),r=t&&(t.prev instanceof Do||t.next instanceof Do);return n||r?new Ro(gu(e.value).replace(yu," "),e.sourceSpan,e.i18n):null}},{key:"visitComment",value:function(e,t){return e}},{key:"visitExpansion",value:function(e,t){return e}},{key:"visitExpansionCase",value:function(e,t){return e}}]),e}();function ku(e){return new lu(Uo(new bu,e.rootNodes),e.errors)}var _u=["zero","one","two","few","many","other"];function Eu(e){var t=new wu;return new Su(Uo(t,e),t.isExpanded,t.errors)}var Su=function e(t,n,r){Object(y.a)(this,e),this.nodes=t,this.expanded=n,this.errors=r},xu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(y.a)(this,n),t.call(this,e,r)}return n}(Ar),wu=function(){function e(){Object(y.a)(this,e),this.isExpanded=!1,this.errors=[]}return Object(g.a)(e,[{key:"visitElement",value:function(e,t){return new Bo(e.name,e.attrs,Uo(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitAttribute",value:function(e,t){return e}},{key:"visitText",value:function(e,t){return e}},{key:"visitComment",value:function(e,t){return e}},{key:"visitExpansion",value:function(e,t){return this.isExpanded=!0,"plural"==e.type?(n=e,r=this.errors,i=n.cases.map((function(e){-1!=_u.indexOf(e.value)||e.value.match(/^=\d+$/)||r.push(new xu(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '.concat(_u.join(", "))));var t=Eu(e.expression);return r.push.apply(r,Object(m.a)(t.errors)),new Bo("ng-template",[new Lo("ngPluralCase","".concat(e.value),e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)})),a=new Lo("[ngPlural]",n.switchValue,n.switchValueSourceSpan),new Bo("ng-container",[a],i,n.sourceSpan,n.sourceSpan,n.sourceSpan)):function(e,t){var n=e.cases.map((function(e){var n=Eu(e.expression);return t.push.apply(t,Object(m.a)(n.errors)),"other"===e.value?new Bo("ng-template",[new Lo("ngSwitchDefault","",e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new Bo("ng-template",[new Lo("ngSwitchCase","".concat(e.value),e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)})),r=new Lo("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new Bo("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors);var n,r,i,a}},{key:"visitExpansionCase",value:function(e,t){throw new Error("Should not be reached")}}]),e}();var Cu,Ou=function(){function e(t,n,r){Object(y.a)(this,e),this.value=t,this.ngContentIndex=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),Tu=function(){function e(t,n,r){Object(y.a)(this,e),this.value=t,this.ngContentIndex=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitBoundText(this,t)}}]),e}(),ju=function(){function e(t,n,r){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitAttr(this,t)}}]),e}(),Nu=(r={},Object(a.a)(r,4,4),Object(a.a)(r,1,1),Object(a.a)(r,2,2),Object(a.a)(r,0,0),Object(a.a)(r,3,3),r),Pu=function(){function e(t,n,r,i,a,s){Object(y.a)(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=a,this.sourceSpan=s,this.isAnimation=4===this.type}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitElementProperty(this,t)}}],[{key:"fromBoundProperty",value:function(t){var n=Nu[t.type];return new e(t.name,n,t.securityContext,t.value,t.unit,t.sourceSpan)}}]),e}(),Mu=function(){function e(t,n,r,i,a,s){Object(y.a)(this,e),this.name=t,this.target=n,this.phase=r,this.handler=i,this.sourceSpan=a,this.handlerSpan=s,this.fullName=e.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitEvent(this,t)}}],[{key:"calcFullName",value:function(e,t,n){return t?"".concat(t,":").concat(e):n?"@".concat(e,".").concat(n):e}},{key:"fromParsedEvent",value:function(t){var n=0===t.type?t.targetOrPhase:null,r=1===t.type?t.targetOrPhase:null;return new e(t.name,n,r,t.handler,t.sourceSpan,t.handlerSpan)}}]),e}(),Au=function(){function e(t,n,r,i){Object(y.a)(this,e),this.name=t,this.value=n,this.originalValue=r,this.sourceSpan=i}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitReference(this,t)}}]),e}(),Iu=function(){function e(t,n,r,i){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.valueSpan=i}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitVariable(this,t)}}],[{key:"fromParsedVariable",value:function(t){return new e(t.name,t.value,t.sourceSpan,t.valueSpan)}}]),e}(),Ru=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p,v){Object(y.a)(this,e),this.name=t,this.attrs=n,this.inputs=r,this.outputs=i,this.references=a,this.directives=s,this.providers=o,this.hasViewContainer=u,this.queryMatches=c,this.children=l,this.ngContentIndex=h,this.sourceSpan=p,this.endSourceSpan=v}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitElement(this,t)}}]),e}(),Du=function(){function e(t,n,r,i,a,s,o,u,c,l,h){Object(y.a)(this,e),this.attrs=t,this.outputs=n,this.references=r,this.variables=i,this.directives=a,this.providers=s,this.hasViewContainer=o,this.queryMatches=u,this.children=c,this.ngContentIndex=l,this.sourceSpan=h}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitEmbeddedTemplate(this,t)}}]),e}(),Fu=function(){function e(t,n,r,i){Object(y.a)(this,e),this.directiveName=t,this.templateName=n,this.value=r,this.sourceSpan=i}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitDirectiveProperty(this,t)}}]),e}(),Lu=function(){function e(t,n,r,i,a,s){Object(y.a)(this,e),this.directive=t,this.inputs=n,this.hostProperties=r,this.hostEvents=i,this.contentQueryStartId=a,this.sourceSpan=s}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitDirective(this,t)}}]),e}(),Bu=function(){function e(t,n,r,i,a,s,o,u){Object(y.a)(this,e),this.token=t,this.multiProvider=n,this.eager=r,this.providers=i,this.providerType=a,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=u}return Object(g.a)(e,[{key:"visit",value:function(e,t){return null}}]),e}();!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(Cu||(Cu={}));var Vu=function(){function e(t,n,r){Object(y.a)(this,e),this.index=t,this.ngContentIndex=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"visit",value:function(e,t){return e.visitNgContent(this,t)}}]),e}(),Uu=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitNgContent",value:function(e,t){}},{key:"visitEmbeddedTemplate",value:function(e,t){}},{key:"visitElement",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}},{key:"visitBoundText",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitDirective",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}}]),e}(),Hu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.call(this)}return Object(g.a)(n,[{key:"visitEmbeddedTemplate",value:function(e,t){return this.visitChildren(t,(function(t){t(e.attrs),t(e.references),t(e.variables),t(e.directives),t(e.providers),t(e.children)}))}},{key:"visitElement",value:function(e,t){return this.visitChildren(t,(function(t){t(e.attrs),t(e.inputs),t(e.outputs),t(e.references),t(e.directives),t(e.providers),t(e.children)}))}},{key:"visitDirective",value:function(e,t){return this.visitChildren(t,(function(t){t(e.inputs),t(e.hostProperties),t(e.hostEvents)}))}},{key:"visitChildren",value:function(e,t){var n=[],r=this;return t((function(t){t&&t.length&&n.push(qu(r,t,e))})),Array.prototype.concat.apply([],n)}}]),n}(Uu);function qu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=e.visit?function(t){return e.visit(t,n)||t.visit(e,n)}:function(t){return t.visit(e,n)};return t.forEach((function(e){var t=i(e);t&&r.push(t)})),r}var Wu=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(y.a)(this,n),t.call(this,r,e)}return n}(Ar),zu=function e(t,n){var r=this;Object(y.a)(this,e),this.reflector=t,this.component=n,this.errors=[],this.viewQueries=function(e){var t=1,n=new Map;e.viewQueries&&e.viewQueries.forEach((function(e){return Yu(n,{meta:e,queryId:t++})}));return n}(n),this.viewProviders=new Map,n.viewProviders.forEach((function(e){null==r.viewProviders.get(er(e.token))&&r.viewProviders.set(er(e.token),!0)}))},Ku=function(){function e(t,n,r,i,a,s,o,u,c){var l=this;Object(y.a)(this,e),this.viewContext=t,this._parent=n,this._isViewRoot=r,this._directiveAsts=i,this._sourceSpan=c,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},a.forEach((function(e){return l._attrs[e.name]=e.value}));var h,p,v,f,d=i.map((function(e){return e.directive}));if(this._allProviders=(h=d,p=c,v=t.errors,f=new Map,h.forEach((function(e){$u([{token:{identifier:e.type},useClass:e.type}],e.isComponent?Cu.Component:Cu.Directive,!0,p,v,f,!1)})),h.filter((function(e){return e.isComponent})).concat(h.filter((function(e){return!e.isComponent}))).forEach((function(e){$u(e.providers,Cu.PublicService,!1,p,v,f,!1),$u(e.viewProviders,Cu.PrivateService,!1,p,v,f,!1)})),f),this._contentQueries=function(e,t){var n=e,r=new Map;return t.forEach((function(e,t){e.queries&&e.queries.forEach((function(e){return Yu(r,{meta:e,queryId:n++})}))})),r}(u,d),Array.from(this._allProviders.values()).forEach((function(e){l._addQueryReadsTo(e.token,e.token,l._queriedTokens)})),o){var m=Vn(this.viewContext.reflector,Ln.TemplateRef);this._addQueryReadsTo(m,m,this._queriedTokens)}s.forEach((function(e){var t=e.value||Vn(l.viewContext.reflector,Ln.ElementRef);l._addQueryReadsTo({value:e.name},t,l._queriedTokens)})),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Ln.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach((function(e){(e.eager||l._queriedTokens.get(er(e.token)))&&l._getOrCreateLocalProvider(e.providerType,e.token,!0)}))}return Object(g.a)(e,[{key:"afterElement",value:function(){var e=this;Array.from(this._allProviders.values()).forEach((function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)}))}},{key:"_addQueryReadsTo",value:function(e,t,n){this._getQueriesFor(e).forEach((function(e){var r=e.meta.read||t,i=er(r),a=n.get(i);a||(a=[],n.set(i,a)),a.push({queryId:e.queryId,value:r})}))}},{key:"_getQueriesFor",value:function(e){for(var t,n=[],r=this,i=0;null!==r;)(t=r._contentQueries.get(er(e)))&&n.push.apply(n,Object(m.a)(t.filter((function(e){return e.meta.descendants||i<=1})))),r._directiveAsts.length>0&&i++,r=r._parent;return(t=this.viewContext.viewQueries.get(er(e)))&&n.push.apply(n,Object(m.a)(t)),n}},{key:"_getOrCreateLocalProvider",value:function(e,t,n){var r=this,i=this._allProviders.get(er(t));if(!i||(e===Cu.Directive||e===Cu.PublicService)&&i.providerType===Cu.PrivateService||(e===Cu.PrivateService||e===Cu.PublicService)&&i.providerType===Cu.Builtin)return null;var a=this._transformedProviders.get(er(t));if(a)return a;if(null!=this._seenProviders.get(er(t)))return this.viewContext.errors.push(new Wu("Cannot instantiate cyclic dependency! ".concat(Zn(t)),this._sourceSpan)),null;this._seenProviders.set(er(t),!0);var s=i.providers.map((function(e){var t=e.useValue,a=e.useExisting,s=void 0;if(null!=e.useExisting){var o=r._getDependency(i.providerType,{token:e.useExisting},n);null!=o.token?a=o.token:(a=null,t=o.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map((function(e){return r._getDependency(i.providerType,e,n)}))}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map((function(e){return r._getDependency(i.providerType,e,n)}))}return Xu(e,{useExisting:a,useValue:t,deps:s})}));return a=Gu(i,{eager:n,providers:s}),this._transformedProviders.set(er(t),a),a}},{key:"_getLocalDependency",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.isAttribute){var r=this._attrs[t.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=t.token){if(e===Cu.Directive||e===Cu.Component){if(er(t.token)===this.viewContext.reflector.resolveExternalReference(Ln.Renderer)||er(t.token)===this.viewContext.reflector.resolveExternalReference(Ln.ElementRef)||er(t.token)===this.viewContext.reflector.resolveExternalReference(Ln.ChangeDetectorRef)||er(t.token)===this.viewContext.reflector.resolveExternalReference(Ln.TemplateRef))return t;er(t.token)===this.viewContext.reflector.resolveExternalReference(Ln.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(er(t.token)===this.viewContext.reflector.resolveExternalReference(Ln.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}},{key:"_getDependency",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=n,a=null;if(t.isSkipSelf||(a=this._getLocalDependency(e,t,n)),t.isSelf)!a&&t.isOptional&&(a={isValue:!0,value:null});else{for(;!a&&r._parent;){var s=r;r=r._parent,s._isViewRoot&&(i=!1),a=r._getLocalDependency(Cu.PublicService,t,i)}a||(a=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===er(t.token)||null!=this.viewContext.viewProviders.get(er(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return a||this.viewContext.errors.push(new Wu("No provider for ".concat(Zn(t.token)),this._sourceSpan)),a}},{key:"transformProviders",get:function(){var e=[],t=[];return this._transformedProviders.forEach((function(n){n.eager?t.push(n):e.push(n)})),e.concat(t)}},{key:"transformedDirectiveAsts",get:function(){var e=this.transformProviders.map((function(e){return e.token.identifier})),t=this._directiveAsts.slice();return t.sort((function(t,n){return e.indexOf(t.directive.type)-e.indexOf(n.directive.type)})),t}},{key:"queryMatches",get:function(){var e=[];return this._queriedTokens.forEach((function(t){e.push.apply(e,Object(m.a)(t))})),e}}]),e}(),Qu=function(){function e(t,n,r,i){var a=this;Object(y.a)(this,e),this.reflector=t,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,n.transitiveModule.modules.forEach((function(e){$u([{token:{identifier:e},useClass:e}],Cu.PublicService,!0,i,a._errors,a._allProviders,!0)})),$u(n.transitiveModule.providers.map((function(e){return e.provider})).concat(r),Cu.PublicService,!1,i,this._errors,this._allProviders,!1)}return Object(g.a)(e,[{key:"parse",value:function(){var e=this;if(Array.from(this._allProviders.values()).forEach((function(t){e._getOrCreateLocalProvider(t.token,t.eager)})),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n".concat(t))}var n=[],r=[];return this._transformedProviders.forEach((function(e){e.eager?r.push(e):n.push(e)})),n.concat(r)}},{key:"_getOrCreateLocalProvider",value:function(e,t){var n=this,r=this._allProviders.get(er(e));if(!r)return null;var i=this._transformedProviders.get(er(e));if(i)return i;if(null!=this._seenProviders.get(er(e)))return this._errors.push(new Wu("Cannot instantiate cyclic dependency! ".concat(Zn(e)),r.sourceSpan)),null;this._seenProviders.set(er(e),!0);var a=r.providers.map((function(e){var i=e.useValue,a=e.useExisting,s=void 0;if(null!=e.useExisting){var o=n._getDependency({token:e.useExisting},t,r.sourceSpan);null!=o.token?a=o.token:(a=null,i=o.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map((function(e){return n._getDependency(e,t,r.sourceSpan)}))}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map((function(e){return n._getDependency(e,t,r.sourceSpan)}))}return Xu(e,{useExisting:a,useValue:i,deps:s})}));return i=Gu(r,{eager:t,providers:a}),this._transformedProviders.set(er(e),i),i}},{key:"_getDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arguments.length>2&&arguments[2];return e.isSkipSelf||null==e.token||(er(e.token)===this.reflector.resolveExternalReference(Ln.Injector)||er(e.token)===this.reflector.resolveExternalReference(Ln.ComponentFactoryResolver)||null!=this._getOrCreateLocalProvider(e.token,t))&&!0,e}}]),e}();function Xu(e,t){var n=t.useExisting,r=t.useValue,i=t.deps;return{token:e.token,useClass:e.useClass,useExisting:n,useFactory:e.useFactory,useValue:r,deps:i,multi:e.multi}}function Gu(e,t){var n=t.eager,r=t.providers;return new Bu(e.token,e.multiProvider,e.eager||n,r,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function $u(e,t,n,r,i,a,s){e.forEach((function(e){var o=a.get(er(e.token));if(null!=o&&!!o.multiProvider!=!!e.multi&&i.push(new Wu("Mixing multi and non multi provider is not possible for token ".concat(Zn(o.token)),r)),o)e.multi||(o.providers.length=0),o.providers.push(e);else{var u=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],c=!(e.useClass||e.useExisting||e.useFactory);o=new Bu(e.token,!!e.multi,n||c,[e],t,u,r,s),a.set(er(e.token),o)}}))}function Yu(e,t){t.meta.selectors.forEach((function(n){var r=e.get(er(n));r||(r=[],e.set(er(n),r)),r.push(t)}))}var Ju=function e(t,n){Object(y.a)(this,e),this.style=t,this.styleUrls=n};function Zu(e){if(null==e||0===e.length||"/"==e[0])return!1;var t=e.match(nc);return null===t||"package"==t[1]||"asset"==t[1]}var ec=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,tc=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,nc=/^([^:/?#]+):/,rc=function(){function e(t,n,r,i,a){if(Object(y.a)(this,e),this._exprParser=t,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=a,this.pipesByName=null,this._usedPipes=new Map,i){var s=new Map;i.forEach((function(e){return s.set(e.name,e)})),this.pipesByName=s}}return Object(g.a)(e,[{key:"getUsedPipes",value:function(){return Array.from(this._usedPipes.values())}},{key:"createBoundHostProperties",value:function(e,t){var n=this;if(e.hostProperties){var r=[];return Object.keys(e.hostProperties).forEach((function(i){var a=e.hostProperties[i];"string"==typeof a?n.parsePropertyBinding(i,a,!0,t,t.start.offset,void 0,[],r):n._reportError('Value of the host property binding "'.concat(i,'" needs to be a string representing an expression but got "').concat(a,'" (').concat(typeof a,")"),t)})),r}return null}},{key:"createDirectiveHostPropertyAsts",value:function(e,t,n){var r=this,i=this.createBoundHostProperties(e,n);return i&&i.map((function(e){return r.createBoundElementProperty(t,e)}))}},{key:"createDirectiveHostEventAsts",value:function(e,t){var n=this;if(e.hostListeners){var r=[];return Object.keys(e.hostListeners).forEach((function(i){var a=e.hostListeners[i];"string"==typeof a?n.parseEvent(i,a,t,t,[],r):n._reportError('Value of the host listener "'.concat(i,'" needs to be a string representing an expression but got "').concat(a,'" (').concat(typeof a,")"),t)})),r}return null}},{key:"parseInterpolation",value:function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,n,t.start.offset,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(i){return this._reportError("".concat(i),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,t.start.offset)}}},{key:"parseInlineTemplateBinding",value:function(e,t,n,r,i,a,s){var o,u=n.start.offset+"*".length,c=this._parseTemplateBindings(e,t,n,u,r),l=Object(h.a)(c);try{for(l.s();!(o=l.n()).done;){var p=o.value,v=oc(n,p.sourceSpan),f=p.key.source,d=oc(n,p.key.span);if(p instanceof Ts){var m=p.value?p.value.source:"$implicit",y=p.value?oc(n,p.value.span):void 0;s.push(new Rs(f,m,v,d,y))}else if(p.value){var g=oc(n,p.value.ast.sourceSpan);this._parsePropertyAst(f,p.value,n,g,i,a)}else i.push([f,""]),this.parseLiteralAttr(f,null,n,r,void 0,i,a)}}catch(b){l.e(b)}finally{l.f()}}},{key:"_parseTemplateBindings",value:function(e,t,n,r,i){var a=this,s=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(e,t,s,r,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach((function(e){e.value instanceof Os&&a._checkPipes(e.value,n)})),o.warnings.forEach((function(e){a._reportError(e,n,jr.WARNING)})),o.templateBindings}catch(u){return this._reportError("".concat(u),n),[]}}},{key:"parseLiteralAttr",value:function(e,t,n,r,i,a,s){ac(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,jr.ERROR),this._parseAnimation(e,t,n,r,i,a,s)):s.push(new As(e,this._exprParser.wrapLiteralPrimitive(t,"",r),Za.LITERAL_ATTR,n,i))}},{key:"parsePropertyBinding",value:function(e,t,n,r,i,a,s,o){0===e.length&&this._reportError("Property name is missing in binding",r);var u=!1;e.startsWith("animate-")?(u=!0,e=e.substring("animate-".length)):ac(e)&&(u=!0,e=e.substring(1)),u?this._parseAnimation(e,t,r,i,a,s,o):this._parsePropertyAst(e,this._parseBinding(t,n,a||r,i),r,a,s,o)}},{key:"parsePropertyInterpolation",value:function(e,t,n,r,i,a){var s=this.parseInterpolation(t,r||n);return!!s&&(this._parsePropertyAst(e,s,n,r,i,a),!0)}},{key:"_parsePropertyAst",value:function(e,t,n,r,i,a){i.push([e,t.source]),a.push(new As(e,t,Za.DEFAULT,n,r))}},{key:"_parseAnimation",value:function(e,t,n,r,i,a,s){0===e.length&&this._reportError("Animation trigger is missing",n);var o=this._parseBinding(t||"undefined",!1,i||n,r);a.push([e,o.source]),s.push(new As(e,o,Za.ANIMATION,n,i))}},{key:"_parseBinding",value:function(e,t,n,r){var i=(n&&n.start||"(unknown)").toString();try{var a=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return a&&this._reportExpressionParserErrors(a.errors,n),this._checkPipes(a,n),a}catch(s){return this._reportError("".concat(s),n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}},{key:"createBoundElementProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.isAnimation)return new Ds(t.name,4,K.NONE,t.expression,null,t.sourceSpan,t.valueSpan);var i=null,a=void 0,s=null,o=t.name.split("."),u=void 0;if(o.length>1)if("attr"==o[0]){s=o.slice(1).join("."),n||this._validatePropertyOrAttributeName(s,t.sourceSpan,!0),u=sc(this._schemaRegistry,e,s,!0);var c=s.indexOf(":");if(c>-1){var l=s.substring(0,c),h=s.substring(c+1);s=x(l,h)}a=1}else"class"==o[0]?(s=o[1],a=2,u=[K.NONE]):"style"==o[0]&&(i=o.length>2?o[2]:null,s=o[1],a=3,u=[K.STYLE]);if(null===s){var p=this._schemaRegistry.getMappedPropName(t.name);s=r?p:t.name,u=sc(this._schemaRegistry,e,p,!1),a=0,n||this._validatePropertyOrAttributeName(p,t.sourceSpan,!1)}return new Ds(s,a,u[0],t.expression,i,t.sourceSpan,t.valueSpan)}},{key:"parseEvent",value:function(e,t,n,r,i,a){0===e.length&&this._reportError("Event name is missing in binding",n),ac(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r,a)):this._parseRegularEvent(e,t,n,r,i,a)}},{key:"calcPossibleSecurityContexts",value:function(e,t,n){var r=this._schemaRegistry.getMappedPropName(t);return sc(this._schemaRegistry,e,r,n)}},{key:"_parseAnimationEvent",value:function(e,t,n,r,i){var a=nn(e,".",[e,""]),s=a[0],o=a[1].toLowerCase();if(o)switch(o){case"start":case"done":var u=this._parseAction(t,r);i.push(new Is(s,o,1,u,n,r));break;default:this._reportError('The provided animation output phase value "'.concat(o,'" for "@').concat(s,'" is not supported (use start or done)'),n)}else this._reportError("The animation trigger output event (@".concat(s,") is missing its phase value name (start or done are currently supported)"),n)}},{key:"_parseRegularEvent",value:function(e,t,n,r,i,a){var s=tn(e,[null,e]),o=Object(c.a)(s,2),u=o[0],l=o[1],h=this._parseAction(t,r);i.push([e,h.source]),a.push(new Is(l,u,0,h,n,r))}},{key:"_parseAction",value:function(e,t){var n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{var i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof as?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(a){return this._reportError("".concat(a),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}},{key:"_reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr.ERROR;this.errors.push(new Ar(t,e,n))}},{key:"_reportExpressionParserErrors",value:function(e,t){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this._reportError(i.message,t)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_checkPipes",value:function(e,t){var n=this;if(e&&this.pipesByName){var r=new ic;e.visit(r),r.pipes.forEach((function(e,r){var i=n.pipesByName.get(r);i?n._usedPipes.set(r,i):n._reportError("The pipe '".concat(r,"' could not be found"),new Mr(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))}))}}},{key:"_validatePropertyOrAttributeName",value:function(e,t,n){var r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,jr.ERROR)}},{key:"interpolationConfig",get:function(){return this._interpolationConfig}}]),e}(),ic=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.apply(this,arguments)).pipes=new Map,e}return Object(g.a)(n,[{key:"visitPipe",value:function(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}]),n}(Ns);function ac(e){return"@"==e[0]}function sc(e,t,n,r){var i=[];return I.parse(t).forEach((function(t){var a=t.element?[t.element]:e.allKnownElementNames(),s=new Set(t.notSelectors.filter((function(e){return e.isElementSelector()})).map((function(e){return e.element}))),o=a.filter((function(e){return!s.has(e)}));i.push.apply(i,Object(m.a)(o.map((function(t){return e.securityContext(t,n,r)}))))})),0===i.length?[K.NONE]:Array.from(new Set(i)).sort()}function oc(e,t){var n=t.start-e.start.offset,r=t.end-e.end.offset;return new Mr(e.start.moveBy(n),e.end.moveBy(r))}var uc;function cc(e){var t=null,n=null,r=null,i=!1,a="";e.attrs.forEach((function(e){var s=e.name.toLowerCase();"select"==s?t=e.value:"href"==s?n=e.value:"rel"==s?r=e.value:"ngNonBindable"==e.name?i=!0:"ngProjectAs"==e.name&&e.value.length>0&&(a=e.value)})),t=function(e){if(null===e||0===e.length)return"*";return e}(t);var s=e.name.toLowerCase(),o=uc.OTHER;return _(s)?o=uc.NG_CONTENT:"style"==s?o=uc.STYLE:"script"==s?o=uc.SCRIPT:"link"==s&&"stylesheet"==r&&(o=uc.STYLESHEET),new lc(o,t,n,i,a)}!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(uc||(uc={}));var lc=function e(t,n,r,i,a){Object(y.a)(this,e),this.type=t,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=a};var hc,pc=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function vc(){return hc||(hc=I.parse("*")[0]),hc}var fc=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){return Object(y.a)(this,n),t.call(this,r,e,i)}return n}(Ar),dc=function e(t,n,r){Object(y.a)(this,e),this.templateAst=t,this.usedPipes=n,this.errors=r},mc=function(){function e(t,n,r,i,a,s,o){Object(y.a)(this,e),this._config=t,this._reflector=n,this._exprParser=r,this._schemaRegistry=i,this._htmlParser=a,this._console=s,this.transforms=o}return Object(g.a)(e,[{key:"parse",value:function(e,t,n,r,i,a,s){var o,u=this.tryParse(e,t,n,r,i,a,s),c=u.errors.filter((function(e){return e.level===jr.WARNING})),l=u.errors.filter((function(e){return e.level===jr.ERROR}));if(c.length>0&&(null===(o=this._console)||void 0===o?void 0:o.warn("Template parse warnings:\n".concat(c.join("\n")))),l.length>0){var h=l.join("\n");throw pn("Template parse errors:\n".concat(h),l)}return{template:u.templateAst,pipes:u.usedPipes}}},{key:"tryParse",value:function(e,t,n,r,i,a,s){var o="string"==typeof t?this._htmlParser.parse(t,a,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return s||(o=ku(o)),this.tryParseHtml(this.expandHtml(o),e,n,r,i)}},{key:"tryParseHtml",value:function(e,t,n,r,i){var a,s=e.errors,o=[];if(e.rootNodes.length>0){var u=Cc(n),c=Cc(r),l=new zu(this._reflector,t),h=void 0;t.template&&t.template.interpolation&&(h={start:t.template.interpolation[0],end:t.template.interpolation[1]});var p=new rc(this._exprParser,h,this._schemaRegistry,c,s),v=new yc(this._reflector,this._config,l,u,p,this._schemaRegistry,i,s);a=Uo(v,e.rootNodes,Sc),s.push.apply(s,Object(m.a)(l.errors)),o.push.apply(o,Object(m.a)(p.getUsedPipes()))}else a=[];return this._assertNoReferenceDuplicationOnTemplate(a,s),s.length>0||this.transforms&&this.transforms.forEach((function(e){a=qu(e,a)})),new dc(a,o,s)}},{key:"expandHtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.errors;if(0==n.length||t){var r=Eu(e.rootNodes);n.push.apply(n,Object(m.a)(r.errors)),e=new lu(r.nodes,n)}return e}},{key:"getInterpolationConfig",value:function(e){if(e.template)return ja.fromArray(e.template.interpolation)}},{key:"_assertNoReferenceDuplicationOnTemplate",value:function(e,t){var n=[];e.filter((function(e){return!!e.references})).forEach((function(e){return e.references.forEach((function(e){var r=e.name;if(n.indexOf(r)<0)n.push(r);else{var i=new fc('Reference "#'.concat(r,'" is defined several times'),e.sourceSpan,jr.ERROR);t.push(i)}}))}))}},{key:"expressionParser",get:function(){return this._exprParser}}]),e}(),yc=function(){function e(t,n,r,i,a,s,o,u){var c=this;Object(y.a)(this,e),this.reflector=t,this.config=n,this.providerViewContext=r,this._bindingParser=a,this._schemaRegistry=s,this._schemas=o,this._targetErrors=u,this.selectorMatcher=new R,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=r.component.viewQueries.length+1,i.forEach((function(e,t){var n=I.parse(e.selector);c.selectorMatcher.addSelectables(n,e),c.directivesIndex.set(e,t)}))}return Object(g.a)(e,[{key:"visitExpansion",value:function(e,t){return null}},{key:"visitExpansionCase",value:function(e,t){return null}},{key:"visitText",value:function(e,t){var n=t.findNgContentIndex(vc()),r=gu(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new Tu(i,n,e.sourceSpan):new Ou(r,n,e.sourceSpan)}},{key:"visitAttribute",value:function(e,t){return new ju(e.name,e.value,e.sourceSpan)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitElement",value:function(e,t){var n=this,r=this.contentQueryStartId,i=e.name,a=cc(e);if(a.type===uc.SCRIPT||a.type===uc.STYLE)return null;if(a.type===uc.STYLESHEET&&Zu(a.hrefAttr))return null;var s=[],o=[],u=[],c=[],l=[],h=[],p=[],v=[],f=!1,d=[],y=E(e.name);e.attrs.forEach((function(e){var t,r,i=n._parseAttr(y,e,s,o,l,u,c);c.push.apply(c,Object(m.a)([].map((function(e){return Iu.fromParsedVariable(e)}))));var a=n._normalizeAttributeName(e.name);a.startsWith("*")&&(t=e.value,r=a.substring("*".length));var g=null!=t;if(g){f&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),f=!0;var b=[],k=(e.valueSpan||e.sourceSpan).start.offset;n._bindingParser.parseInlineTemplateBinding(r,t,e.sourceSpan,k,p,h,b),v.push.apply(v,Object(m.a)(b.map((function(e){return Iu.fromParsedVariable(e)}))))}i||g||(d.push(n.visitAttribute(e,null)),s.push([e.name,e.value]))}));var g=Ec(i,s),b=this._parseDirectives(this.selectorMatcher,g),k=b.directives,_=b.matchElement,S=[],x=new Set,w=this._createDirectiveAsts(y,e.name,k,o,u,e.sourceSpan,S,x),C=this._createElementPropertyAsts(e.name,o,x),O=t.isTemplateElement||f,T=new Ku(this.providerViewContext,t.providerContext,O,w,d,S,y,r,e.sourceSpan),j=Uo(a.nonBindable?xc:this,e.children,_c.create(y,w,y?t.providerContext:T));T.afterElement();var N,P=""!=a.projectAs?I.parse(a.projectAs)[0]:g,M=t.findNgContentIndex(P);if(a.type===uc.NG_CONTENT)e.children&&!e.children.every(wc)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),N=new Vu(this.ngContentCount++,f?null:M,e.sourceSpan);else if(y)this._assertAllEventsPublishedByDirectives(w,l),this._assertNoComponentsNorElementBindingsOnTemplate(w,C,e.sourceSpan),N=new Du(d,l,S,c,T.transformedDirectiveAsts,T.transformProviders,T.transformedHasViewContainer,T.queryMatches,j,f?null:M,e.sourceSpan);else{this._assertElementExists(_,e),this._assertOnlyOneComponent(w,e.sourceSpan);var A=f?null:t.findNgContentIndex(P);N=new Ru(i,d,C,l,S,T.transformedDirectiveAsts,T.transformProviders,T.transformedHasViewContainer,T.queryMatches,j,f?null:A,e.sourceSpan,e.endSourceSpan||null)}if(f){var R=this.contentQueryStartId,D=Ec("ng-template",p),F=this._parseDirectives(this.selectorMatcher,D).directives,L=new Set,B=this._createDirectiveAsts(!0,i,F,h,[],e.sourceSpan,[],L),V=this._createElementPropertyAsts(i,h,L);this._assertNoComponentsNorElementBindingsOnTemplate(B,V,e.sourceSpan);var U=new Ku(this.providerViewContext,t.providerContext,t.isTemplateElement,B,[],[],!0,R,e.sourceSpan);U.afterElement(),N=new Du([],[],[],v,U.transformedDirectiveAsts,U.transformProviders,U.transformedHasViewContainer,U.queryMatches,[N],M,e.sourceSpan)}return N}},{key:"_parseAttr",value:function(e,t,n,r,i,a,s){var o=this._normalizeAttributeName(t.name),u=t.value,c=t.sourceSpan,l=t.valueSpan?t.valueSpan.start.offset:c.start.offset,h=[],p=o.match(pc),v=!1;if(null!==p)if(v=!0,null!=p[1])this._bindingParser.parsePropertyBinding(p[7],u,!1,c,l,t.valueSpan,n,r);else if(p[2])if(e){var f=p[7];this._parseVariable(f,u,c,s)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(p[3]){var d=p[7];this._parseReference(d,u,c,a)}else p[4]?this._bindingParser.parseEvent(p[7],u,c,t.valueSpan||c,n,h):p[5]?(this._bindingParser.parsePropertyBinding(p[7],u,!1,c,l,t.valueSpan,n,r),this._parseAssignmentEvent(p[7],u,c,t.valueSpan||c,n,h)):p[6]?this._bindingParser.parseLiteralAttr(o,u,c,l,t.valueSpan,n,r):p[8]?(this._bindingParser.parsePropertyBinding(p[8],u,!1,c,l,t.valueSpan,n,r),this._parseAssignmentEvent(p[8],u,c,t.valueSpan||c,n,h)):p[9]?this._bindingParser.parsePropertyBinding(p[9],u,!1,c,l,t.valueSpan,n,r):p[10]&&this._bindingParser.parseEvent(p[10],u,c,t.valueSpan||c,n,h);else v=this._bindingParser.parsePropertyInterpolation(o,u,c,t.valueSpan,n,r);return v||this._bindingParser.parseLiteralAttr(o,u,c,l,t.valueSpan,n,r),i.push.apply(i,Object(m.a)(h.map((function(e){return Mu.fromParsedEvent(e)})))),v}},{key:"_normalizeAttributeName",value:function(e){return/^data-/i.test(e)?e.substring(5):e}},{key:"_parseVariable",value:function(e,t,n,r){e.indexOf("-")>-1?this._reportError('"-" is not allowed in variable names',n):0===e.length&&this._reportError("Variable does not have a name",n),r.push(new Iu(e,t,n))}},{key:"_parseReference",value:function(e,t,n,r){e.indexOf("-")>-1?this._reportError('"-" is not allowed in reference names',n):0===e.length&&this._reportError("Reference does not have a name",n),r.push(new bc(e,t,n))}},{key:"_parseAssignmentEvent",value:function(e,t,n,r,i,a){this._bindingParser.parseEvent("".concat(e,"Change"),"".concat(t,"=$event"),n,r,i,a)}},{key:"_parseDirectives",value:function(e,t){var n=this,r=On(this.directivesIndex.size),i=!1;return e.match(t,(function(e,t){r[n.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()})),{directives:r.filter((function(e){return!!e})),matchElement:i}}},{key:"_createDirectiveAsts",value:function(e,t,n,r,i,a,s,o){var u=this,c=new Set,l=null,h=n.map((function(e){var n=new Mr(a.start,a.end,"Directive ".concat(Qn(e.type)));e.isComponent&&(l=e);var h=[],p=u._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map((function(e){return Pu.fromBoundProperty(e)}));p=u._checkPropertiesInSchema(t,p);var v=u._bindingParser.createDirectiveHostEventAsts(e,n);u._createDirectivePropertyAsts(e.inputs,r,h,o),i.forEach((function(t){(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(s.push(new Au(t.name,Bn(e.type.reference),t.value,t.sourceSpan)),c.add(t.name))}));var f=v.map((function(e){return Mu.fromParsedEvent(e)})),d=u.contentQueryStartId;return u.contentQueryStartId+=e.queries.length,new Lu(e,h,p,f,d,n)}));return i.forEach((function(t){if(t.value.length>0)c.has(t.name)||u._reportError('There is no directive with "exportAs" set to "'.concat(t.value,'"'),t.sourceSpan);else if(!l){var n=null;e&&(n=Vn(u.reflector,Ln.TemplateRef)),s.push(new Au(t.name,n,t.value,t.sourceSpan))}})),h}},{key:"_createDirectivePropertyAsts",value:function(e,t,n,r){if(e){var i=new Map;t.forEach((function(e){var t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)})),Object.keys(e).forEach((function(t){var a=e[t],s=i.get(a);s&&(r.add(s.name),Oc(s.expression)||n.push(new Fu(t,s.name,s.expression,s.sourceSpan)))}))}}},{key:"_createElementPropertyAsts",value:function(e,t,n){var r=this,i=[];return t.forEach((function(t){if(!t.isLiteral&&!n.has(t.name)){var a=r._bindingParser.createBoundElementProperty(e,t);i.push(Pu.fromBoundProperty(a))}})),this._checkPropertiesInSchema(e,i)}},{key:"_findComponentDirectives",value:function(e){return e.filter((function(e){return e.directive.isComponent}))}},{key:"_findComponentDirectiveNames",value:function(e){return this._findComponentDirectives(e).map((function(e){return Qn(e.directive.type)}))}},{key:"_assertOnlyOneComponent",value:function(e,t){var n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+"Conflicting components: ".concat(n.join(",")),t)}},{key:"_assertElementExists",value:function(e,t){var n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'".concat(n,"' is not a known element:\n");r+="1. If '".concat(n,"' is an Angular component, then verify that it is part of this module.\n"),n.indexOf("-")>-1?r+="2. If '".concat(n,"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message."):r+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,t.sourceSpan)}}},{key:"_assertNoComponentsNorElementBindingsOnTemplate",value:function(e,t,n){var r=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: ".concat(i.join(",")),n),t.forEach((function(e){r._reportError("Property binding ".concat(e.name,' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".'),n)}))}},{key:"_assertAllEventsPublishedByDirectives",value:function(e,t){var n=this,r=new Set;e.forEach((function(e){Object.keys(e.directive.outputs).forEach((function(t){var n=e.directive.outputs[t];r.add(n)}))})),t.forEach((function(e){null==e.target&&r.has(e.name)||n._reportError("Event binding ".concat(e.fullName,' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".'),e.sourceSpan)}))}},{key:"_checkPropertiesInSchema",value:function(e,t){var n=this;return t.filter((function(t){if(0===t.type&&!n._schemaRegistry.hasProperty(e,t.name,n._schemas)){var r="Can't bind to '".concat(t.name,"' since it isn't a known property of '").concat(e,"'.");e.startsWith("ng-")?r+="\n1. If '".concat(t.name,"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.")+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(r+="\n1. If '".concat(e,"' is an Angular component and it has '").concat(t.name,"' input, then verify that it is part of this module.")+"\n2. If '".concat(e,"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.")+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(r,t.sourceSpan)}return!Oc(t.value)}))}},{key:"_reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr.ERROR;this._targetErrors.push(new Ar(t,e,n))}}]),e}(),gc=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitElement",value:function(e,t){var n=cc(e);if(n.type===uc.SCRIPT||n.type===uc.STYLE||n.type===uc.STYLESHEET)return null;var r=e.attrs.map((function(e){return[e.name,e.value]})),i=Ec(e.name,r),a=t.findNgContentIndex(i),s=Uo(this,e.children,Sc);return new Ru(e.name,Uo(this,e.attrs),[],[],[],[],[],!1,[],s,a,e.sourceSpan,e.endSourceSpan)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitAttribute",value:function(e,t){return new ju(e.name,e.value,e.sourceSpan)}},{key:"visitText",value:function(e,t){var n=t.findNgContentIndex(vc());return new Ou(e.value,n,e.sourceSpan)}},{key:"visitExpansion",value:function(e,t){return e}},{key:"visitExpansionCase",value:function(e,t){return e}}]),e}(),bc=function(){function e(t,n,r){Object(y.a)(this,e),this.name=t,this.value=n,this.sourceSpan=r}return Object(g.a)(e,[{key:"isReferenceToDirective",value:function(e){return-1!==(t=e.exportAs,t?t.split(",").map((function(e){return e.trim()})):[]).indexOf(this.value);var t}}]),e}();function kc(e){return e.trim().split(/\s+/g)}var _c=function(){function e(t,n,r,i){Object(y.a)(this,e),this.isTemplateElement=t,this._ngContentIndexMatcher=n,this._wildcardNgContentIndex=r,this.providerContext=i}return Object(g.a)(e,[{key:"findNgContentIndex",value:function(e){var t=[];return this._ngContentIndexMatcher.match(e,(function(e,n){t.push(n)})),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}],[{key:"create",value:function(t,n,r){var i=new R,a=null,s=n.find((function(e){return e.directive.isComponent}));if(s)for(var o=s.directive.template.ngContentSelectors,u=0;u<o.length;u++){"*"===o[u]?a=u:i.addSelectables(I.parse(o[u]),u)}return new e(t,i,a,r)}}]),e}();function Ec(e,t){var n=new I,r=b(e)[1];n.setElement(r);for(var i=0;i<t.length;i++){var a=t[i][0],s=b(a)[1],o=t[i][1];if(n.addAttribute(s,o),"class"==a.toLowerCase())kc(o).forEach((function(e){return n.addClassName(e)}))}return n}var Sc=new _c(!0,new R,null,null),xc=new gc;function wc(e){return e instanceof Ro&&0==e.value.trim().length}function Cc(e){var t=new Map;return e.forEach((function(e){t.get(e.type.reference)||t.set(e.type.reference,e)})),Array.from(t.values())}function Oc(e){return e instanceof Os&&(e=e.ast),e instanceof as}function Tc(e){var t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){var n=e.substring(1,e.length-1);-1==n.indexOf("'")&&-1==n.indexOf('"')&&(e=n)}return e}function jc(e){return e.replace(/[a-z][A-Z]/g,(function(e){return e.charAt(0)+"-"+e.charAt(1)})).toLowerCase()}var Nc,Pc=function(){function e(t){Object(y.a)(this,e),this._directiveExpr=t,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}return Object(g.a)(e,[{key:"registerBoundInput",value:function(e){var t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}},{key:"registerInputBasedOnName",value:function(e,t,n){var r=null,i=e.substring(0,6),a="style"===e||"style."===i||"style!"===i;if(a||!a&&("class"===e||"class."===i||"class!"===i)){var s="."!==e.charAt(5),o=e.substr(s?5:6);r=a?this.registerStyleInput(o,s,t,n):this.registerClassInput(o,s,t,n)}return r}},{key:"registerStyleInput",value:function(e,t,n,r,i){if(Oc(n))return null;var a=Ac(e=jc(e)),s=a.property,o=a.hasOverrideFlag,u=a.suffix,c={name:s,suffix:i="string"==typeof i&&0!==i.length?i:u,value:n,sourceSpan:r,hasOverrideFlag:o};return t?this._styleMapInput=c:((this._singleStyleInputs=this._singleStyleInputs||[]).push(c),Mc(this._stylesIndex,s)),this._lastStylingInput=c,this._firstStylingInput=this._firstStylingInput||c,this._checkForPipes(n),this.hasBindings=!0,c}},{key:"registerClassInput",value:function(e,t,n,r){if(Oc(n))return null;var i=Ac(e),a=i.property,s={name:a,value:n,sourceSpan:r,hasOverrideFlag:i.hasOverrideFlag,suffix:null};if(t){if(this._classMapInput)throw new Error("[class] and [className] bindings cannot be used on the same element simultaneously");this._classMapInput=s}else(this._singleClassInputs=this._singleClassInputs||[]).push(s),Mc(this._classesIndex,a);return this._lastStylingInput=s,this._firstStylingInput=this._firstStylingInput||s,this._checkForPipes(n),this.hasBindings=!0,s}},{key:"_checkForPipes",value:function(e){e instanceof Os&&e.ast instanceof fs&&(this.hasBindingsWithPipes=!0)}},{key:"registerStyleAttr",value:function(e){this._initialStyleValues=function(e){for(var t=[],n=0,r=0,i=0,a=0,s=0,o=null,u=!1;n<e.length;){switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:u=u||a>0,0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:u=u||a>0,0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:o||0!==r||0!==i||(o=jc(e.substring(s,n-1).trim()),a=n);break;case 59:if(o&&a>0&&0===r&&0===i){var c=e.substring(a,n-1).trim();t.push(o,u?Tc(c):c),s=n,a=0,o=null,u=!1}}}if(o&&a){var l=e.substr(a).trim();t.push(o,u?Tc(l):l)}return t}(e),this._hasInitialValues=!0}},{key:"registerClassAttr",value:function(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}},{key:"populateInitialStylingAttrs",value:function(e){if(this._initialClassValues.length){e.push(Yt(1));for(var t=0;t<this._initialClassValues.length;t++)e.push(Yt(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(Yt(2));for(var n=0;n<this._initialStyleValues.length;n+=2)e.push(Yt(this._initialStyleValues[n]),Yt(this._initialStyleValues[n+1]))}}},{key:"assignHostAttrs",value:function(e,t){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),t.set("hostAttrs",Qt(e)))}},{key:"buildClassMapInstruction",value:function(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}},{key:"buildStyleMapInstruction",value:function(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}},{key:"_buildMapBasedInstruction",value:function(e,t,n){var r,i=2,a=n.value.visit(e);return a instanceof gs?(i+=a.expressions.length,r=t?function(e){switch(ba(e)){case 1:return yr.classMap;case 3:return yr.classMapInterpolate1;case 5:return yr.classMapInterpolate2;case 7:return yr.classMapInterpolate3;case 9:return yr.classMapInterpolate4;case 11:return yr.classMapInterpolate5;case 13:return yr.classMapInterpolate6;case 15:return yr.classMapInterpolate7;case 17:return yr.classMapInterpolate8;default:return yr.classMapInterpolateV}}(a):function(e){switch(ba(e)){case 1:return yr.styleMap;case 3:return yr.styleMapInterpolate1;case 5:return yr.styleMapInterpolate2;case 7:return yr.styleMapInterpolate3;case 9:return yr.styleMapInterpolate4;case 11:return yr.styleMapInterpolate5;case 13:return yr.styleMapInterpolate6;case 15:return yr.styleMapInterpolate7;case 17:return yr.styleMapInterpolate8;default:return yr.styleMapInterpolateV}}(a)):r=t?yr.classMap:yr.styleMap,{reference:r,calls:[{supportsInterpolation:!0,sourceSpan:n.sourceSpan,allocateBindingSlots:i,params:function(e){var t=e(a),n=Array.isArray(t)?t:[t];return n}}]}}},{key:"_buildSingleInputs",value:function(e,t,n,r,i){var a=[];return t.forEach((function(t){var s=a[a.length-1],o=t.value.visit(n),u=e,c=2;o instanceof gs&&(c+=o.expressions.length,r&&(u=r(o)));var l={sourceSpan:t.sourceSpan,allocateBindingSlots:c,supportsInterpolation:!!r,params:function(e){var n=[];n.push(Yt(t.name));var r=e(o);return Array.isArray(r)?n.push.apply(n,Object(m.a)(r)):n.push(r),i||null===t.suffix||n.push(Yt(t.suffix)),n}};s&&s.reference===u?s.calls.push(l):a.push({reference:u,calls:[l]})})),a}},{key:"_buildClassInputs",value:function(e){return this._singleClassInputs?this._buildSingleInputs(yr.classProp,this._singleClassInputs,e,null,!0):[]}},{key:"_buildStyleInputs",value:function(e){return this._singleStyleInputs?this._buildSingleInputs(yr.styleProp,this._singleStyleInputs,e,Ic,!1):[]}},{key:"buildUpdateLevelInstructions",value:function(e){var t=[];if(this.hasBindings){var n=this.buildStyleMapInstruction(e);n&&t.push(n);var r=this.buildClassMapInstruction(e);r&&t.push(r),t.push.apply(t,Object(m.a)(this._buildStyleInputs(e))),t.push.apply(t,Object(m.a)(this._buildClassInputs(e)))}return t}}]),e}();function Mc(e,t){e.has(t)||e.set(t,e.size)}function Ac(e){var t=!1,n=e.indexOf("!important");-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);var r=null,i=e,a=e.lastIndexOf(".");return a>0&&(r=e.substr(a+1),i=e.substring(0,a)),{property:i,suffix:r,hasOverrideFlag:t}}function Ic(e){switch(ba(e)){case 1:return yr.styleProp;case 3:return yr.stylePropInterpolate1;case 5:return yr.stylePropInterpolate2;case 7:return yr.stylePropInterpolate3;case 9:return yr.stylePropInterpolate4;case 11:return yr.stylePropInterpolate5;case 13:return yr.stylePropInterpolate6;case 15:return yr.stylePropInterpolate7;case 17:return yr.stylePropInterpolate8;default:return yr.stylePropInterpolateV}}!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(Nc||(Nc={}));var Rc=["var","let","as","null","undefined","true","false","if","else","this"],Dc=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"tokenize",value:function(e){for(var t=new Uc(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n}}]),e}(),Fc=function(){function e(t,n,r,i,a){Object(y.a)(this,e),this.index=t,this.end=n,this.type=r,this.numValue=i,this.strValue=a}return Object(g.a)(e,[{key:"isCharacter",value:function(e){return this.type==Nc.Character&&this.numValue==e}},{key:"isNumber",value:function(){return this.type==Nc.Number}},{key:"isString",value:function(){return this.type==Nc.String}},{key:"isOperator",value:function(e){return this.type==Nc.Operator&&this.strValue==e}},{key:"isIdentifier",value:function(){return this.type==Nc.Identifier}},{key:"isKeyword",value:function(){return this.type==Nc.Keyword}},{key:"isKeywordLet",value:function(){return this.type==Nc.Keyword&&"let"==this.strValue}},{key:"isKeywordAs",value:function(){return this.type==Nc.Keyword&&"as"==this.strValue}},{key:"isKeywordNull",value:function(){return this.type==Nc.Keyword&&"null"==this.strValue}},{key:"isKeywordUndefined",value:function(){return this.type==Nc.Keyword&&"undefined"==this.strValue}},{key:"isKeywordTrue",value:function(){return this.type==Nc.Keyword&&"true"==this.strValue}},{key:"isKeywordFalse",value:function(){return this.type==Nc.Keyword&&"false"==this.strValue}},{key:"isKeywordThis",value:function(){return this.type==Nc.Keyword&&"this"==this.strValue}},{key:"isError",value:function(){return this.type==Nc.Error}},{key:"toNumber",value:function(){return this.type==Nc.Number?this.numValue:-1}},{key:"toString",value:function(){switch(this.type){case Nc.Character:case Nc.Identifier:case Nc.Keyword:case Nc.Operator:case Nc.String:case Nc.Error:return this.strValue;case Nc.Number:return this.numValue.toString();default:return null}}}]),e}();function Lc(e,t,n){return new Fc(e,t,Nc.Character,n,String.fromCharCode(n))}function Bc(e,t,n){return new Fc(e,t,Nc.Operator,0,n)}var Vc=new Fc(-1,-1,Nc.Character,0,""),Uc=function(){function e(t){Object(y.a)(this,e),this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return Object(g.a)(e,[{key:"advance",value:function(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}},{key:"scanToken",value:function(){for(var e=this.input,t=this.length,n=this.peek,r=this.index;n<=32;){if(++r>=t){n=0;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(Hc(n))return this.scanIdentifier();if(wr(n))return this.scanNumber(r);var i=r;switch(n){case 46:return this.advance(),wr(this.peek)?this.scanNumber(i):Lc(i,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;xr(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character [".concat(String.fromCharCode(n),"]"),0)}},{key:"scanCharacter",value:function(e,t){return this.advance(),Lc(e,this.index,t)}},{key:"scanOperator",value:function(e,t){return this.advance(),Bc(e,this.index,t)}},{key:"scanComplexOperator",value:function(e,t,n,r,i,a){this.advance();var s=t;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=a),Bc(e,this.index,s)}},{key:"scanIdentifier",value:function(){var e=this.index;for(this.advance();Wc(this.peek);)this.advance();var t,n,r,i=this.input.substring(e,this.index);return Rc.indexOf(i)>-1?(t=e,n=this.index,r=i,new Fc(t,n,Nc.Keyword,0,r)):function(e,t,n){return new Fc(e,t,Nc.Identifier,0,n)}(e,this.index,i)}},{key:"scanNumber",value:function(e){var t,n=this.index===e;for(this.advance();;){if(wr(this.peek));else if(46==this.peek)n=!1;else{if(101!=(t=this.peek)&&69!=t)break;if(this.advance(),zc(this.peek)&&this.advance(),!wr(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var r,i,a,s=this.input.substring(e,this.index),o=n?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(s):parseFloat(s);return r=e,i=this.index,a=o,new Fc(r,i,Nc.Number,a,"")}},{key:"scanString",value:function(){var e=this.index,t=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=t;)if(92==this.peek){n+=i.substring(r,this.index),this.advance();var a=void 0;if(this.peek=this.peek,117==this.peek){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u".concat(s,"]"),0);a=parseInt(s,16);for(var o=0;o<5;o++)this.advance()}else a=Qc(this.peek),this.advance();n+=String.fromCharCode(a),r=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var u,c,l,h=i.substring(r,this.index);return this.advance(),u=e,c=this.index,l=n+h,new Fc(u,c,Nc.String,0,l)}},{key:"error",value:function(e,t){var n=this.index+t;return function(e,t,n){return new Fc(e,t,Nc.Error,0,n)}(n,this.index,"Lexer Error: ".concat(e," at column ").concat(n," in expression [").concat(this.input,"]"))}}]),e}();function Hc(e){return 97<=e&&e<=122||65<=e&&e<=90||95==e||36==e}function qc(e){if(0==e.length)return!1;var t=new Uc(e);if(!Hc(t.peek))return!1;for(t.advance();0!==t.peek;){if(!Wc(t.peek))return!1;t.advance()}return!0}function Wc(e){return Cr(e)||wr(e)||95==e||36==e}function zc(e){return 45==e||43==e}function Kc(e){return 39===e||34===e||96===e}function Qc(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}var Xc=function e(t,n,r,i,a){Object(y.a)(this,e),this.strings=t,this.stringSpans=n,this.expressions=r,this.expressionsSpans=i,this.offsets=a},Gc=function e(t,n,r){Object(y.a)(this,e),this.templateBindings=t,this.warnings=n,this.errors=r},$c=Yc(Na);function Yc(e){var t=yn(e.start)+"([\\s\\S]*?)"+yn(e.end);return new RegExp(t,"g")}var Jc,Zc=function(){function e(t){Object(y.a)(this,e),this._lexer=t,this.errors=[],this.simpleExpressionChecker=rl}return Object(g.a)(e,[{key:"parseAction",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Na;this._checkNoInterpolation(e,t,r);var i=this._stripComments(e),a=this._lexer.tokenize(this._stripComments(e)),s=new nl(e,t,n,a,i.length,!0,this.errors,e.length-i.length).parseChain();return new Os(s,e,t,n,this.errors)}},{key:"parseBinding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Na,i=this._parseBindingAst(e,t,n,r);return new Os(i,e,t,n,this.errors)}},{key:"checkSimpleExpression",value:function(e){var t=new this.simpleExpressionChecker;return e.visit(t),t.errors}},{key:"parseSimpleBinding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Na,i=this._parseBindingAst(e,t,n,r),a=this.checkSimpleExpression(i);return a.length>0&&this._reportError("Host binding expression cannot contain ".concat(a.join(" ")),e,t),new Os(i,e,t,n,this.errors)}},{key:"_reportError",value:function(e,t,n,r){this.errors.push(new es(e,t,n,r))}},{key:"_parseBindingAst",value:function(e,t,n,r){var i=this._parseQuote(e,t,n);if(null!=i)return i;this._checkNoInterpolation(e,t,r);var a=this._stripComments(e),s=this._lexer.tokenize(a);return new nl(e,t,n,s,a.length,!1,this.errors,e.length-a.length).parseChain()}},{key:"_parseQuote",value:function(e,t,n){if(null==e)return null;var r=e.indexOf(":");if(-1==r)return null;var i=e.substring(0,r).trim();if(!qc(i))return null;var a=e.substring(r+1),s=new ts(0,e.length);return new is(s,s.toAbsolute(n),i,a,t)}},{key:"parseTemplateBindings",value:function(e,t,n,r,i){var a=this._lexer.tokenize(t);return new nl(t,n,i,a,t.length,!1,this.errors,0).parseTemplateBindings({source:e,span:new Cs(r,r+e.length)})}},{key:"parseInterpolation",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Na,i=this.splitInterpolation(e,t,r);if(null==i)return null;for(var a=[],s=0;s<i.expressions.length;++s){var o=i.expressions[s],u=this._stripComments(o),c=this._lexer.tokenize(u),l=new nl(e,t,n,c,u.length,!1,this.errors,i.offsets[s]+(o.length-u.length)).parseChain();a.push(l)}var h=new ts(0,null==e?0:e.length);return new Os(new gs(h,h.toAbsolute(n),i.strings,a),e,t,n,this.errors)}},{key:"splitInterpolation",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Na,r=[],i=[],a=[],s=[],o=[],u=0,c=!1,l=!1,h=n.start,p=n.end;u<e.length;)if(c){var v=u,f=v+h.length,d=e.indexOf(p,f);if(-1===d){c=!1,l=!0;break}var m=d+p.length,y=e.substring(f,d);y.trim().length>0?i.push(y):(this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column ".concat(u," in"),t),i.push("$implicit")),a.push(f),o.push({start:v,end:m}),u=m,c=!1}else{var g=u;-1===(u=e.indexOf(h,u))&&(u=e.length);var b=e.substring(g,u);r.push(b),s.push({start:g,end:u}),c=!0}return c||(l?(r[r.length-1]+=e.substring(u),s[s.length-1].end=e.length):(r.push(e.substring(u)),s.push({start:u,end:e.length}))),0===i.length?null:new Xc(r,s,i,o,a)}},{key:"wrapLiteralPrimitive",value:function(e,t,n){var r=new ts(0,null==e?0:e.length);return new Os(new ds(r,r.toAbsolute(n),e),e,t,n,this.errors)}},{key:"_stripComments",value:function(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}},{key:"_commentStart",value:function(e){for(var t=null,n=0;n<e.length-1;n++){var r=e.charCodeAt(n),i=e.charCodeAt(n+1);if(47===r&&47==i&&null==t)return n;t===r?t=null:null==t&&Kc(r)&&(t=r)}return null}},{key:"_checkNoInterpolation",value:function(e,t,n){var r,i=(r=n)===Na?$c:Yc(r),a=e.split(i);a.length>1&&this._reportError("Got interpolation (".concat(n.start).concat(n.end,") where expression was expected"),e,"at column ".concat(this._findInterpolationErrorColumn(a,1,n)," in"),t)}},{key:"_findInterpolationErrorColumn",value:function(e,t,n){for(var r="",i=0;i<t;i++)r+=i%2==0?e[i]:"".concat(n.start).concat(e[i]).concat(n.end);return r.length}}]),e}(),el=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.apply(this,arguments)).simpleExpressionChecker=il,e}return n}(Zc);!function(e){e[e.None=0]="None",e[e.Writable=1]="Writable"}(Jc||(Jc={}));var tl,nl=function(){function e(t,n,r,i,a,s,o,u){Object(y.a)(this,e),this.input=t,this.location=n,this.absoluteOffset=r,this.tokens=i,this.inputLength=a,this.parseAction=s,this.errors=o,this.offset=u,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=Jc.None,this.sourceSpanCache=new Map,this.index=0}return Object(g.a)(e,[{key:"peek",value:function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:Vc}},{key:"span",value:function(e){return new ts(e,this.currentEndIndex)}},{key:"sourceSpan",value:function(e){var t="".concat(e,"@").concat(this.inputIndex);return this.sourceSpanCache.has(t)||this.sourceSpanCache.set(t,this.span(e).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(t)}},{key:"advance",value:function(){this.index++}},{key:"withContext",value:function(e,t){this.context|=e;var n=t();return this.context^=e,n}},{key:"consumeOptionalCharacter",value:function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}},{key:"peekKeywordLet",value:function(){return this.next.isKeywordLet()}},{key:"peekKeywordAs",value:function(){return this.next.isKeywordAs()}},{key:"expectCharacter",value:function(e){this.consumeOptionalCharacter(e)||this.error("Missing expected ".concat(String.fromCharCode(e)))}},{key:"consumeOptionalOperator",value:function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}},{key:"expectOperator",value:function(e){this.consumeOptionalOperator(e)||this.error("Missing expected operator ".concat(e))}},{key:"expectIdentifierOrKeyword",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token ".concat(e,", expected identifier or keyword")),"")}},{key:"expectIdentifierOrKeywordOrString",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token ".concat(e,", expected identifier, keyword, or string")),"")}},{key:"parseChain",value:function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(e.push(n),this.consumeOptionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '".concat(this.next,"'"))}return 0==e.length?new as(this.span(t),this.sourceSpan(t)):1==e.length?e[0]:new os(this.span(t),this.sourceSpan(t),e)}},{key:"parsePipe",value:function(){var e=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.inputIndex,n=this.expectIdentifierOrKeyword(),r=this.sourceSpan(t),i=[];this.consumeOptionalCharacter(58);)i.push(this.parseExpression());var a=e.span.start;e=new fs(this.span(a),this.sourceSpan(a),e,n,i,r)}while(this.consumeOptionalOperator("|"))}return e}},{key:"parseExpression",value:function(){return this.parseConditional()}},{key:"parseConditional",value:function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){var n,r=this.parsePipe();if(this.consumeOptionalCharacter(58))n=this.parsePipe();else{var i=this.inputIndex,a=this.input.substring(e,i);this.error("Conditional expression ".concat(a," requires all 3 expressions")),n=new as(this.span(e),this.sourceSpan(e))}return new us(this.span(e),this.sourceSpan(e),t,r,n)}return t}},{key:"parseLogicalOr",value:function(){for(var e=this.parseLogicalAnd();this.consumeOptionalOperator("||");){var t=this.parseLogicalAnd(),n=e.span.start;e=new bs(this.span(n),this.sourceSpan(n),"||",e,t)}return e}},{key:"parseLogicalAnd",value:function(){for(var e=this.parseEquality();this.consumeOptionalOperator("&&");){var t=this.parseEquality(),n=e.span.start;e=new bs(this.span(n),this.sourceSpan(n),"&&",e,t)}return e}},{key:"parseEquality",value:function(){for(var e=this.parseRelational();this.next.type==Nc.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational(),r=e.span.start;e=new bs(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}},{key:"parseRelational",value:function(){for(var e=this.parseAdditive();this.next.type==Nc.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive(),r=e.span.start;e=new bs(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}},{key:"parseAdditive",value:function(){for(var e=this.parseMultiplicative();this.next.type==Nc.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var n=this.parseMultiplicative(),r=e.span.start;e=new bs(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}},{key:"parseMultiplicative",value:function(){for(var e=this.parsePrefix();this.next.type==Nc.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var n=this.parsePrefix(),r=e.span.start;e=new bs(this.span(r),this.sourceSpan(r),t,e,n);continue}break}return e}},{key:"parsePrefix",value:function(){if(this.next.type==Nc.Operator){var e,t=this.inputIndex;switch(this.next.strValue){case"+":return this.advance(),e=this.parsePrefix(),ks.createPlus(this.span(t),this.sourceSpan(t),e);case"-":return this.advance(),e=this.parsePrefix(),ks.createMinus(this.span(t),this.sourceSpan(t),e);case"!":return this.advance(),e=this.parsePrefix(),new _s(this.span(t),this.sourceSpan(t),e)}}return this.parseCallChain()}},{key:"parseCallChain",value:function(){for(var e=this,t=this.parsePrimary(),n=t.span.start;;)if(this.consumeOptionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.consumeOptionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.consumeOptionalCharacter(91))this.withContext(Jc.Writable,(function(){e.rbracketsExpected++;var r=e.parsePipe();if(r instanceof as&&e.error("Key access cannot be empty"),e.rbracketsExpected--,e.expectCharacter(93),e.consumeOptionalOperator("=")){var i=e.parseConditional();t=new vs(e.span(n),e.sourceSpan(n),t,r,i)}else t=new ps(e.span(n),e.sourceSpan(n),t,r)}));else if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new ws(this.span(n),this.sourceSpan(n),t,r)}else{if(!this.consumeOptionalOperator("!"))return t;t=new Es(this.span(n),this.sourceSpan(n),t)}}},{key:"parsePrimary",value:function(){var e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new ds(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new ds(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new ds(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new ds(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new ss(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new ms(this.span(e),this.sourceSpan(e),n)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ss(this.span(e),this.sourceSpan(e)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new ds(this.span(e),this.sourceSpan(e),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new ds(this.span(e),this.sourceSpan(e),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: ".concat(this.input)),new as(this.span(e),this.sourceSpan(e))):(this.error("Unexpected token ".concat(this.next)),new as(this.span(e),this.sourceSpan(e)))}},{key:"parseExpressionList",value:function(e){var t=[];if(!this.next.isCharacter(e))do{t.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return t}},{key:"parseLiteralMap",value:function(){var e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{var r=this.next.isString(),i=this.expectIdentifierOrKeywordOrString();e.push({key:i,quoted:r}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new ys(this.span(n),this.sourceSpan(n),e,t)}},{key:"parseAccessMemberOrMethodCall",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.span.start,r=this.inputIndex,i=this.expectIdentifierOrKeyword(),a=this.sourceSpan(r);if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var s=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(n),u=this.sourceSpan(n);return t?new xs(o,u,a,e,i,s):new Ss(o,u,a,e,i,s)}if(t)return this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new as(this.span(n),this.sourceSpan(n))):new hs(this.span(n),this.sourceSpan(n),a,e,i);if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new as(this.span(n),this.sourceSpan(n));var c=this.parseConditional();return new ls(this.span(n),this.sourceSpan(n),a,e,i,c)}return new cs(this.span(n),this.sourceSpan(n),a,e,i)}},{key:"parseCallArguments",value:function(){if(this.next.isCharacter(41))return[];var e=[];do{e.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return e}},{key:"expectTemplateBindingKey",value:function(){var e="",t=!1,n=this.currentAbsoluteOffset;do{e+=this.expectIdentifierOrKeywordOrString(),(t=this.consumeOptionalOperator("-"))&&(e+="-")}while(t);return{source:e,span:new Cs(n,n+e.length)}}},{key:"parseTemplateBindings",value:function(e){var t=[];for(t.push.apply(t,Object(m.a)(this.parseDirectiveKeywordBindings(e)));this.index<this.tokens.length;){var n=this.parseLetBinding();if(n)t.push(n);else{var r=this.expectTemplateBindingKey(),i=this.parseAsBinding(r);i?t.push(i):(r.source=e.source+r.source[0].toUpperCase()+r.source.substring(1),t.push.apply(t,Object(m.a)(this.parseDirectiveKeywordBindings(r))))}this.consumeStatementTerminator()}return new Gc(t,[],this.errors)}},{key:"parseDirectiveKeywordBindings",value:function(e){var t=[];this.consumeOptionalCharacter(58);var n=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);var a=new Cs(e.span.start,r);return t.push(new js(a,e,n)),i&&t.push(i),t}},{key:"getDirectiveBoundTarget",value:function(){if(this.next===Vc||this.peekKeywordAs()||this.peekKeywordLet())return null;var e=this.parsePipe(),t=e.span,n=t.start,r=t.end,i=this.input.substring(n,r);return new Os(e,i,this.location,this.absoluteOffset+n,this.errors)}},{key:"parseAsBinding",value:function(e){if(!this.peekKeywordAs())return null;this.advance();var t=this.expectTemplateBindingKey();this.consumeStatementTerminator();var n=new Cs(e.span.start,this.currentAbsoluteOffset);return new Ts(n,t,e)}},{key:"parseLetBinding",value:function(){if(!this.peekKeywordLet())return null;var e=this.currentAbsoluteOffset;this.advance();var t=this.expectTemplateBindingKey(),n=null;this.consumeOptionalOperator("=")&&(n=this.expectTemplateBindingKey()),this.consumeStatementTerminator();var r=new Cs(e,this.currentAbsoluteOffset);return new Ts(r,t,n)}},{key:"consumeStatementTerminator",value:function(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errors.push(new es(e,this.input,this.locationText(t),this.location)),this.skip()}},{key:"locationText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=this.index),e<this.tokens.length?"at column ".concat(this.tokens[e].index+1," in"):"at the end of the expression"}},{key:"skip",value:function(){for(var e=this.next;!(!(this.index<this.tokens.length)||e.isCharacter(59)||!(this.rparensExpected<=0)&&e.isCharacter(41)||!(this.rbracesExpected<=0)&&e.isCharacter(125)||!(this.rbracketsExpected<=0)&&e.isCharacter(93)||this.context&Jc.Writable&&e.isOperator("="));)this.next.isError()&&this.errors.push(new es(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},{key:"next",get:function(){return this.peek(0)}},{key:"atEOF",get:function(){return this.index>=this.tokens.length}},{key:"inputIndex",get:function(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}},{key:"currentEndIndex",get:function(){return this.index>0?this.peek(-1).end+this.offset:0===this.tokens.length?this.inputLength+this.offset:this.next.index+this.offset}},{key:"currentAbsoluteOffset",get:function(){return this.absoluteOffset+this.inputIndex}}]),e}(),rl=function(){function e(){Object(y.a)(this,e),this.errors=[]}return Object(g.a)(e,[{key:"visitImplicitReceiver",value:function(e,t){}},{key:"visitInterpolation",value:function(e,t){}},{key:"visitLiteralPrimitive",value:function(e,t){}},{key:"visitPropertyRead",value:function(e,t){}},{key:"visitPropertyWrite",value:function(e,t){}},{key:"visitSafePropertyRead",value:function(e,t){}},{key:"visitMethodCall",value:function(e,t){}},{key:"visitSafeMethodCall",value:function(e,t){}},{key:"visitFunctionCall",value:function(e,t){}},{key:"visitLiteralArray",value:function(e,t){this.visitAll(e.expressions,t)}},{key:"visitLiteralMap",value:function(e,t){this.visitAll(e.values,t)}},{key:"visitUnary",value:function(e,t){}},{key:"visitBinary",value:function(e,t){}},{key:"visitPrefixNot",value:function(e,t){}},{key:"visitNonNullAssert",value:function(e,t){}},{key:"visitConditional",value:function(e,t){}},{key:"visitPipe",value:function(e,t){this.errors.push("pipes")}},{key:"visitKeyedRead",value:function(e,t){}},{key:"visitKeyedWrite",value:function(e,t){}},{key:"visitAll",value:function(e,t){var n=this;return e.map((function(e){return e.visit(n,t)}))}},{key:"visitChain",value:function(e,t){}},{key:"visitQuote",value:function(e,t){}}]),e}(),il=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.apply(this,arguments)).errors=[],e}return Object(g.a)(n,[{key:"visitPipe",value:function(){this.errors.push("pipes")}}]),n}(Ns);function al(){return tl||(tl={},sl(K.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),sl(K.STYLE,["*|style"]),sl(K.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),sl(K.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),tl}function sl(e,t){var n,r=Object(h.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;tl[i.toLowerCase()]=e}}catch(a){r.e(a)}finally{r.f()}}var ol=function e(){Object(y.a)(this,e)},ul=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],cl={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ll=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.call(this))._schema={},ul.forEach((function(t){var n={},r=t.split("|"),i=Object(c.a)(r,2),a=i[0],s=i[1].split(","),o=a.split("^"),u=Object(c.a)(o,2),l=u[0],h=u[1];l.split(",").forEach((function(t){return e._schema[t.toLowerCase()]=n}));var p=h&&e._schema[h.toLowerCase()];p&&Object.keys(p).forEach((function(e){n[e]=p[e]})),s.forEach((function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":n[e.substring(1)]="boolean";break;case"#":n[e.substring(1)]="number";break;case"%":n[e.substring(1)]="object";break;default:n[e]="string"}}))})),e}return Object(g.a)(n,[{key:"hasProperty",value:function(e,t,n){if(n.some((function(e){return e.name===re.name})))return!0;if(e.indexOf("-")>-1){if(k(e)||_(e))return!1;if(n.some((function(e){return e.name===ne.name})))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}},{key:"hasElement",value:function(e,t){if(t.some((function(e){return e.name===re.name})))return!0;if(e.indexOf("-")>-1){if(k(e)||_(e))return!0;if(t.some((function(e){return e.name===ne.name})))return!0}return!!this._schema[e.toLowerCase()]}},{key:"securityContext",value:function(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();var r=al()[e+"|"+t];return r||((r=al()["*|"+t])||K.NONE)}},{key:"getMappedPropName",value:function(e){return cl[e]||e}},{key:"getDefaultComponentElementName",value:function(){return"ng-component"}},{key:"validateProperty",value:function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '".concat(e,"' is disallowed for security reasons, ")+"please use (".concat(e.slice(2),")=...")+"\nIf '".concat(e,"' is a directive input, make sure the directive is imported by the")+" current module."}:{error:!1}}},{key:"validateAttribute",value:function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '".concat(e,"' is disallowed for security reasons, ")+"please use (".concat(e.slice(2),")=...")}:{error:!1}}},{key:"allKnownElementNames",value:function(){return Object.keys(this._schema)}},{key:"normalizeAnimationStyleProperty",value:function(e){return e.replace(en,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}},{key:"normalizeAnimationStyleValue",value:function(e,t,n){var r="",i=n.toString().trim(),a=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(a="Please provide a CSS unit value for ".concat(t,":").concat(n))}return{error:a,value:i+r}}}]),n}(ol);var hl=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function pl(e,t){var n=new fl(t);return{nodes:Uo(n,e),errors:t.errors.concat(n.errors),styleUrls:n.styleUrls,styles:n.styles,ngContentSelectors:n.ngContentSelectors}}var vl,fl=function(){function e(t){Object(y.a)(this,e),this.bindingParser=t,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.inI18nBlock=!1}return Object(g.a)(e,[{key:"visitElement",value:function(e){var t=this,n=Ki(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);var r,i=cc(e);if(i.type===uc.SCRIPT)return null;if(i.type===uc.STYLE){var a=1===(r=e).children.length&&r.children[0]instanceof Ro?r.children[0].value:null;return null!==a&&this.styles.push(a),null}if(i.type===uc.STYLESHEET&&Zu(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;var s,o=E(e.name),u=[],c=[],l=[],p=[],v=[],f={},d=[],y=[],g=!1,b=Object(h.a)(e.attrs);try{for(b.s();!(s=b.n()).done;){var k=s.value,_=!1,S=ml(k.name),x=!1;if(k.i18n&&(f[k.name]=k.i18n),S.startsWith("*")){g&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",k.sourceSpan),x=!0,g=!0;var w=k.value,C=S.substring("*".length),O=[],T=k.valueSpan?k.valueSpan.start.offset:k.sourceSpan.start.offset+k.name.length;this.bindingParser.parseInlineTemplateBinding(C,w,k.sourceSpan,T,[],d,O),y.push.apply(y,Object(m.a)(O.map((function(e){return new Wr(e.name,e.value,e.sourceSpan,e.valueSpan)}))))}else _=this.parseAttribute(o,k,[],u,c,l,p);_||x||v.push(this.visitAttribute(k))}}catch(B){b.e(B)}finally{b.f()}var j,N=Uo(i.nonBindable?dl:this,e.children);if(i.type===uc.NG_CONTENT){e.children&&!e.children.every((function(e){return function(e){return e instanceof Ro&&0==e.value.trim().length}(e)||function(e){return e instanceof Vo}(e)}))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);var P=i.selectAttr,M=e.attrs.map((function(e){return t.visitAttribute(e)}));j=new qr(P,M,e.sourceSpan,e.i18n),this.ngContentSelectors.push(P)}else if(o){var A=this.extractAttributes(e.name,u,f);j=new Hr(e.name,v,A.bound,c,[],N,p,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{var I=this.extractAttributes(e.name,u,f);j=new Ur(e.name,v,I.bound,c,N,p,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(g){var R=this.extractAttributes("ng-template",d,f),D=[];R.literal.forEach((function(e){return D.push(e)})),R.bound.forEach((function(e){return D.push(e)}));var F=j instanceof Ur?{attributes:j.attributes,inputs:j.inputs,outputs:j.outputs}:{attributes:[],inputs:[],outputs:[]},L=o&&n?void 0:e.i18n;j=new Hr(j.name,F.attributes,F.inputs,F.outputs,D,[j],[],y,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,L)}return n&&(this.inI18nBlock=!1),j}},{key:"visitAttribute",value:function(e){return new Lr(e.name,e.value,e.sourceSpan,e.valueSpan,e.i18n)}},{key:"visitText",value:function(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}},{key:"visitExpansion",value:function(e){var t=this;if(!e.i18n)return null;if(!Ki(e.i18n))throw new Error('Invalid type "'.concat(e.i18n.constructor,'" for "i18n" property of ').concat(e.sourceSpan.toString(),'. Expected a "Message"'));var n=e.i18n,r={},i={};return Object.keys(n.placeholders).forEach((function(a){var s=n.placeholders[a];if(a.startsWith("VAR_")){var o=t.bindingParser.interpolationConfig,u="".concat(o.start).concat(s).concat(o.end),c=a.trim();r[c]=t._visitTextWithInterpolation(u,e.sourceSpan)}else i[a]=t._visitTextWithInterpolation(s,e.sourceSpan)})),new Kr(r,i,e.sourceSpan,n)}},{key:"visitExpansionCase",value:function(e){return null}},{key:"visitComment",value:function(e){return null}},{key:"extractAttributes",value:function(e,t,n){var r=this,i=[],a=[];return t.forEach((function(t){var s=n[t.name];if(t.isLiteral)a.push(new Lr(t.name,t.expression.source||"",t.sourceSpan,void 0,s));else{var o=r.bindingParser.createBoundElementProperty(e,t,!0,!1);i.push(Br.fromBoundElementProperty(o,s))}})),{bound:i,literal:a}}},{key:"parseAttribute",value:function(e,t,n,r,i,a,s){var o=ml(t.name),u=t.value,c=t.sourceSpan,l=t.valueSpan?t.valueSpan.start.offset:c.start.offset,h=o.match(hl),p=!1;if(h){if(p=!0,null!=h[1])this.bindingParser.parsePropertyBinding(h[7],u,!1,c,l,t.valueSpan,n,r);else if(h[2])if(e){var v=h[7];this.parseVariable(v,u,c,t.valueSpan,a)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(h[3]){var f=h[7];this.parseReference(f,u,c,t.valueSpan,s)}else if(h[4]){var d=[];this.bindingParser.parseEvent(h[7],u,c,t.valueSpan||c,n,d),yl(d,i)}else if(h[5])this.bindingParser.parsePropertyBinding(h[7],u,!1,c,l,t.valueSpan,n,r),this.parseAssignmentEvent(h[7],u,c,t.valueSpan,n,i);else if(h[6])this.bindingParser.parseLiteralAttr(o,u,c,l,t.valueSpan,n,r);else if(h[8])this.bindingParser.parsePropertyBinding(h[8],u,!1,c,l,t.valueSpan,n,r),this.parseAssignmentEvent(h[8],u,c,t.valueSpan,n,i);else if(h[9])this.bindingParser.parsePropertyBinding(h[9],u,!1,c,l,t.valueSpan,n,r);else if(h[10]){var m=[];this.bindingParser.parseEvent(h[10],u,c,t.valueSpan||c,n,m),yl(m,i)}}else p=this.bindingParser.parsePropertyInterpolation(o,u,c,t.valueSpan,n,r);return p}},{key:"_visitTextWithInterpolation",value:function(e,t,n){var r=gu(e),i=this.bindingParser.parseInterpolation(r,t);return i?new Fr(i,t,n):new Dr(r,t)}},{key:"parseVariable",value:function(e,t,n,r,i){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',n):0===e.length&&this.reportError("Variable does not have a name",n),i.push(new Wr(e,t,n,r))}},{key:"parseReference",value:function(e,t,n,r,i){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',n):0===e.length&&this.reportError("Reference does not have a name",n),i.push(new zr(e,t,n,r))}},{key:"parseAssignmentEvent",value:function(e,t,n,r,i,a){var s=[];this.bindingParser.parseEvent("".concat(e,"Change"),"".concat(t,"=$event"),n,r||n,i,s),yl(s,a)}},{key:"reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr.ERROR;this.errors.push(new Ar(t,e,n))}}]),e}(),dl=new(function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitElement",value:function(e){var t=cc(e);if(t.type===uc.SCRIPT||t.type===uc.STYLE||t.type===uc.STYLESHEET)return null;var n=Uo(this,e.children,null);return new Ur(e.name,Uo(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitComment",value:function(e){return null}},{key:"visitAttribute",value:function(e){return new Lr(e.name,e.value,e.sourceSpan,void 0,e.i18n)}},{key:"visitText",value:function(e){return new Dr(e.value,e.sourceSpan)}},{key:"visitExpansion",value:function(e){return null}},{key:"visitExpansionCase",value:function(e){return null}}]),e}());function ml(e){return/^data-/i.test(e)?e.substring(5):e}function yl(e,t){t.push.apply(t,Object(m.a)(e.map((function(e){return Vr.fromParsedEvent(e)}))))}function gl(){return{getUniqueId:Yi(),icus:new Map}}!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE",e[e.PROJECTION=2]="PROJECTION"}(vl||(vl={}));var bl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;Object(y.a)(this,e),this.index=t,this.ref=n,this.level=r,this.templateIndex=i,this.meta=a,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||gl(),this.id=this._registry.getUniqueId()}return Object(g.a)(e,[{key:"appendTag",value:function(e,t,n,r){if(!t.isVoid||!r){var i=t.isVoid||!r?t.startName:t.closeName,a={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r};Zi(this.placeholders,i,a)}}},{key:"getSerializedPlaceholders",value:function(){var e=new Map;return this.placeholders.forEach((function(t,n){return e.set(n,t.map(Sl))})),e}},{key:"appendBinding",value:function(e){this.bindings.add(e)}},{key:"appendIcu",value:function(e,t){Zi(this._registry.icus,e,t)}},{key:"appendBoundText",value:function(e){var t=this;ea(e,this.bindings.size,this.id).forEach((function(e,n){return Zi.apply(void 0,[t.placeholders,n].concat(Object(m.a)(e)))}))}},{key:"appendTemplate",value:function(e,t){this.appendTag(vl.TEMPLATE,e,t,!1),this.appendTag(vl.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}},{key:"appendElement",value:function(e,t,n){this.appendTag(vl.ELEMENT,e,t,n)}},{key:"appendProjection",value:function(e,t){this.appendTag(vl.PROJECTION,e,t,!1),this.appendTag(vl.PROJECTION,e,t,!0)}},{key:"forkChildContext",value:function(t,n,r){return new e(t,this.ref,this.level+1,n,r,this._registry)}},{key:"reconcileChildContext",value:function(e){var t=this;["start","close"].forEach((function(n){var r=e.meta["".concat(n,"Name")],i=(t.placeholders.get(r)||[]).find(El(t.id,e.templateIndex));i&&(i.ctx=e.id)})),e.placeholders.forEach((function(n,r){var i=t.placeholders.get(r);if(!i)return t.placeholders.set(r,n),void 0;var a=i.findIndex(El(e.id,e.templateIndex));if(a>=0){var s=r.startsWith("CLOSE");if(r.endsWith("NG-TEMPLATE"))i.splice.apply(i,[a+(s?0:1),0].concat(Object(m.a)(n)));else n[s?n.length-1:0].tmpl=i[a],i.splice.apply(i,[a,1].concat(Object(m.a)(n)))}else i.push.apply(i,Object(m.a)(n));t.placeholders.set(r,i)})),this._unresolvedCtxCount--}},{key:"icus",get:function(){return this._registry.icus}},{key:"isRoot",get:function(){return 0===this.level}},{key:"isResolved",get:function(){return 0===this._unresolvedCtxCount}}]),e}();function kl(e,t,n,r){var i=r?"/":"";return $i("".concat(i).concat(e).concat(t),n)}function _l(e,t,n){var r=t.index,i=t.ctx;return t.isVoid?kl(e,r,i)+kl(e,r,i,!0):kl(e,r,i,n)}function El(e,t){return function(n){return"object"==typeof n&&n.type===vl.TEMPLATE&&n.index===t&&n.ctx===e}}function Sl(e){var t,n,r=function(e,t){return _l("#",e,t)},i=function(e,t){return _l("*",e,t)};switch(e.type){case vl.ELEMENT:return e.closed?r(e,!0)+(e.tmpl?i(e.tmpl,!0):""):e.tmpl?i(e.tmpl)+r(e)+(e.isVoid?i(e.tmpl,!0):""):r(e);case vl.TEMPLATE:return i(e,e.closed);case vl.PROJECTION:return t=e,n=e.closed,_l("!",t,n);default:return e}}var xl=new(function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e){return e.value}},{key:"visitContainer",value:function(e){var t=this;return e.children.map((function(e){return e.visit(t)})).join("")}},{key:"visitIcu",value:function(e){var t=this,n=Object.keys(e.cases).map((function(n){return"".concat(n," {").concat(e.cases[n].visit(t),"}")}));return"{".concat(e.expressionPlaceholder,", ").concat(e.type,", ").concat(n.join(" "),"}")}},{key:"visitTagPlaceholder",value:function(e){var t=this;return e.isVoid?this.formatPh(e.startName):"".concat(this.formatPh(e.startName)).concat(e.children.map((function(e){return e.visit(t)})).join("")).concat(this.formatPh(e.closeName))}},{key:"visitPlaceholder",value:function(e){return this.formatPh(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){return this.formatPh(e.name)}},{key:"formatPh",value:function(e){return"{".concat(na(e,!1),"}")}}]),e}());function wl(e){return e.visit(xl)}var Cl={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Ol=function(){function e(){Object(y.a)(this,e),this._placeHolderNameCounts={},this._signatureToName={}}return Object(g.a)(e,[{key:"getStartTagPlaceholderName",value:function(e,t,n){var r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];var i=e.toUpperCase(),a=Cl[i]||"TAG_".concat(i),s=this._generateUniqueName(n?a:"START_".concat(a));return this._signatureToName[r]=s,s}},{key:"getCloseTagPlaceholderName",value:function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var n=e.toUpperCase(),r=Cl[n]||"TAG_".concat(n),i=this._generateUniqueName("CLOSE_".concat(r));return this._signatureToName[t]=i,i}},{key:"getPlaceholderName",value:function(e,t){var n=e.toUpperCase(),r="PH: ".concat(n,"=").concat(t);if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}},{key:"getUniquePlaceholder",value:function(e){return this._generateUniqueName(e.toUpperCase())}},{key:"_hashTag",value:function(e,t,n){return"<".concat(e)+Object.keys(t).sort().map((function(e){return" ".concat(e,"=").concat(t[e])})).join("")+(n?"/>":"></".concat(e,">"))}},{key:"_hashClosingTag",value:function(e){return this._hashTag("/".concat(e),{},!1)}},{key:"_generateUniqueName",value:function(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;var t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,"".concat(e,"_").concat(t)}}]),e}(),Tl=new Zc(new Dc);function jl(e){var t=new Pl(Tl,e);return function(e,n,r,i,a){return t.toI18nMessage(e,n,r,i,a)}}function Nl(e,t){return t}var Pl=function(){function e(t,n){Object(y.a)(this,e),this._expressionParser=t,this._interpolationConfig=n}return Object(g.a)(e,[{key:"toI18nMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0,a={isIcu:1==e.length&&e[0]instanceof Do,icuDepth:0,placeholderRegistry:new Ol,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||Nl},s=Uo(this,e,a);return new Gr(s,a.placeholderToContent,a.placeholderToMessage,t,n,r)}},{key:"visitElement",value:function(e,t){var n=Uo(this,e.children,t),r={};e.attrs.forEach((function(e){r[e.name]=e.value}));var i=N(e.name).isVoid,a=t.placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);t.placeholderToContent[a]=e.sourceSpan.toString();var s="";i||(s=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[s]="</".concat(e.name,">"));var o=new Zr(e.name,r,a,s,n,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,o)}},{key:"visitAttribute",value:function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t);return t.visitNodeFn(e,n)}},{key:"visitText",value:function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t);return t.visitNodeFn(e,n)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitExpansion",value:function(e,t){var n=this;t.icuDepth++;var r={},i=new Jr(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach((function(e){r[e.value]=new Yr(e.expression.map((function(e){return e.visit(n,t)})),e.expSourceSpan)})),t.icuDepth--,t.isIcu||t.icuDepth>0){var a=t.placeholderRegistry.getUniquePlaceholder("VAR_".concat(e.type));return i.expressionPlaceholder=a,t.placeholderToContent[a]=e.switchValue,t.visitNodeFn(e,i)}var s=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[s]=this.toI18nMessage([e],"","","",void 0);var o=new ti(i,s,e.sourceSpan);return t.visitNodeFn(e,o)}},{key:"visitExpansionCase",value:function(e,t){throw new Error("Unreachable code")}},{key:"_visitTextWithInterpolation",value:function(e,t,n){var r=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!r)return new $r(e,t);for(var i=[],a=new Yr(i,t),s=this._interpolationConfig,o=s.start,u=s.end,c=0;c<r.strings.length-1;c++){var l=r.expressions[c],h=l.split(Al)[2]||"INTERPOLATION",p=n.placeholderRegistry.getPlaceholderName(h,l);if(r.strings[c].length){var v=Ml(t,r.stringSpans[c]);i.push(new $r(r.strings[c],v))}var f=Ml(t,r.expressionsSpans[c]);i.push(new ei(l,p,f)),n.placeholderToContent[p]=o+l+u}var d=r.strings.length-1;if(r.strings[d].length){var m=Ml(t,r.stringSpans[d]);i.push(new $r(r.strings[d],m))}return a}}]),e}();function Ml(e,t){var n=t.start,r=t.end;return new Mr(e.start.moveBy(n),e.start.moveBy(r))}var Al=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;var Il=function(e,t){return e instanceof Io&&(t instanceof ti&&e.i18n instanceof Gr&&(t.previousMessage=e.i18n),e.i18n=t),t},Rl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(y.a)(this,e),this.interpolationConfig=t,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.hasI18nMeta=!1,this._createI18nMessage=jl(this.interpolationConfig)}return Object(g.a)(e,[{key:"_generateI18nMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=this._parseMetadata(t),i=r.meaning,a=r.description,s=r.customId,o=this._createI18nMessage(e,i,a,s,n);return this._setMessageId(o,t),this._setLegacyIds(o,t),o}},{key:"visitElement",value:function(e){if(function(e){return e.attrs.some((function(e){return zi(e.name)}))}(e)){this.hasI18nMeta=!0;var t,n=[],r={},i=Object(h.a)(e.attrs);try{for(i.s();!(t=i.n()).done;){var a=t.value;if("i18n"===a.name){var s=e.i18n||a.value,o=this._generateI18nMessage(e.children,s,Il);o.nodes.length&&(e.i18n=o)}else if(a.name.startsWith("i18n-")){r[a.name.slice("i18n-".length)]=a.value}else n.push(a)}}catch(v){i.e(v)}finally{i.f()}if(Object.keys(r).length){var u,c=Object(h.a)(n);try{for(c.s();!(u=c.n()).done;){var l=u.value,p=r[l.name];void 0!==p&&l.value&&(l.i18n=this._generateI18nMessage([l],l.i18n||p))}}catch(v){c.e(v)}finally{c.f()}}this.keepI18nAttrs||(e.attrs=n)}return Uo(this,e.children,e.i18n),e}},{key:"visitExpansion",value:function(e,t){var n,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof ti){var i=r.name;Gi(n=this._generateI18nMessage([e],r)).name=i}else n=this._generateI18nMessage([e],t||r);return e.i18n=n,e}},{key:"visitText",value:function(e){return e}},{key:"visitAttribute",value:function(e){return e}},{key:"visitComment",value:function(e){return e}},{key:"visitExpansionCase",value:function(e){return e}},{key:"_parseMetadata",value:function(e){return"string"==typeof e?function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(r=r.trim()){var i,a=r.indexOf("@@"),s=r.indexOf("|"),o=a>-1?[r.slice(0,a),r.slice(a+2)]:[r,""],u=Object(c.a)(o,2);i=u[0],e=u[1];var l=s>-1?[i.slice(0,s),i.slice(s+1)]:["",i],h=Object(c.a)(l,2);t=h[0],n=h[1]}return{customId:e,meaning:t,description:n}}(e):e instanceof Gr?e:{}}},{key:"_setMessageId",value:function(e,t){e.id||(e.id=t instanceof Gr&&t.id||si(e))}},{key:"_setLegacyIds",value:function(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[ai(e),oi(e)];else if("string"!=typeof t){var n=t instanceof Gr?t:t instanceof ti?t.previousMessage:void 0;e.legacyIds=n?n.legacyIds:[]}}}]),e}();function Dl(e,t,n,r){var i=[Yt(function(e){return e.nodes.map((function(e){return e.visit(Fl,null)})).join("")}(t))];Object.keys(r).length&&i.push(Qa(r,!0));var a,s,o=n.set(Ht("goog.getMsg").callFn(i)).toConstDecl(),u=(s=[],(a=t).description&&s.push({tagName:"desc",text:a.description}),a.meaning&&s.push({tagName:"meaning",text:a.meaning}),0==s.length?null:Ut(s));return null!==u&&o.addLeadingComment(u),[o,new _t(e.set(n))]}var Fl=new(function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"formatPh",value:function(e){return"{$".concat(na(e),"}")}},{key:"visitText",value:function(e){return e.value}},{key:"visitContainer",value:function(e){var t=this;return e.children.map((function(e){return e.visit(t)})).join("")}},{key:"visitIcu",value:function(e){return wl(e)}},{key:"visitTagPlaceholder",value:function(e){var t=this;return e.isVoid?this.formatPh(e.startName):"".concat(this.formatPh(e.startName)).concat(e.children.map((function(e){return e.visit(t)})).join("")).concat(this.formatPh(e.closeName))}},{key:"visitPlaceholder",value:function(e){return this.formatPh(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){return this.formatPh(e.name)}}]),e}());function Ll(e,t,n){var r=function(e){var t=[];return e.nodes.forEach((function(e){return e.visit(Bl,t)})),function(e){var t=[],n=[];e[0]instanceof ze&&t.push(Vl(e[0].sourceSpan.start));for(var r=0;r<e.length;r++){var i=e[r];i instanceof We?t.push(i):(n.push(i),e[r-1]instanceof ze&&t.push(Vl(i.sourceSpan.end)))}e[e.length-1]instanceof ze&&t.push(Vl(e[e.length-1].sourceSpan.end));return{messageParts:t,placeHolders:n}}(t)}(t),i=r.messageParts,a=r.placeHolders,s=function(e){var t=e.nodes[0],n=e.nodes[e.nodes.length-1];return new Mr(t.sourceSpan.start,n.sourceSpan.end,t.sourceSpan.details)}(t),o=a.map((function(e){return n[e.text]})),u=function(e,t,n,r,i){return new Ke(e,t,n,r,i)}(t,i,a,o,s),c=e.set(u);return[new _t(c)]}var Bl=new(function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){t[t.length-1]instanceof We?t[t.length-1].text+=e.value:t.push(new We(e.value,e.sourceSpan))}},{key:"visitContainer",value:function(e,t){var n=this;e.children.forEach((function(e){return e.visit(n,t)}))}},{key:"visitIcu",value:function(e,t){t.push(new We(wl(e),e.sourceSpan))}},{key:"visitTagPlaceholder",value:function(e,t){var n,r,i=this;t.push(this.createPlaceholderPiece(e.startName,null!==(n=e.startSourceSpan)&&void 0!==n?n:e.sourceSpan)),e.isVoid||(e.children.forEach((function(e){return e.visit(i,t)})),t.push(this.createPlaceholderPiece(e.closeName,null!==(r=e.endSourceSpan)&&void 0!==r?r:e.sourceSpan)))}},{key:"visitPlaceholder",value:function(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}},{key:"visitIcuPlaceholder",value:function(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}},{key:"createPlaceholderPiece",value:function(e,t){return new ze(na(e,!1),t)}}]),e}());function Vl(e){return new We("",new Mr(e,e))}var Ul=new Map([["window",yr.resolveWindow],["document",yr.resolveDocument],["body",yr.resolveBody]]),Hl=[" ","\n","\r","\t"];function ql(e,t){return $t(Ht("rf").bitwiseAnd(Yt(e),null,!1),t)}function Wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.type,i=e.name,a=e.target,s=e.phase,o=e.handler;if(a&&!Ul.has(a))throw new Error("Unexpected global target '".concat(a,"' defined for '").concat(i,"' event.\n        Supported list of global targets: ").concat(Array.from(Ul.keys()),"."));var u="$event",c=new Set,l=null===n||0===n.bindingLevel?Ht("ctx"):n.getOrCreateSharedContextVar(0),h=Bs(n,l,o,"b",(function(){return hn("Unexpected interpolation")}),e.handlerSpan,c),p=[];n&&(p.push.apply(p,Object(m.a)(n.restoreViewStatement())),p.push.apply(p,Object(m.a)(n.variableDeclarations()))),p.push.apply(p,Object(m.a)(h.render3Stmts));var v=1===r?Er(i,s):i,f=t&&Wn(t),d=[];c.has(u)&&d.push(new it(u,Ee));var y=Gt(d,p,Se,null,f),g=[Yt(v),y];return a&&g.push(Yt(!1),qt(Ul.get(a))),g}var zl=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,d=arguments.length>13?arguments[13]:void 0,m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:{prepareStatements:[],constExpressions:[]};Object(y.a)(this,e),this.constantPool=t,this.level=i,this.contextName=a,this.i18nContext=s,this.templateIndex=o,this.templateName=u,this.directiveMatcher=c,this.directives=l,this.pipeTypeByName=h,this.pipes=p,this._namespace=v,this.i18nUseExternalIds=d,this._constants=m,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=oa,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=ua,this.visitVariable=ua,this.visitTextAttribute=ua,this.visitBoundAttribute=ua,this.visitBoundEvent=ua,this._bindingScope=n.nestedScope(i),this.fileBasedI18nSuffix=f.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Kl(t,(function(){return r.allocateDataSlot()}),(function(e){return r.allocatePureFunctionSlots(e)}),(function(e,t,n,i){var a=h.get(e);a&&r.pipes.add(a),r._bindingScope.set(r.level,t,i),r.creationInstruction(null,yr.pipe,[Yt(n),Yt(e)])}))}return Object(g.a)(e,[{key:"buildTemplateFunction",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;this._ngContentSelectorsOffset=r,this._namespace!==yr.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach((function(e){return n.registerContextVariables(e)}));var a=this.i18nContext||Ki(i)&&!Qi(i)&&!(oh(e)&&e[0].i18n===i),s=ch(e);if(a&&this.i18nStart(null,i,s),Xr(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach((function(e){return e()})),0===this.level&&this._ngContentReservedSlots.length){var o=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){var u=this._ngContentReservedSlots.map((function(e){return"*"!==e?he(e):e}));o.push(this.constantPool.getConstLiteral(ca(u),!0))}this.creationInstruction(null,yr.projectionDef,o,!0)}a&&this.i18nEnd(null,s);var c=this._creationCodeFns.map((function(e){return e()})),l=this._updateCodeFns.map((function(e){return e()})),h=this._bindingScope.viewSnapshotStatements(),p=this._bindingScope.variableDeclarations().concat(this._tempVariables),v=c.length>0?[ql(1,h.concat(c))]:[],f=l.length>0?[ql(2,p.concat(l))]:[];return Gt([new it("rf",we),new it("ctx",null)],[].concat(Object(m.a)(this._prefixCode),v,f),Se,null,this.templateName)}},{key:"getLocal",value:function(e){return this._bindingScope.get(e)}},{key:"notifyImplicitReceiverUse",value:function(){this._bindingScope.notifyImplicitReceiverUse()}},{key:"i18nTranslate",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=r||this.i18nGenerateMainBlockVar(),s=this.i18nGenerateClosureVar(e.id),o=lh(e,a,s,n,i);return(t=this._constants.prepareStatements).push.apply(t,Object(m.a)(o)),a}},{key:"registerContextVariables",value:function(e){var t=this._bindingScope.freshReferenceName(),n=this.level,r=Ht(e.name+t);this._bindingScope.set(n,e.name,r,1,(function(t,i){var a;if(t.bindingLevel===n)a=Ht("ctx");else{var s=t.getSharedContextName(n);a=s||$l(i)}return[r.set(a.prop(e.value||"$implicit")).toConstDecl()]}))}},{key:"i18nAppendBindings",value:function(e){var t=this;e.length>0&&e.forEach((function(e){return t.i18n.appendBinding(e)}))}},{key:"i18nBindProps",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){var i=e[r];if(i instanceof Dr)n[r]=Yt(i.value);else{var a=i.value.visit(t._valueConverter);if(t.allocateBindingSlots(a),a instanceof gs){var s=a.strings,o=a.expressions,u=t.i18n,c=u.id,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e.length)return"";for(var r="",i=e.length-1,a=0;a<i;a++)r+="".concat(e[a]).concat($i(t+a,n));return r+=e[i]}(s,u.bindings.size,c);t.i18nAppendBindings(o),n[r]=Yt(l)}}})),n}},{key:"i18nGenerateMainBlockVar",value:function(){return Ht(this.constantPool.uniqueName("i18n_"))}},{key:"i18nGenerateClosureVar",value:function(e){var t,n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){var r=ra("EXTERNAL_"),i=this.constantPool.uniqueName(n);t="".concat(r).concat(Wn(e),"$$").concat(i)}else{var a=ra(n);t=this.constantPool.uniqueName(a)}return Ht(t)}},{key:"i18nUpdateRef",value:function(e){var t=e.icus,n=e.meta,r=e.isRoot,i=e.isResolved,a=e.isEmitted;if(r&&i&&!a&&!Qi(n)){e.isEmitted=!0;var s,o=e.getSerializedPlaceholders(),u={},c=o.size?Ji(o):{};t.size&&t.forEach((function(e,t){if(1===e.length)c[t]=e[0];else{var n=$i("".concat("I18N_EXP_").concat(t));c[t]=Yt(n),u[t]=Qt(e)}})),(Array.from(o.values()).some((function(e){return e.length>1}))||Object.keys(u).length)&&(s=function(e){var t=[e];return Object.keys(u).length&&t.push(Qa(u,!0)),Gl(null,yr.i18nPostprocess,t)}),this.i18nTranslate(n,c,e.ref,s)}}},{key:"i18nStart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(r,this.templateIndex,t):new bl(r,this.i18nGenerateMainBlockVar(),0,this.templateIndex,t);var i=this.i18n,a=i.id,s=i.ref,o=[Yt(r),this.addToConsts(s)];a>0&&o.push(Yt(a)),this.creationInstruction(e,n?yr.i18n:yr.i18nStart,o)}},{key:"i18nEnd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);var r=this.i18n,i=r.index,a=r.bindings;if(a.size){var s=[];a.forEach((function(n){s.push({sourceSpan:t,value:function(){return e.convertPropertyBinding(n)}})})),this.updateInstructionChainWithAdvance(this.getConstCount()-1,yr.i18nExp,s),this.updateInstruction(t,yr.i18nApply,[Yt(i)])}n||this.creationInstruction(t,yr.i18nEnd),this.i18n=null}},{key:"i18nAttributesInstruction",value:function(e,t,n){var r=this,i=!1,a=[],s=[];if(t.forEach((function(e){var t=e.i18n;if(e instanceof Lr)a.push(Yt(e.name),r.i18nTranslate(t));else{var o=e.value.visit(r._valueConverter);if(r.allocateBindingSlots(o),o instanceof gs){var u=Ji(ea(t));a.push(Yt(e.name),r.i18nTranslate(t,u)),o.expressions.forEach((function(e){i=!0,s.push({sourceSpan:n,value:function(){return r.convertPropertyBinding(e)}})}))}}})),s.length>0&&this.updateInstructionChainWithAdvance(e,yr.i18nExp,s),a.length>0){var o=Yt(this.allocateDataSlot()),u=this.addToConsts(Qt(a));this.creationInstruction(n,yr.i18nAttributes,[o,u]),i&&this.updateInstruction(n,yr.i18nApply,[o])}}},{key:"getNamespaceInstruction",value:function(e){switch(e){case"math":return yr.namespaceMathML;case"svg":return yr.namespaceSVG;default:return yr.namespaceHTML}}},{key:"addNamespaceInstruction",value:function(e,t){this._namespace=e,this.creationInstruction(t.sourceSpan,e)}},{key:"interpolatedUpdateInstruction",value:function(e,t,n,r,i,a){var s=this;this.updateInstructionWithAdvance(t,r.sourceSpan,e,(function(){return[Yt(n)].concat(Object(m.a)(s.getUpdateInstructionArguments(i)),Object(m.a)(a))}))}},{key:"visitContent",value:function(e){var t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[Yt(t)];this._ngContentReservedSlots.push(e.selector);var i=e.attributes.filter((function(e){return"select"!==e.name.toLowerCase()})),a=this.getAttributeExpressions(i,[],[]);a.length>0?r.push(Yt(n),Qt(a)):0!==n&&r.push(Yt(n)),this.creationInstruction(e.sourceSpan,yr.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)}},{key:"visitElement",value:function(e){var t,n=this,r=this.allocateDataSlot(),i=new Pc(null),a=!1,s=Ki(e.i18n)&&!Qi(e.i18n),o=[],u=[],l=b(e.name),p=Object(c.a)(l,2),v=p[0],f=p[1],d=k(e.name),m=Object(h.a)(e.attributes);try{for(m.s();!(t=m.n()).done;){var y=t.value,g=y.name,_=y.value;"ngNonBindable"===g?a=!0:"style"===g?i.registerStyleAttr(_):"class"===g?i.registerClassAttr(_):(y.i18n?o:u).push(y)}}catch(V){m.e(V)}finally{m.f()}this.matchDirectives(e.name,e);var E=[Yt(r)];d||E.push(Yt(f));var S=[];e.inputs.forEach((function(e){i.registerBoundInput(e)||(0===e.type&&e.i18n?o.push(e):S.push(e))}));var x=this.getAttributeExpressions(u,S,e.outputs,i,[],o);E.push(this.addAttrsToConsts(x));var w=this.prepareRefsArray(e.references);E.push(this.addToConsts(w));var C=this._namespace,O=this.getNamespaceInstruction(v);O!==C&&this.addNamespaceInstruction(O,e),this.i18n&&this.i18n.appendElement(e.i18n,r);var T=!s&&this.i18n?!ch(e.children):e.children.length>0,j=!i.hasBindingsWithPipes&&0===e.outputs.length&&0===o.length&&!T,N=!j&&ch(e.children);if(j)this.creationInstruction(e.sourceSpan,d?yr.elementContainer:yr.element,ha(E));else{if(this.creationInstruction(e.sourceSpan,d?yr.elementContainerStart:yr.elementStart,ha(E)),a&&this.creationInstruction(e.sourceSpan,yr.disableBindings),o.length>0&&this.i18nAttributesInstruction(r,o,e.sourceSpan),e.outputs.length>0){var P=e.outputs.map((function(t){return{sourceSpan:t.sourceSpan,params:n.prepareListenerParameter(e.name,t,r)}}));this.creationInstructionChain(yr.listener,P)}s&&this.i18nStart(e.sourceSpan,e.i18n,N)}for(var M=i.buildUpdateLevelInstructions(this._valueConverter),A=M.length-1,I=0;I<=A;I++){var R=M[I];this._bindingSlots+=this.processStylingUpdateInstruction(r,R)}var D=Yt(void 0),F=[],L=[];if(S.forEach((function(e){var t=e.type;if(4===t){var i=e.value.visit(n._valueConverter),a=!(i instanceof ds)||!!i.value;n.allocateBindingSlots(i),F.push({name:_r(e.name),sourceSpan:e.sourceSpan,value:function(){return a?n.convertPropertyBinding(i):D}})}else{if(e.i18n)return;var s=e.value.visit(n._valueConverter);if(void 0!==s){var o=[],u=b(e.name),l=Object(c.a)(u,2),h=l[0],p=l[1],v=1===t,f=sh(e.securityContext,v);if(f&&o.push(f),h){var d=Yt(h);f?o.push(d):o.push(Yt(null),d)}if(n.allocateBindingSlots(s),0===t)s instanceof gs?n.interpolatedUpdateInstruction(nh(s),r,p,e,s,o):F.push({name:p,sourceSpan:e.sourceSpan,value:function(){return n.convertPropertyBinding(s)},params:o});else if(1===t)if(s instanceof gs&&ba(s)>1)n.interpolatedUpdateInstruction(function(e){switch(ba(e)){case 3:return yr.attributeInterpolate1;case 5:return yr.attributeInterpolate2;case 7:return yr.attributeInterpolate3;case 9:return yr.attributeInterpolate4;case 11:return yr.attributeInterpolate5;case 13:return yr.attributeInterpolate6;case 15:return yr.attributeInterpolate7;case 17:return yr.attributeInterpolate8;default:return yr.attributeInterpolateV}}(s),r,p,e,s,o);else{var m=s instanceof gs?s.expressions[0]:s;L.push({name:p,sourceSpan:e.sourceSpan,value:function(){return n.convertPropertyBinding(m)},params:o})}else n.updateInstructionWithAdvance(r,e.sourceSpan,yr.classProp,(function(){return[Yt(r),Yt(p),n.convertPropertyBinding(s)].concat(o)}))}}})),F.length>0&&this.updateInstructionChainWithAdvance(r,yr.property,F),L.length>0&&this.updateInstructionChainWithAdvance(r,yr.attribute,L),Xr(this,e.children),!s&&this.i18n&&this.i18n.appendElement(e.i18n,r,!0),!j){var B=e.endSourceSpan||e.sourceSpan;s&&this.i18nEnd(B,N),a&&this.creationInstruction(B,yr.enableBindings),this.creationInstruction(B,d?yr.elementContainerEnd:yr.elementEnd)}}},{key:"visitTemplate",value:function(t){var n=this,r=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(t.i18n,r);var i=Wn(t.tagName||""),a="".concat(this.contextName).concat(i?"_"+i:"","_").concat(r),s="".concat(a,"_Template"),o=[Yt(r),Ht(s),Yt(t.tagName?b(t.tagName)[1]:t.tagName)];this.matchDirectives("ng-template",t);var u=Tn(t.attributes,Xi),l=Object(c.a)(u,2),h=l[0],p=l[1],v=this.getAttributeExpressions(p,t.inputs,t.outputs,void 0,t.templateAttrs,h);if(o.push(this.addAttrsToConsts(v)),t.references&&t.references.length){var f=this.prepareRefsArray(t.references);o.push(this.addToConsts(f)),o.push(qt(yr.templateRefExtractor))}var d=new e(this.constantPool,this._bindingScope,this.level+1,a,this.i18n,r,s,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push((function(){var e,r=d.buildTemplateFunction(t.children,t.variables,n._ngContentReservedSlots.length+n._ngContentSelectorsOffset,t.i18n);(n.constantPool.statements.push(r.toDeclStmt(s)),d._ngContentReservedSlots.length)&&(e=n._ngContentReservedSlots).push.apply(e,Object(m.a)(d._ngContentReservedSlots))})),this.creationInstruction(t.sourceSpan,yr.templateCreate,(function(){return o.splice(2,0,Yt(d.getConstCount()),Yt(d.getVarCount())),ha(o)})),this.templatePropertyBindings(r,t.templateAttrs),"ng-template"===t.tagName){var y=Tn(t.inputs,Xi),g=Object(c.a)(y,2),k=g[0],_=g[1],E=[].concat(Object(m.a)(h),Object(m.a)(k));if(E.length>0&&this.i18nAttributesInstruction(r,E,t.sourceSpan),_.length>0&&this.templatePropertyBindings(r,_),t.outputs.length>0){var S=t.outputs.map((function(e){return{sourceSpan:e.sourceSpan,params:n.prepareListenerParameter("ng_template",e,r)}}));this.creationInstructionChain(yr.listener,S)}}}},{key:"visitBoundText",value:function(e){var t=this;if(this.i18n){var n=e.value.visit(this._valueConverter);return this.allocateBindingSlots(n),n instanceof gs&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(n.expressions)),void 0}var r=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,yr.text,[Yt(r)]);var i=e.value.visit(this._valueConverter);this.allocateBindingSlots(i),i instanceof gs?this.updateInstructionWithAdvance(r,e.sourceSpan,function(e){switch(ba(e)){case 1:return yr.textInterpolate;case 3:return yr.textInterpolate1;case 5:return yr.textInterpolate2;case 7:return yr.textInterpolate3;case 9:return yr.textInterpolate4;case 11:return yr.textInterpolate5;case 13:return yr.textInterpolate6;case 15:return yr.textInterpolate7;case 17:return yr.textInterpolate8;default:return yr.textInterpolateV}}(i),(function(){return t.getUpdateInstructionArguments(i)})):hn("Text nodes should be interpolated and never bound directly.")}},{key:"visitText",value:function(e){this.i18n||this.creationInstruction(e.sourceSpan,yr.text,[Yt(this.allocateDataSlot()),Yt(e.value)])}},{key:"visitIcu",value:function(e){var t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));var n=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),a=e.i18n,s=function(e){var t=ta(Object.assign(Object.assign({},r),i),!1);return Gl(null,yr.i18nPostprocess,[e,Qa(t,!0)])};if(Qi(n.meta))this.i18nTranslate(a,{},n.ref,s);else{var o=this.i18nTranslate(a,{},void 0,s);n.appendIcu(Gi(a).name,o)}return t&&this.i18nEnd(null,!0),null}},{key:"allocateDataSlot",value:function(){return this._dataIndex++}},{key:"getConstCount",value:function(){return this._dataIndex}},{key:"getVarCount",value:function(){return this._pureFunctionSlots}},{key:"getConsts",value:function(){return this._constants}},{key:"getNgContentSelectors",value:function(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(ca(this._ngContentReservedSlots),!0):null}},{key:"bindingContext",value:function(){return"".concat(this._bindingContext++)}},{key:"templatePropertyBindings",value:function(e,t){var n=this,r=[];t.forEach((function(t){if(t instanceof Br){var i=t.value.visit(n._valueConverter);if(void 0!==i)if(n.allocateBindingSlots(i),i instanceof gs){n.interpolatedUpdateInstruction(nh(i),e,t.name,t,i,[])}else r.push({name:t.name,sourceSpan:t.sourceSpan,value:function(){return n.convertPropertyBinding(i)}})}})),r.length>0&&this.updateInstructionChainWithAdvance(e,yr.property,r)}},{key:"instructionFn",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e[i?"unshift":"push"]((function(){var e=Array.isArray(r)?r:r();return Gl(t,n,e).toStmt()}))}},{key:"processStylingUpdateInstruction",value:function(e,t){var n=this,r=0;if(t){var i=[];t.calls.forEach((function(e){r+=e.allocateBindingSlots,i.push({sourceSpan:e.sourceSpan,value:function(){return e.params((function(t){return e.supportsInterpolation&&t instanceof gs?n.getUpdateInstructionArguments(t):n.convertPropertyBinding(t)}))}})})),this.updateInstructionChainWithAdvance(e,t.reference,i)}return r}},{key:"creationInstruction",value:function(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)}},{key:"creationInstructionChain",value:function(e,t){var n=t.length?t[0].sourceSpan:null;this._creationCodeFns.push((function(){return ga(e,t.map((function(e){return e.params()})),n).toStmt()}))}},{key:"updateInstructionWithAdvance",value:function(e,t,n,r){this.addAdvanceInstructionIfNecessary(e,t),this.updateInstruction(t,n,r)}},{key:"updateInstruction",value:function(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])}},{key:"updateInstructionChain",value:function(e,t){var n=t.length?t[0].sourceSpan:null;this._updateCodeFns.push((function(){var r=t.map((function(e){var t=e.value(),n=Array.isArray(t)?t:[t];return e.params&&n.push.apply(n,Object(m.a)(e.params)),e.name&&n.unshift(Yt(e.name)),n}));return ga(e,r,n).toStmt()}))}},{key:"updateInstructionChainWithAdvance",value:function(e,t,n){this.addAdvanceInstructionIfNecessary(e,n.length?n[0].sourceSpan:null),this.updateInstructionChain(t,n)}},{key:"addAdvanceInstructionIfNecessary",value:function(e,t){if(e!==this._currentIndex){var n=e-this._currentIndex;if(n<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,t,yr.advance,[Yt(n)]),this._currentIndex=e}}},{key:"allocatePureFunctionSlots",value:function(e){var t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}},{key:"allocateBindingSlots",value:function(e){this._bindingSlots+=e instanceof gs?e.expressions.length:1}},{key:"getImplicitReceiverExpr",value:function(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?Ht("ctx"):this._bindingScope.getOrCreateSharedContextVar(0)}},{key:"convertPropertyBinding",value:function(e){var t,n=Ws(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),Us.Expression,(function(){return hn("Unexpected interpolation")})),r=n.currValExpr;return(t=this._tempVariables).push.apply(t,Object(m.a)(n.stmts)),r}},{key:"getUpdateInstructionArguments",value:function(e){var t,n=function(e,t,n,r){var i=new Ys(e,t,r,void 0),a=n.visit(i,Hs.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var s=zs(i,r),o=a.args.slice(1);if(n instanceof gs){var u=n.strings;3===o.length&&""===u[0]&&""===u[1]?o=[o[1]]:o.length>=19&&(o=[Qt(o)])}return{stmts:s,args:o}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),r=n.args,i=n.stmts;return(t=this._tempVariables).push.apply(t,Object(m.a)(i)),r}},{key:"matchDirectives",value:function(e,t){var n=this;if(this.directiveMatcher){var r=eh(e,ya(t));this.directiveMatcher.match(r,(function(e,t){n.directives.add(t)}))}}},{key:"getAttributeExpressions",value:function(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=new Set,u=[];function c(e,t){"string"==typeof e?o.has(e)||(u.push.apply(u,Object(m.a)(Jl(e))),void 0!==t&&u.push(t),o.add(e)):u.push(Yt(e))}if(e.forEach((function(e){"ngProjectAs"===e.name&&(i=e),u.push.apply(u,Object(m.a)(Jl(e.name)).concat([ca(e.value)]))})),i&&u.push.apply(u,Object(m.a)(th(i))),r&&r.populateInitialStylingAttrs(u),t.length||n.length){for(var l=u.length,h=0;h<t.length;h++){var p=t[h];4!==p.type&&1!==p.type&&c(p.name)}for(var v=0;v<n.length;v++){var f=n[v];1!==f.type&&c(f.name)}u.length!==l&&u.splice(l,0,Yt(3))}return a.length&&(u.push(Yt(4)),a.forEach((function(e){return c(e.name)}))),s.length&&(u.push(Yt(6)),s.forEach((function(e){return c(e.name)}))),u}},{key:"addToConsts",value:function(e){if(Jt(e))return dt;for(var t=this._constants.constExpressions,n=0;n<t.length;n++)if(t[n].isEquivalent(e))return Yt(n);return Yt(t.push(e)-1)}},{key:"addAttrsToConsts",value:function(e){return e.length>0?this.addToConsts(Qt(e)):dt}},{key:"prepareRefsArray",value:function(e){var t=this;return e&&0!==e.length?ca(lr(e.map((function(e){var n=t.allocateDataSlot(),r=t._bindingScope.freshReferenceName(),i=t.level,a=Ht(r);return t._bindingScope.set(i,e.name,a,0,(function(e,t){var r=t>0?[$l(t).toStmt()]:[],i=a.set(qt(yr.reference).callFn([Yt(n)]));return r.concat(i.toConstDecl())}),!0),[e.name,e.value]})))):dt}},{key:"prepareListenerParameter",value:function(e,t,n){var r=this;return function(){var i=t.name,a=1===t.type?Sr(i,t.phase):Wn(i),s="".concat(r.templateName,"_").concat(e,"_").concat(a,"_").concat(n,"_listener"),o=r._bindingScope.nestedScope(r._bindingScope.bindingLevel);return Wl(t,s,o)}}}]),e}(),Kl=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a){var s;return Object(y.a)(this,n),(s=t.call(this)).constantPool=e,s.allocateSlot=r,s.allocatePureFunctionSlots=i,s.definePipe=a,s._pipeBindExprs=[],s}return Object(g.a)(n,[{key:"visitPipe",value:function(e,t){var n=this.allocateSlot(),r="PIPE:".concat(n),i=this.allocatePureFunctionSlots(2+e.args.length),a=new cs(e.span,e.sourceSpan,e.nameSpan,new ss(e.span,e.sourceSpan),r),s=function(e){var t=Ql[e.length];return{identifier:t||yr.pipeBindV,isVarLength:!t}}(e.args),o=s.identifier,u=s.isVarLength;this.definePipe(e.name,r,n,qt(o));var c=[e.exp].concat(Object(m.a)(e.args)),l=u?this.visitAll([new ms(e.span,e.sourceSpan,c)]):this.visitAll(c),h=new ws(e.span,e.sourceSpan,a,[new ds(e.span,e.sourceSpan,n),new ds(e.span,e.sourceSpan,i)].concat(Object(m.a)(l)));return this._pipeBindExprs.push(h),h}},{key:"updatePipeSlotOffsets",value:function(e){this._pipeBindExprs.forEach((function(t){t.args[1].value+=e}))}},{key:"visitLiteralArray",value:function(e,t){var n=this;return new Zs(e.span,e.sourceSpan,this.visitAll(e.expressions),(function(e){var t=Qt(e);return Yl(n.constantPool,t,n.allocatePureFunctionSlots)}))}},{key:"visitLiteralMap",value:function(e,t){var n=this;return new Zs(e.span,e.sourceSpan,this.visitAll(e.values),(function(t){var r=Xt(t.map((function(t,n){return{key:e.keys[n].key,value:t,quoted:e.keys[n].quoted}})));return Yl(n.constantPool,r,n.allocatePureFunctionSlots)}))}}]),n}(Ms),Ql=[yr.pipeBind1,yr.pipeBind2,yr.pipeBind3,yr.pipeBind4];var Xl=[yr.pureFunction0,yr.pureFunction1,yr.pureFunction2,yr.pureFunction3,yr.pureFunction4,yr.pureFunction5,yr.pureFunction6,yr.pureFunction7,yr.pureFunction8];function Gl(e,t,n){return qt(t,null,e).callFn(n,e)}function $l(e){return qt(yr.nextContext).callFn(e>1?[Yt(e)]:[])}function Yl(e,t,n){var r=e.getLiteralFactory(t),i=r.literalFactory,a=r.literalFactoryArguments,s=n(1+a.length),o=function(e){var t=Xl[e.length];return{identifier:t||yr.pureFunctionV,isVarLength:!t}}(a),u=o.identifier,c=o.isVarLength,l=[Yt(s),i];return c?l.push(Qt(a)):l.push.apply(l,Object(m.a)(a)),qt(u).callFn(l)}function Jl(e){var t=b(e),n=Object(c.a)(t,2),r=n[0],i=Yt(n[1]);return r?[Yt(0),Yt(r),i]:[i]}var Zl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(y.a)(this,e),this.bindingLevel=t,this.parent=n,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}return Object(g.a)(e,[{key:"get",value:function(e){for(var t=this;t;){var n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.map.has(t)){if(a)return this;hn("The name ".concat(t," is already defined in scope to be ").concat(this.map.get(t)))}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:a||!1}),this}},{key:"getLocal",value:function(e){return this.get(e)}},{key:"notifyImplicitReceiverUse",value:function(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}},{key:"nestedScope",value:function(t){var n=new e(t,this);return t>0&&n.generateSharedContextVar(0),n}},{key:"getOrCreateSharedContextVar",value:function(e){var t="$$shared_ctx$$"+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}},{key:"getSharedContextName",value:function(e){var t=this.map.get("$$shared_ctx$$"+e);return t&&t.declare?t.lhs:null}},{key:"maybeGenerateSharedContextVar",value:function(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){var t=this.map.get("$$shared_ctx$$"+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}},{key:"generateSharedContextVar",value:function(e){var t=Ht("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+e,{retrievalLevel:e,lhs:t,declareLocalCallback:function(e,n){return[t.set($l(n)).toConstDecl()]},declare:!1,priority:2,localRef:!1})}},{key:"getComponentProperty",value:function(e){var t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}},{key:"maybeRestoreView",value:function(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Ht(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}},{key:"restoreViewStatement",value:function(){return this.restoreViewVariable?[Gl(null,yr.restoreView,[this.restoreViewVariable]).toStmt()]:[]}},{key:"viewSnapshotStatements",value:function(){var e=Gl(null,yr.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]}},{key:"isListenerScope",value:function(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}},{key:"variableDeclarations",value:function(){var e=this,t=0;return Array.from(this.map.values()).filter((function(e){return e.declare})).sort((function(e,t){return t.retrievalLevel-e.retrievalLevel||t.priority-e.priority})).reduce((function(n,r){var i=e.bindingLevel-r.retrievalLevel,a=r.declareLocalCallback(e,i-t);return t=i,n.concat(a)}),[])}},{key:"freshReferenceName",value:function(){for(var e=this;e.parent;)e=e.parent;return"".concat("_r").concat(e.referenceNameIndex++)}}],[{key:"createRootScope",value:function(){return(new e).set(0,"$event",Ht("$event"))}}]),e}();function eh(e,t){var n=new I,r=b(e)[1];return n.setElement(r),Object.getOwnPropertyNames(t).forEach((function(e){var r=b(e)[1],i=t[e];(n.addAttribute(r,i),"class"===e.toLowerCase())&&i.trim().split(/\s+/).forEach((function(e){return n.addClassName(e)}))})),n}function th(e){var t=he(e.value)[0];return[Yt(5),ca(t)]}function nh(e){switch(ba(e)){case 1:return yr.propertyInterpolate;case 3:return yr.propertyInterpolate1;case 5:return yr.propertyInterpolate2;case 7:return yr.propertyInterpolate3;case 9:return yr.propertyInterpolate4;case 11:return yr.propertyInterpolate5;case 13:return yr.propertyInterpolate6;case 15:return yr.propertyInterpolate7;case 17:return yr.propertyInterpolate8;default:return yr.propertyInterpolateV}}function rh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.interpolationConfig,i=n.preserveWhitespaces,a=n.enableI18nLegacyMessageIdFormat,s=ah(r),o=new fu,u=o.parse(e,t,Object.assign(Object.assign({leadingTriviaChars:Hl},n),{tokenizeExpansionForms:!0}));if(u.errors&&u.errors.length>0)return{errors:u.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};var c=u.rootNodes,l=new Rl(r,!i,a);c=Uo(l,c),i||(c=Uo(new bu,c),l.hasI18nMeta&&(c=Uo(new Rl(r,!1),c)));var h=pl(c,s),p=h.nodes,v=h.errors,f=h.styleUrls,d=h.styles,m=h.ngContentSelectors;return v&&v.length>0?{errors:v,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]}:{nodes:p,styleUrls:f,styles:d,ngContentSelectors:m}}var ih=new ll;function ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na;return new rc(new el(new Dc),e,ih,null,[])}function sh(e,t){switch(e){case K.HTML:return qt(yr.sanitizeHtml);case K.SCRIPT:return qt(yr.sanitizeScript);case K.STYLE:return t?qt(yr.sanitizeStyle):null;case K.URL:return qt(yr.sanitizeUrl);case K.RESOURCE_URL:return qt(yr.sanitizeResourceUrl);default:return null}}function oh(e){return 1===e.length&&e[0]instanceof Ur}function uh(e){return e instanceof Dr||e instanceof Fr||e instanceof Kr}function ch(e){return e.every(uh)}function lh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=[ia(t),$t(hh(),Dl(t,e,n,ta(r,!0)),Ll(t,e,ta(r,!1)))];return i&&a.push(new _t(t.set(i(t)))),a}function hh(){return Kt(Ht("ngI18nClosureMode")).notIdentical(Yt("undefined",Ce)).and(Ht("ngI18nClosureMode"))}var ph=[],vh=/attr\.([^\]]+)/;function fh(e,t,n){var r=new ma,i=he(e.selector);return r.set("type",e.internalType),i.length>0&&r.set("selectors",ca(i)),e.queries.length>0&&r.set("contentQueries",function(e,t,n){var r,i=[],a=[],s=sa(a,"_t"),o=Object(h.a)(e);try{for(o.s();!(r=o.n()).done;){var u=r.value,c=u.static?yr.staticContentQuery:yr.contentQuery;i.push(qt(c).callFn([Ht("dirIndex")].concat(Object(m.a)(_h(u,t)))).toStmt());var l=s(),p=qt(yr.loadQuery).callFn([]),v=qt(yr.queryRefresh).callFn([l.set(p)]),f=Ht("ctx").prop(u.propertyName).set(u.first?l.prop("first"):l);a.push(v.and(f).toStmt())}}catch(y){o.e(y)}finally{o.f()}var d=n?"".concat(n,"_ContentQueries"):null;return Gt([new it("rf",we),new it("ctx",null),new it("dirIndex",null)],[ql(1,i),ql(2,a)],Se,null,d)}(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",function(e,t,n){var r=[],i=[],a=sa(i,"_t");e.forEach((function(e){var n=qt(e.static?yr.staticViewQuery:yr.viewQuery).callFn(_h(e,t));r.push(n.toStmt());var s=a(),o=qt(yr.loadQuery).callFn([]),u=qt(yr.queryRefresh).callFn([s.set(o)]),c=Ht("ctx").prop(e.propertyName).set(e.first?s.prop("first"):s);i.push(u.and(c).toStmt())}));var s=n?"".concat(n,"_Query"):null;return Gt([new it("rf",we),new it("ctx",null)],[ql(1,r),ql(2,i)],Se,null,s)}(e.viewQueries,t,e.name)),r.set("hostBindings",function(e,t,n,r,i,a,s){var o=Ht("ctx"),u=new Pc(o),c=e.specialAttributes,l=c.styleAttr,p=c.classAttr;void 0!==l&&u.registerStyleAttr(l);void 0!==p&&u.registerClassAttr(p);var v=[],f=[],d=t,y=Ch(e),g=n.createDirectiveHostEventAsts(y,d);if(g&&g.length){var b=function(e,t){var n=[],r=[],i=[];e.forEach((function(e){var i=e.name&&Wn(e.name),a=1===e.type?Sr(i,e.targetOrPhase):i,s=t&&i?"".concat(t,"_").concat(a,"_HostBindingHandler"):null,o=Wl(Vr.fromParsedEvent(e),s);1==e.type?r.push(o):n.push(o)})),r.length>0&&i.push(ga(yr.syntheticHostListener,r).toStmt());n.length>0&&i.push(ga(yr.listener,n).toStmt());return i}(g,a);v.push.apply(v,Object(m.a)(b))}var k,_=n.createBoundHostProperties(y,d),E=[],S=0;_&&_.forEach((function(e){var t=e.name;u.registerInputBasedOnName(t,e.expression,e.sourceSpan)?S+=2:(E.push(e),S++)}));var x=function(){if(!k){k=new Kl(r,(function(){return hn("Unexpected node")}),(function(e){var t=S;return S+=e,t}),(function(){return hn("Unexpected pipe")}))}return k},w=[],C=[],O=[];E.forEach((function(e){var t=e.expression.visit(x()),r=wh(o,t),a=function(e){var t,n=e.name,r=n.match(vh);r?(n=r[1],t=yr.attribute):e.isAnimation?(n=_r(n),t=yr.syntheticHostProperty):t=yr.hostProperty;return{bindingName:n,instruction:t,isAttribute:!!r}}(e),s=a.bindingName,u=a.instruction,c=a.isAttribute,l=n.calcPossibleSecurityContexts(i,s,c).filter((function(e){return e!==K.NONE})),h=null;l.length&&(h=2===l.length&&l.indexOf(K.URL)>-1&&l.indexOf(K.RESOURCE_URL)>-1?qt(yr.sanitizeUrlOrResourceUrl):sh(l[0],c));var p=[Yt(s),r.currValExpr];h&&p.push(h),f.push.apply(f,Object(m.a)(r.stmts)),u===yr.hostProperty?w.push(p):u===yr.attribute?C.push(p):u===yr.syntheticHostProperty?O.push(p):f.push(qt(u).callFn(p).toStmt())})),w.length>0&&f.push(ga(yr.hostProperty,w).toStmt());C.length>0&&f.push(ga(yr.attribute,C).toStmt());O.length>0&&f.push(ga(yr.syntheticHostProperty,O).toStmt());var T=function(e){var t,n=[],r=Object(h.a)(Object.getOwnPropertyNames(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e[i];n.push(Yt(i),a)}}catch(s){r.e(s)}finally{r.f()}return n}(e.attributes);u.assignHostAttrs(T,s),u.hasBindings&&u.buildUpdateLevelInstructions(x()).forEach((function(e){if(e.calls.length>0){var t=[];e.calls.forEach((function(e){S+=Math.max(e.allocateBindingSlots-2,0),t.push(function(e,t,n){return e.params((function(e){return n(t,e).currValExpr}))}(e,o,wh))})),f.push(ga(e.reference,t).toStmt())}}));S&&s.set("hostVars",Yt(S));if(v.length>0||f.length>0){var j=a?"".concat(a,"_HostBindings"):null,N=[];return v.length>0&&N.push(ql(1,v)),f.length>0&&N.push(ql(2,f)),Gt([new it("rf",we),new it("ctx",null)],N,Se,null,j)}return null}(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name,r)),r.set("inputs",la(e.inputs,!0)),r.set("outputs",la(e.outputs)),null!==e.exportAs&&r.set("exportAs",Qt(e.exportAs.map((function(e){return Yt(e)})))),r}function dh(e,t){var n=[],r=t.providers,i=t.viewProviders;if(r||i){var a=[r||new lt([])];i&&a.push(i),n.push(qt(yr.ProvidersFeature).callFn(a))}t.usesInheritance&&n.push(qt(yr.InheritDefinitionFeature)),t.fullInheritance&&n.push(qt(yr.CopyDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(qt(yr.NgOnChangesFeature)),n.length&&e.set("features",Qt(n))}function mh(e,t,n){var r=fh(e,t,n);dh(r,e);var i=qt(yr.defineDirective).callFn([r.toLiteralMap()]),a=xh(e);return{expression:i,type:zt(qt(yr.DirectiveDefWithMeta,a))}}function yh(e,t,n){var r=fh(e,t,n);dh(r,e);var i=e.selector&&I.parse(e.selector),a=i&&i[0];if(a){var s=a.getAttrs();s.length&&r.set("attrs",t.getConstLiteral(Qt(s.map((function(e){return Yt(null!=e?e:void 0)}))),!0))}var o=null;if(e.directives.length>0){var u,c=new R,l=Object(h.a)(e.directives);try{for(l.s();!(u=l.n()).done;){var p=u.value,v=p.selector,f=p.expression;c.addSelectables(I.parse(v),f)}}catch(L){l.e(L)}finally{l.f()}o=c}var d=e.name,y=d?"".concat(d,"_Template"):null,g=new Set,b=new Set,k=e.changeDetection,_=e.template,E=new zl(t,Zl.createRootScope(),0,d,null,null,y,o,g,e.pipes,b,yr.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),S=E.buildTemplateFunction(_.nodes,[]),x=E.getNgContentSelectors();x&&r.set("ngContentSelectors",x),r.set("decls",Yt(E.getConstCount())),r.set("vars",Yt(E.getVarCount()));var w=E.getConsts(),C=w.constExpressions,O=w.prepareStatements;if(C.length>0){var T=Qt(C);O.length>0&&(T=Gt([],[].concat(Object(m.a)(O),[new Et(T)]))),r.set("consts",T)}if(r.set("template",S),g.size){var j=Qt(Array.from(g));e.wrapDirectivesAndPipesInClosure&&(j=Gt([],[new Et(j)])),r.set("directives",j)}if(b.size){var N=Qt(Array.from(b));e.wrapDirectivesAndPipesInClosure&&(N=Gt([],[new Et(N)])),r.set("pipes",N)}if(null===e.encapsulation&&(e.encapsulation=P.Emulated),e.styles&&e.styles.length){var A=(e.encapsulation==P.Emulated?function(e,t,n){var r=new eo;return e.map((function(e){return r.shimCssText(e,t,n)}))}(e.styles,To,Oo):e.styles).map((function(e){return t.getConstLiteral(Yt(e))}));r.set("styles",Qt(A))}else e.encapsulation===P.Emulated&&(e.encapsulation=P.None);e.encapsulation!==P.Emulated&&r.set("encapsulation",Yt(e.encapsulation)),null!==e.animations&&r.set("data",Xt([{key:"animation",value:e.animations,quoted:!1}])),null!=k&&k!==M.Default&&r.set("changeDetection",Yt(k));var D=qt(yr.defineComponent).callFn([r.toLiteralMap()]),F=xh(e);return F.push(Sh(e.template.ngContentSelectors)),{expression:D,type:zt(qt(yr.ComponentDefWithMeta,F))}}function gh(e,t,n){throw new Error("unsupported")}function bh(e,t){return e.map((function(e){var n=null;return e.read&&e.read.identifier&&(n=t.importExpr(e.read.identifier.reference)),{propertyName:e.propertyName,first:e.first,predicate:kh(e.selectors,t),descendants:e.descendants,read:n,static:!!e.static}}))}function kh(e,t){if(e.length>1||1==e.length&&e[0].value){var n=e.map((function(e){return e.value}));return n.some((function(e){return!e}))&&hn("Found a type among the string selectors expected"),t.constantPool.getConstLiteral(Qt(n.map((function(e){return Yt(e)}))))}if(1==e.length){var r=e[0];if(r.identifier)return t.importExpr(r.identifier.reference)}return hn("Unexpected query form"),ft}function _h(e,t){var n=[pa(e,t),Yt(e.descendants)];return e.read&&n.push(e.read),n}function Eh(e){return zt(Xt(Object.keys(e).map((function(t){return{key:t,value:Yt(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}}))))}function Sh(e){return e.length>0?zt(Qt(e.map((function(e){return Yt(e)})))):Oe}function xh(e){var t,n=null!==e.selector?e.selector.replace(/\n/g,""):null;return[kr(e.type.type,e.typeArgumentCount),null!==n?(t=n,zt(Yt(t))):Oe,null!==e.exportAs?Sh(e.exportAs):Oe,Eh(e.inputs),Eh(e.outputs),Sh(e.queries.map((function(e){return e.propertyName})))]}function wh(e,t){return Ws(null,e,t,"b",Us.Expression,(function(){return hn("Unexpected interpolation")}))}function Ch(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}function Oh(e,t){var n=Array.from(e).map((function(e){var n=Object(c.a)(e,2),r=n[0],i=n[1];return[r,t.importExpr(i)]}));return new Map(n)}var Th=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function jh(e){for(var t={},n={},r={},i={},a=0,s=Object.keys(e);a<s.length;a++){var o=s[a],u=e[o],c=o.match(Th);if(null===c)switch(o){case"class":if("string"!=typeof u)throw new Error("Class binding must be string");i.classAttr=u;break;case"style":if("string"!=typeof u)throw new Error("Style binding must be string");i.styleAttr=u;break;default:t[o]="string"==typeof u?Yt(u):u}else if(null!=c[1]){if("string"!=typeof u)throw new Error("Property binding must be string");r[c[1]]=u}else if(null!=c[2]){if("string"!=typeof u)throw new Error("Event binding must be string");n[c[2]]=u}}return{attributes:t,listeners:n,properties:r,specialAttributes:i}}function Nh(e,t){var n=Ch(e),r=ah();return r.createDirectiveHostEventAsts(n,t),r.createBoundHostProperties(n,t),r.errors}var Ph=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"get",value:function(e){return""}}]),e}(),Mh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wa;Object(y.a)(this,e),this.jitEvaluator=t,this.R3ResolvedDependencyType=da,this.R3FactoryTarget=fa,this.ResourceLoader=Ph,this.elementSchemaRegistry=new ll}return Object(g.a)(e,[{key:"compilePipe",value:function(e,t,n){var r=Ja({name:n.name,type:Fh(n.type),internalType:new Re(n.type),typeArgumentCount:n.typeArgumentCount,deps:qh(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,e,t,[])}},{key:"compileInjectable",value:function(e,t,n){var r=xa({name:n.name,type:Fh(n.type),internalType:new Re(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:Uh(n.providedIn),useClass:Vh(n,Ah),useFactory:Vh(n,Ih),useValue:Vh(n,Rh),useExisting:Vh(n,Dh),userDeps:qh(n.userDeps)||void 0}),i=r.expression,a=r.statements;return this.jitExpression(i,e,t,a)}},{key:"compileInjector",value:function(e,t,n){var r=Ga({name:n.name,type:Fh(n.type),internalType:new Re(n.type),deps:qh(n.deps),providers:new Re(n.providers),imports:n.imports.map((function(e){return new Re(e)}))});return this.jitExpression(r.expression,e,t,r.statements)}},{key:"compileNgModule",value:function(e,t,n){var r=Xa({type:Fh(n.type),internalType:new Re(n.type),adjacentType:new Re(n.type),bootstrap:n.bootstrap.map(Fh),declarations:n.declarations.map(Fh),imports:n.imports.map(Fh),exports:n.exports.map(Fh),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(Fh):null,id:n.id?new Re(n.id):null});return this.jitExpression(r.expression,e,t,[])}},{key:"compileDirective",value:function(e,t,n){var r=new Mn,i=ah(),a=mh(Bh(n),r,i);return this.jitExpression(a.expression,e,t,r.statements)}},{key:"compileComponent",value:function(e,t,n){var r=new Mn,i=n.interpolation?ja.fromArray(n.interpolation):Na,a=rh(n.template,t,{preserveWhitespaces:n.preserveWhitespaces,interpolationConfig:i});if(void 0!==a.errors){var s=a.errors.map((function(e){return e.toString()})).join(", ");throw new Error("Errors during JIT compilation of template for ".concat(n.name,": ").concat(s))}var o=yh(Object.assign(Object.assign(Object.assign({},n),Bh(n)),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:a,wrapDirectivesAndPipesInClosure:!1,styles:[].concat(Object(m.a)(n.styles),Object(m.a)(a.styles)),encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new Re(n.animations):null,viewProviders:null!=n.viewProviders?new Re(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r,ah(i)),u="ng:///".concat(n.name,".js");return this.jitExpression(o.expression,e,u,r.statements)}},{key:"compileFactory",value:function(e,t,n){var r=ka({name:n.name,type:Fh(n.type),internalType:new Re(n.type),typeArgumentCount:n.typeArgumentCount,deps:qh(n.deps),injectFn:"directiveInject"===n.injectFn?Ln.directiveInject:Ln.inject,target:n.target});return this.jitExpression(r.factory,e,t,r.statements)}},{key:"createParseSourceSpan",value:function(e,t,n){return Rr(e,t,n)}},{key:"jitExpression",value:function(e,t,n,r){var i=[].concat(Object(m.a)(r),[new bt("$def",e,void 0,[Ye.Exported])]);return this.jitEvaluator.evaluateStatements(n,i,new Ka(t),!0).$def}}]),e}(),Ah=Object.keys({useClass:null})[0],Ih=Object.keys({useFactory:null})[0],Rh=Object.keys({useValue:null})[0],Dh=Object.keys({useExisting:null})[0],Fh=function(e){var t=new Re(e);return{value:t,type:t}};function Lh(e){return Object.assign(Object.assign({},e),{predicate:Array.isArray(e.predicate)?e.predicate:new Re(e.predicate),read:e.read?new Re(e.read):null,static:e.static})}function Bh(e){var t=zh(e.inputs||[]),n=zh(e.outputs||[]),r=e.propMetadata,i={},a={},s=function(e){r.hasOwnProperty(e)&&r[e].forEach((function(t){"Input"===t.ngMetadataName?i[e]=t.bindingPropertyName?[t.bindingPropertyName,e]:e:function(e){return"Output"===e.ngMetadataName}(t)&&(a[e]=t.bindingPropertyName||e)}))};for(var o in r)s(o);return Object.assign(Object.assign({},e),{typeSourceSpan:e.typeSourceSpan,type:Fh(e.type),internalType:new Re(e.type),deps:qh(e.deps),host:Wh(e.propMetadata,e.typeSourceSpan,e.host),inputs:Object.assign(Object.assign({},t),i),outputs:Object.assign(Object.assign({},n),a),queries:e.queries.map(Lh),providers:null!=e.providers?new Re(e.providers):null,viewQueries:e.viewQueries.map(Lh),fullInheritance:!1})}function Vh(e,t){return e.hasOwnProperty(t)?new Re(e[t]):void 0}function Uh(e){return null==e||"string"==typeof e?new He(e):new Re(e)}function Hh(e){return{token:null===e.token?new He(null):e.resolved===da.Attribute?new He(e.token):new Re(e.token),attribute:null,resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function qh(e){return null==e?null:e.map(Hh)}function Wh(e,t,n){var r=jh(n||{}),i=Nh(r,t);if(i.length)throw new Error(i.map((function(e){return e.msg})).join("\n"));var a=function(t){e.hasOwnProperty(t)&&e[t].forEach((function(e){"HostBinding"===e.ngMetadataName?r.properties[e.hostPropertyName||t]=t:function(e){return"HostListener"===e.ngMetadataName}(e)&&(r.listeners[e.eventName||t]="".concat(t,"(").concat((e.args||[]).join(","),")"))}))};for(var s in e)a(s);return r}function zh(e){return e.reduce((function(e,t){var n=t.split(",").map((function(e){return e.trim()})),r=Object(c.a)(n,2),i=r[0],a=r[1];return e[i]=a||i,e}),{})}function Kh(e){(e.ng||(e.ng={})).\u0275compilerFacade=new Mh}var Qh=new Sn("10.1.5"),Xh=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultEncapsulation,r=void 0===n?P.Emulated:n,i=t.useJit,a=void 0===i||i,s=t.jitDevMode,o=void 0!==s&&s,u=t.missingTranslation,c=void 0===u?null:u,l=t.preserveWhitespaces,h=t.strictInjectionParameters;Object(y.a)(this,e),this.defaultEncapsulation=r,this.useJit=!!a,this.jitDevMode=!!o,this.missingTranslation=c,this.preserveWhitespaces=Gh(sn(l)),this.strictInjectionParameters=!0===h};function Gh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?t:e}var $h=function(){function e(t,n,r,i){Object(y.a)(this,e),this._resourceLoader=t,this._urlResolver=n,this._htmlParser=r,this._config=i,this._resourceLoaderCache=new Map}return Object(g.a)(e,[{key:"clearCache",value:function(){this._resourceLoaderCache.clear()}},{key:"clearCacheFor",value:function(e){var t=this;if(e.isComponent){var n=e.template;this._resourceLoaderCache.delete(n.templateUrl),n.externalStylesheets.forEach((function(e){t._resourceLoaderCache.delete(e.moduleUrl)}))}}},{key:"_fetch",value:function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}},{key:"normalizeTemplate",value:function(e){var t=this;if(an(e.template)){if(an(e.templateUrl))throw pn("'".concat(kn(e.componentType),"' component cannot define both template and templateUrl"));if("string"!=typeof e.template)throw pn("The template specified for component ".concat(kn(e.componentType)," is not a string"))}else{if(!an(e.templateUrl))throw pn("No template specified for component ".concat(kn(e.componentType)));if("string"!=typeof e.templateUrl)throw pn("The templateUrl specified for component ".concat(kn(e.componentType)," is not a string"))}if(an(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw pn("The preserveWhitespaces option for component ".concat(kn(e.componentType)," must be a boolean"));return cn(this._preParseTemplate(e),(function(n){return t._normalizeTemplateMetadata(e,n)}))}},{key:"_preParseTemplate",value:function(e){var t,n,r=this;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),cn(t,(function(t){return r._preparseLoadedTemplate(e,t,n)}))}},{key:"_preparseLoadedTemplate",value:function(e,t,n){var r=!!e.template,i=ja.fromArray(e.interpolation),a=pr({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),s=this._htmlParser.parse(t,a,{tokenizeExpansionForms:!0,interpolationConfig:i});if(s.errors.length>0){var o=s.errors.join("\n");throw pn("Template parse errors:\n".concat(o))}var u=this._normalizeStylesheet(new tr({styles:e.styles,moduleUrl:e.moduleUrl})),c=new Yh;Uo(c,s.rootNodes);var l=this._normalizeStylesheet(new tr({styles:c.styles,styleUrls:c.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:s,styles:u.styles.concat(l.styles),inlineStyleUrls:u.styleUrls.concat(l.styleUrls),styleUrls:this._normalizeStylesheet(new tr({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:c.ngContentSelectors}}},{key:"_normalizeTemplateMetadata",value:function(e,t){var n=this;return cn(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),(function(r){return n._normalizeLoadedTemplateMetadata(e,t,r)}))}},{key:"_normalizeLoadedTemplateMetadata",value:function(e,t,n){var r=this,i=Object(m.a)(t.styles);this._inlineStyles(t.inlineStyleUrls,n,i);var a=t.styleUrls,s=a.map((function(e){var t=n.get(e),i=Object(m.a)(t.styles);return r._inlineStyles(t.styleUrls,n,i),new tr({moduleUrl:e,styles:i})})),o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===P.Emulated&&0===i.length&&0===a.length&&(o=P.None),new nr({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:i,styleUrls:a,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:Gh(e.preserveWhitespaces,this._config.preserveWhitespaces)})}},{key:"_inlineStyles",value:function(e,t,n){var r=this;e.forEach((function(e){var i=t.get(e);i.styles.forEach((function(e){return n.push(e)})),r._inlineStyles(i.styleUrls,t,n)}))}},{key:"_loadMissingExternalStylesheets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return cn(ln(e.filter((function(e){return!n.has(e)})).map((function(e){return cn(t._fetch(e),(function(r){var i=t._normalizeStylesheet(new tr({styles:[r],moduleUrl:e}));return n.set(e,i),t._loadMissingExternalStylesheets(i.styleUrls,n)}))}))),(function(e){return n}))}},{key:"_normalizeStylesheet",value:function(e){var t=this,n=e.moduleUrl,r=e.styleUrls.filter(Zu).map((function(e){return t._urlResolver.resolve(n,e)})),i=e.styles.map((function(e){var i,a,s,o,u=(i=t._urlResolver,a=n,s=[],o=e.replace(tc,"").replace(ec,(function(){var e=(arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2]);return Zu(e)?(s.push(i.resolve(a,e)),""):arguments.length<=0?void 0:arguments[0]})),new Ju(o,s));return r.push.apply(r,Object(m.a)(u.styleUrls)),u.style}));return new tr({styles:i,styleUrls:r,moduleUrl:n})}}]),e}(),Yh=function(){function e(){Object(y.a)(this,e),this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return Object(g.a)(e,[{key:"visitElement",value:function(e,t){var n=cc(e);switch(n.type){case uc.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case uc.STYLE:var r="";e.children.forEach((function(e){e instanceof Ro&&(r+=e.value)})),this.styles.push(r);break;case uc.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Uo(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}},{key:"visitExpansion",value:function(e,t){Uo(this,e.cases)}},{key:"visitExpansionCase",value:function(e,t){Uo(this,e.expression)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitAttribute",value:function(e,t){return null}},{key:"visitText",value:function(e,t){return null}}]),e}(),Jh=[W,q,H,U],Zh=function(){function e(t){Object(y.a)(this,e),this._reflector=t}return Object(g.a)(e,[{key:"isDirective",value:function(e){var t=this._reflector.annotations(_n(e));return t&&t.some(ep)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._reflector.annotations(_n(e));if(n){var r=tp(n,ep);if(r){var i=this._reflector.propMetadata(e),a=this._reflector.guards(e);return this._mergeWithPropertyMetadata(r,i,a,e)}}if(t)throw new Error("No Directive annotation found on ".concat(kn(e)));return null}},{key:"_mergeWithPropertyMetadata",value:function(e,t,n,r){var i=[],a=[],s={},o={};return Object.keys(t).forEach((function(e){var n=tp(t[e],(function(e){return $.isTypeOf(e)}));n&&(n.bindingPropertyName?i.push("".concat(e,": ").concat(n.bindingPropertyName)):i.push(e));var r=tp(t[e],(function(e){return Y.isTypeOf(e)}));r&&(r.bindingPropertyName?a.push("".concat(e,": ").concat(r.bindingPropertyName)):a.push(e)),t[e].filter((function(e){return J.isTypeOf(e)})).forEach((function(t){if(t.hostPropertyName){var n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["[".concat(t.hostPropertyName,"]")]=e}else s["[".concat(e,"]")]=e})),t[e].filter((function(e){return Z.isTypeOf(e)})).forEach((function(t){var n=t.args||[];s["(".concat(t.eventName,")")]="".concat(e,"(").concat(n.join(","),")")}));var u=tp(t[e],(function(e){return Jh.some((function(t){return t.isTypeOf(e)}))}));u&&(o[e]=u)})),this._merge(e,i,a,s,o,n,r)}},{key:"_extractPublicName",value:function(e){return tn(e,[null,e])[1].trim()}},{key:"_dedupeBindings",value:function(e){for(var t=new Set,n=new Set,r=[],i=e.length-1;i>=0;i--){var a=e[i],s=this._extractPublicName(a);n.add(s),t.has(s)||(t.add(s),r.push(a))}return r.reverse()}},{key:"_merge",value:function(e,t,n,r,i,a,s){var o=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),u=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),c=e.host?Object.assign(Object.assign({},e.host),r):r,l=e.queries?Object.assign(Object.assign({},e.queries),i):i;if(X.isTypeOf(e)){var h=e;return X({selector:h.selector,inputs:o,outputs:u,host:c,exportAs:h.exportAs,moduleId:h.moduleId,queries:l,changeDetection:h.changeDetection,providers:h.providers,viewProviders:h.viewProviders,entryComponents:h.entryComponents,template:h.template,templateUrl:h.templateUrl,styles:h.styles,styleUrls:h.styleUrls,encapsulation:h.encapsulation,animations:h.animations,interpolation:h.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return z({selector:e.selector,inputs:o,outputs:u,host:c,exportAs:e.exportAs,queries:l,providers:e.providers,guards:a})}}]),e}();function ep(e){return z.isTypeOf(e)||X.isTypeOf(e)}function tp(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}var np=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){return Object(y.a)(this,n),t.call(this,e,r)}return n}(Ar),rp=/^i18n:?/,ip=!1;function ap(e,t,n,r,i){return new up(r,i).merge(e,t,n)}var sp,op=function e(t,n){Object(y.a)(this,e),this.messages=t,this.errors=n};!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(sp||(sp={}));var up=function(){function e(t,n){Object(y.a)(this,e),this._implicitTags=t,this._implicitAttrs=n}return Object(g.a)(e,[{key:"extract",value:function(e,t){var n=this;return this._init(sp.Extract,t),e.forEach((function(e){return e.visit(n,null)})),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new op(this._messages,this._errors)}},{key:"merge",value:function(e,t,n){this._init(sp.Merge,n),this._translations=t;var r=new Bo("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new lu(r.children,this._errors)}},{key:"visitExpansionCase",value:function(e,t){var n=Uo(this,e.expression,t);if(this._mode===sp.Merge)return new Fo(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}},{key:"visitExpansion",value:function(e,t){this._mayBeAddBlockChildren(e);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var r=Uo(this,e.cases,t);return this._mode===sp.Merge&&(e=new Do(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}},{key:"visitComment",value:function(e,t){var n,r=!!((n=e)instanceof Vo&&n.value&&n.value.startsWith("i18n"));if(r&&this._isInTranslatableSection)return this._reportError(e,"Could not start a block inside a translatable section"),void 0;var i=function(e){return!!(e instanceof Vo&&e.value&&"/i18n"===e.value)}(e);if(i&&!this._inI18nBlock)return this._reportError(e,"Trying to close an unopened block"),void 0;if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var a=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Uo(this,this._translateMessage(e,a))}return this._reportError(e,"I18N blocks should not cross element boundaries"),void 0}}else if(r){if(!ip&&console&&console.warn){ip=!0;var s=e.sourceSpan.details?", ".concat(e.sourceSpan.details):"";console.warn("I18n comments are deprecated, use an <ng-container> element instead (".concat(e.sourceSpan.start).concat(s,")"))}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(rp,"").trim(),this._openTranslatableSection(e)}}},{key:"visitText",value:function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}},{key:"visitElement",value:function(e,t){var n=this;this._mayBeAddBlockChildren(e),this._depth++;var r=this._inI18nNode,i=this._inImplicitNode,a=[],s=void 0,o=e.attrs.find((function(e){return"i18n"===e.name}))||null,u=o?o.value:"",c=this._implicitTags.some((function(t){return e.name===t}))&&!this._inIcu&&!this._isInTranslatableSection,l=!i&&c;if(this._inImplicitNode=i||c,this._isInTranslatableSection||this._inIcu)(o||l)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==sp.Extract&&Uo(this,e.children);else{if(o||l){this._inI18nNode=!0;var h=this._addMessage(e.children,u);s=this._translateMessage(e,h)}if(this._mode==sp.Extract){var p=o||l;p&&this._openTranslatableSection(e),Uo(this,e.children),p&&this._closeTranslatableSection(e,e.children)}}this._mode===sp.Merge&&(s||e.children).forEach((function(e){var r=e.visit(n,t);r&&!n._isInTranslatableSection&&(a=a.concat(r))}));if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=r,this._inImplicitNode=i,this._mode===sp.Merge){var v=this._translateAttributes(e);return new Bo(e.name,v,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}},{key:"visitAttribute",value:function(e,t){throw new Error("unreachable code")}},{key:"_init",value:function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=jl(t)}},{key:"_visitAttributesOf",value:function(e){var t=this,n={},r=this._implicitAttrs[e.name]||[];e.attrs.filter((function(e){return e.name.startsWith("i18n-")})).forEach((function(e){return n[e.name.slice("i18n-".length)]=e.value})),e.attrs.forEach((function(e){e.name in n?t._addMessage([e],n[e.name]):r.some((function(t){return e.name===t}))&&t._addMessage([e])}))}},{key:"_addMessage",value:function(e,t){if(0==e.length||1==e.length&&e[0]instanceof Lo&&!e[0].value)return null;var n=cp(t),r=n.meaning,i=n.description,a=n.id,s=this._createI18nMessage(e,r,i,a);return this._messages.push(s),s}},{key:"_translateMessage",value:function(e,t){if(t&&this._mode===sp.Merge){var n=this._translations.get(t);if(n)return n;this._reportError(e,'Translation unavailable for message id="'.concat(this._translations.digest(t),'"'))}return[]}},{key:"_translateAttributes",value:function(e){var t=this,n=e.attrs,r={};n.forEach((function(e){e.name.startsWith("i18n-")&&(r[e.name.slice("i18n-".length)]=cp(e.value))}));var i=[];return n.forEach((function(n){if("i18n"!==n.name&&!n.name.startsWith("i18n-"))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var a=r[n.name],s=a.meaning,o=a.description,u=a.id,c=t._createI18nMessage([n],s,o,u),l=t._translations.get(c);if(l)if(0==l.length)i.push(new Lo(n.name,"",n.sourceSpan));else if(l[0]instanceof Ro){var h=l[0].value;i.push(new Lo(n.name,h,n.sourceSpan))}else t._reportError(e,'Unexpected translation for attribute "'.concat(n.name,'" (id="').concat(u||t._translations.digest(c),'")'));else t._reportError(e,'Translation unavailable for attribute "'.concat(n.name,'" (id="').concat(u||t._translations.digest(c),'")'))}else i.push(n)})),i}},{key:"_mayBeAddBlockChildren",value:function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}},{key:"_openTranslatableSection",value:function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}},{key:"_closeTranslatableSection",value:function(e,t){if(!this._isInTranslatableSection)return this._reportError(e,"Unexpected section end"),void 0;var n=this._msgCountAtSectionStart;if(1==t.reduce((function(e,t){return e+(t instanceof Vo?0:1)}),0))for(var r=this._messages.length-1;r>=n;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof $r)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}},{key:"_reportError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}},{key:"_isInTranslatableSection",get:function(){return void 0!==this._msgCountAtSectionStart}}]),e}();function cp(e){if(!e)return{meaning:"",description:"",id:""};var t=e.indexOf("@@"),n=e.indexOf("|"),r=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],i=Object(c.a)(r,2),a=i[0],s=i[1],o=n>-1?[a.slice(0,n),a.slice(n+1)]:["",a],u=Object(c.a)(o,2);return{meaning:u[0],description:u[1],id:s.trim()}}var lp=new(function(){function e(){Object(y.a)(this,e),this.closedByParent=!1,this.contentType=i.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}return Object(g.a)(e,[{key:"requireExtraParent",value:function(e){return!1}},{key:"isClosedByChild",value:function(e){return!1}}]),e}());function hp(e){return lp}var pp=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.call(this,hp)}return Object(g.a)(n,[{key:"parse",value:function(e,t,r){return Object(p.a)(Object(v.a)(n.prototype),"parse",this).call(this,e,t,r)}}]),n}(hu),vp=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"write",value:function(e,t){var n=new fp,r=[];e.forEach((function(e){var t,i=[];e.sources.forEach((function(e){var t=new Ri("context-group",{purpose:"location"});t.children.push(new Fi(10),new Ri("context",{"context-type":"sourcefile"},[new Di(e.filePath)]),new Fi(10),new Ri("context",{"context-type":"linenumber"},[new Di("".concat(e.startLine))]),new Fi(8)),i.push(new Fi(8),t)}));var a=new Ri("trans-unit",{id:e.id,datatype:"html"});(t=a.children).push.apply(t,[new Fi(8),new Ri("source",{},n.serialize(e.nodes))].concat(i)),e.description&&a.children.push(new Fi(8),new Ri("note",{priority:"1",from:"description"},[new Di(e.description)])),e.meaning&&a.children.push(new Fi(8),new Ri("note",{priority:"1",from:"meaning"},[new Di(e.meaning)])),a.children.push(new Fi(6)),r.push(new Fi(6),a)}));var i=new Ri("body",{},[].concat(r,[new Fi(4)])),a=new Ri("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new Fi(4),i,new Fi(2)]),s=new Ri("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Fi(2),a,new Fi]);return Mi([new Ai({version:"1.0",encoding:"UTF-8"}),new Fi,s,new Fi])}},{key:"load",value:function(e,t){var n=(new dp).parse(e,t),r=n.locale,i=n.msgIdToHtml,a=n.errors,s={},o=new mp;if(Object.keys(i).forEach((function(e){var n=o.convert(i[e],t),r=n.i18nNodes,u=n.errors;a.push.apply(a,Object(m.a)(u)),s[e]=r})),a.length)throw new Error("xliff parse errors:\n".concat(a.join("\n")));return{locale:r,i18nNodesByMsgId:s}}},{key:"digest",value:function(e){return ii(e)}}]),n}(ji),fp=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){return[new Di(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach((function(e){return r.push.apply(r,Object(m.a)(e.visit(n)))})),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new Di("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach((function(t){r.push.apply(r,[new Di("".concat(t," {"))].concat(Object(m.a)(e.cases[t].visit(n)),[new Di("} ")]))})),r.push(new Di("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-".concat(e)}}(e.tag);if(e.isVoid)return[new Ri("x",{id:e.startName,ctype:n,"equiv-text":"<".concat(e.tag,"/>")})];var r=new Ri("x",{id:e.startName,ctype:n,"equiv-text":"<".concat(e.tag,">")}),i=new Ri("x",{id:e.closeName,ctype:n,"equiv-text":"</".concat(e.tag,">")});return[r].concat(Object(m.a)(this.serialize(e.children)),[i])}},{key:"visitPlaceholder",value:function(e,t){return[new Ri("x",{id:e.name,"equiv-text":"{{".concat(e.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function(e,t){var n="{".concat(e.value.expression,", ").concat(e.value.type,", ").concat(Object.keys(e.value.cases).map((function(e){return e+" {...}"})).join(" "),"}");return[new Ri("x",{id:e.name,"equiv-text":n})]}},{key:"serialize",value:function(e){var t,n=this;return(t=[]).concat.apply(t,Object(m.a)(e.map((function(e){return e.visit(n)}))))}}]),e}(),dp=function(){function e(){Object(y.a)(this,e),this._locale=null}return Object(g.a)(e,[{key:"parse",value:function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new pp).parse(e,t);return this._errors=n.errors,Uo(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"trans-unit":this._unitMlString=null;var n=e.attrs.find((function(e){return"id"===e.name}));if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg ".concat(r)):(Uo(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message ".concat(r," misses a translation")))}else this._addError(e,"<".concat("trans-unit",'> misses the "id" attribute'));break;case"source":case"seg-source":case"alt-trans":break;case"target":var i=e.startSourceSpan.end.offset,a=e.endSourceSpan.start.offset,s=e.startSourceSpan.start.file.content.slice(i,a);this._unitMlString=s;break;case"file":var o=e.attrs.find((function(e){return"target-language"===e.name}));o&&(this._locale=o.value),Uo(this,e.children,null);break;default:Uo(this,e.children,null)}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}(),mp=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"convert",value:function(e,t){var n,r=(new pp).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:(n=[]).concat.apply(n,Object(m.a)(Uo(this,r.rootNodes))),errors:this._errors}}},{key:"visitText",value:function(e,t){return new $r(e.value,e.sourceSpan)}},{key:"visitElement",value:function(e,t){if("x"===e.name){var n=e.attrs.find((function(e){return"id"===e.name}));return n?new ei("",n.value,e.sourceSpan):(this._addError(e,"<".concat("x",'> misses the "id" attribute')),null)}var r;return"mrk"===e.name?(r=[]).concat.apply(r,Object(m.a)(Uo(this,e.children))):(this._addError(e,"Unexpected tag"),null)}},{key:"visitExpansion",value:function(e,t){var n={};return Uo(this,e.cases).forEach((function(t){n[t.value]=new Yr(t.nodes,e.sourceSpan)})),new Jr(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){return{value:e.value,nodes:Uo(this,e.expression)}}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}();var yp=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"write",value:function(e,t){var n=new gp,r=[];e.forEach((function(e){var t=new Ri("unit",{id:e.id}),i=new Ri("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new Fi(8),new Ri("note",{category:"description"},[new Di(e.description)])),e.meaning&&i.children.push(new Fi(8),new Ri("note",{category:"meaning"},[new Di(e.meaning)]))),e.sources.forEach((function(e){i.children.push(new Fi(8),new Ri("note",{category:"location"},[new Di("".concat(e.filePath,":").concat(e.startLine).concat(e.endLine!==e.startLine?","+e.endLine:""))]))})),i.children.push(new Fi(6)),t.children.push(new Fi(6),i);var a=new Ri("segment");a.children.push(new Fi(8),new Ri("source",{},n.serialize(e.nodes)),new Fi(6)),t.children.push(new Fi(6),a,new Fi(4)),r.push(new Fi(4),t)}));var i=new Ri("file",{original:"ng.template",id:"ngi18n"},[].concat(r,[new Fi(2)])),a=new Ri("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new Fi(2),i,new Fi]);return Mi([new Ai({version:"1.0",encoding:"UTF-8"}),new Fi,a,new Fi])}},{key:"load",value:function(e,t){var n=(new bp).parse(e,t),r=n.locale,i=n.msgIdToHtml,a=n.errors,s={},o=new kp;if(Object.keys(i).forEach((function(e){var n=o.convert(i[e],t),r=n.i18nNodes,u=n.errors;a.push.apply(a,Object(m.a)(u)),s[e]=r})),a.length)throw new Error("xliff2 parse errors:\n".concat(a.join("\n")));return{locale:r,i18nNodesByMsgId:s}}},{key:"digest",value:function(e){return si(e)}}]),n}(ji),gp=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitText",value:function(e,t){return[new Di(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach((function(e){return r.push.apply(r,Object(m.a)(e.visit(n)))})),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new Di("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach((function(t){r.push.apply(r,[new Di("".concat(t," {"))].concat(Object(m.a)(e.cases[t].visit(n)),[new Di("} ")]))})),r.push(new Di("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n,r=this,i=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid)return[new Ri("ph",{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:i,disp:"<".concat(e.tag,"/>")})];var a=new Ri("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:i,dispStart:"<".concat(e.tag,">"),dispEnd:"</".concat(e.tag,">")}),s=(n=[]).concat.apply(n,Object(m.a)(e.children.map((function(e){return e.visit(r)}))));return s.length?s.forEach((function(e){return a.children.push(e)})):a.children.push(new Di("")),[a]}},{key:"visitPlaceholder",value:function(e,t){var n=(this._nextPlaceholderId++).toString();return[new Ri("ph",{id:n,equiv:e.name,disp:"{{".concat(e.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function(e,t){var n=Object.keys(e.value.cases).map((function(e){return e+" {...}"})).join(" "),r=(this._nextPlaceholderId++).toString();return[new Ri("ph",{id:r,equiv:e.name,disp:"{".concat(e.value.expression,", ").concat(e.value.type,", ").concat(n,"}")})]}},{key:"serialize",value:function(e){var t,n=this;return this._nextPlaceholderId=0,(t=[]).concat.apply(t,Object(m.a)(e.map((function(e){return e.visit(n)}))))}}]),e}(),bp=function(){function e(){Object(y.a)(this,e),this._locale=null}return Object(g.a)(e,[{key:"parse",value:function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new pp).parse(e,t);return this._errors=n.errors,Uo(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"unit":this._unitMlString=null;var n=e.attrs.find((function(e){return"id"===e.name}));if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg ".concat(r)):(Uo(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message ".concat(r," misses a translation")))}else this._addError(e,"<".concat("unit",'> misses the "id" attribute'));break;case"source":break;case"target":var i=e.startSourceSpan.end.offset,a=e.endSourceSpan.start.offset,s=e.startSourceSpan.start.file.content.slice(i,a);this._unitMlString=s;break;case"xliff":var o=e.attrs.find((function(e){return"trgLang"===e.name}));o&&(this._locale=o.value);var u=e.attrs.find((function(e){return"version"===e.name}));if(u){var c=u.value;"2.0"!==c?this._addError(e,"The XLIFF file version ".concat(c," is not compatible with XLIFF 2.0 serializer")):Uo(this,e.children,null)}break;default:Uo(this,e.children,null)}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}(),kp=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"convert",value:function(e,t){var n,r=(new pp).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:(n=[]).concat.apply(n,Object(m.a)(Uo(this,r.rootNodes))),errors:this._errors}}},{key:"visitText",value:function(e,t){return new $r(e.value,e.sourceSpan)}},{key:"visitElement",value:function(e,t){var n,r=this;switch(e.name){case"ph":var i=e.attrs.find((function(e){return"equiv"===e.name}));if(i)return[new ei("",i.value,e.sourceSpan)];this._addError(e,"<".concat("ph",'> misses the "equiv" attribute'));break;case"pc":var a=e.attrs.find((function(e){return"equivStart"===e.name})),s=e.attrs.find((function(e){return"equivEnd"===e.name}));if(a){if(s){var o=a.value,u=s.value,c=[];return c.concat.apply(c,[new ei("",o,e.sourceSpan)].concat(Object(m.a)(e.children.map((function(e){return e.visit(r,null)}))),[new ei("",u,e.sourceSpan)]))}this._addError(e,"<".concat("ph",'> misses the "equivEnd" attribute'))}else this._addError(e,"<".concat("ph",'> misses the "equivStart" attribute'));break;case"mrk":return(n=[]).concat.apply(n,Object(m.a)(Uo(this,e.children)));default:this._addError(e,"Unexpected tag")}return null}},{key:"visitExpansion",value:function(e,t){var n={};return Uo(this,e.cases).forEach((function(t){n[t.value]=new Yr(t.nodes,e.sourceSpan)})),new Jr(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){var n;return{value:e.value,nodes:(n=[]).concat.apply(n,Object(m.a)(Uo(this,e.expression)))}}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}();var _p=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"write",value:function(e,t){throw new Error("Unsupported")}},{key:"load",value:function(e,t){var n=(new Ep).parse(e,t),r=n.locale,i=n.msgIdToHtml,a=n.errors,s={},o=new Sp;if(Object.keys(i).forEach((function(e){!function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var r=n();return Object.defineProperty(e,t,{enumerable:!0,value:r}),r},set:function(e){throw new Error("Could not overwrite an XTB translation")}})}(s,e,(function(){var n=o.convert(i[e],t),r=n.i18nNodes,a=n.errors;if(a.length)throw new Error("xtb parse errors:\n".concat(a.join("\n")));return r}))})),a.length)throw new Error("xtb parse errors:\n".concat(a.join("\n")));return{locale:r,i18nNodesByMsgId:s}}},{key:"digest",value:function(e){return Hi(e)}},{key:"createNameMapper",value:function(e){return new Ni(e,Wi)}}]),n}(ji);var Ep=function(){function e(){Object(y.a)(this,e),this._locale=null}return Object(g.a)(e,[{key:"parse",value:function(e,t){this._bundleDepth=0,this._msgIdToHtml={};var n=(new pp).parse(e,t);return this._errors=n.errors,Uo(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<".concat("translationbundle","> elements can not be nested"));var n=e.attrs.find((function(e){return"lang"===e.name}));n&&(this._locale=n.value),Uo(this,e.children,null),this._bundleDepth--;break;case"translation":var r=e.attrs.find((function(e){return"id"===e.name}));if(r){var i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(e,"Duplicated translations for msg ".concat(i));else{var a=e.startSourceSpan.end.offset,s=e.endSourceSpan.start.offset,o=e.startSourceSpan.start.file.content.slice(a,s);this._msgIdToHtml[i]=o}}else this._addError(e,"<".concat("translation",'> misses the "id" attribute'));break;default:this._addError(e,"Unexpected tag")}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}(),Sp=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"convert",value:function(e,t){var n=(new pp).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:Uo(this,n.rootNodes),errors:this._errors}}},{key:"visitText",value:function(e,t){return new $r(e.value,e.sourceSpan)}},{key:"visitExpansion",value:function(e,t){var n={};return Uo(this,e.cases).forEach((function(t){n[t.value]=new Yr(t.nodes,e.sourceSpan)})),new Jr(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){return{value:e.value,nodes:Uo(this,e.expression)}}},{key:"visitElement",value:function(e,t){if("ph"===e.name){var n=e.attrs.find((function(e){return"name"===e.name}));if(n)return new ei("",n.value,e.sourceSpan);this._addError(e,"<".concat("ph",'> misses the "name" attribute'))}else this._addError(e,"Unexpected tag");return null}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}(),xp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Q.Warning,s=arguments.length>5?arguments[5]:void 0;Object(y.a)(this,e),this._i18nNodesByMsgId=t,this.digest=r,this.mapperFactory=i,this._i18nToHtml=new wp(t,n,r,i,a,s)}return Object(g.a)(e,[{key:"get",value:function(e){var t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}},{key:"has",value:function(e){return this.digest(e)in this._i18nNodesByMsgId}}],[{key:"load",value:function(t,n,r,i,a){var s=r.load(t,n),o=s.locale;return new e(s.i18nNodesByMsgId,o,(function(e){return r.digest(e)}),(function(e){return r.createNameMapper(e)}),i,a)}}]),e}(),wp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;Object(y.a)(this,e),this._i18nNodesByMsgId=t,this._locale=n,this._digest=r,this._mapperFactory=i,this._missingTranslationStrategy=a,this._console=s,this._contextStack=[],this._errors=[]}return Object(g.a)(e,[{key:"convert",value:function(e){this._contextStack.length=0,this._errors.length=0;var t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new fu).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[].concat(Object(m.a)(this._errors),Object(m.a)(r.errors))}}},{key:"visitText",value:function(e,t){return Bi(e.value)}},{key:"visitContainer",value:function(e,t){var n=this;return e.children.map((function(e){return e.visit(n)})).join("")}},{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map((function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")})),i=this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression]:e.expression;return"{".concat(i,", ").concat(e.type,", ").concat(r.join(" "),"}")}},{key:"visitPlaceholder",value:function(e,t){var n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,'Unknown placeholder "'.concat(e.name,'"')),"")}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r="".concat(e.tag),i=Object.keys(e.attrs).map((function(t){return"".concat(t,'="').concat(e.attrs[t],'"')})).join(" ");if(e.isVoid)return"<".concat(r," ").concat(i,"/>");var a=e.children.map((function(e){return e.visit(n)})).join("");return"<".concat(r," ").concat(i,">").concat(a,"</").concat(r,">")}},{key:"visitIcuPlaceholder",value:function(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}},{key:"_convertToText",value:function(e){var t,n=this,r=this._digest(e),i=this._mapperFactory?this._mapperFactory(e):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(r))t=this._i18nNodesByMsgId[r],this._mapper=function(e){return i?i.toInternalName(e):e};else{if(this._missingTranslationStrategy===Q.Error){var a=this._locale?' for locale "'.concat(this._locale,'"'):"";this._addError(e.nodes[0],'Missing translation for message "'.concat(r,'"').concat(a))}else if(this._console&&this._missingTranslationStrategy===Q.Warning){var s=this._locale?' for locale "'.concat(this._locale,'"'):"";this._console.warn('Missing translation for message "'.concat(r,'"').concat(s))}t=e.nodes,this._mapper=function(e){return e}}var o=t.map((function(e){return e.visit(n)})).join(""),u=this._contextStack.pop();return this._srcMsg=u.msg,this._mapper=u.mapper,o}},{key:"_addError",value:function(e,t){this._errors.push(new np(e.sourceSpan,t))}}]),e}(),Cp=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Q.Warning,a=arguments.length>4?arguments[4]:void 0;if(Object(y.a)(this,e),this._htmlParser=t,n){var s=Op(r);this._translationBundle=xp.load(n,"i18n",s,i,a)}else this._translationBundle=new xp({},null,ii,void 0,i,a)}return Object(g.a)(e,[{key:"parse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.interpolationConfig||Na,i=this._htmlParser.parse(e,t,Object.assign({interpolationConfig:r},n));return i.errors.length?new lu(i.rootNodes,i.errors):ap(i.rootNodes,this._translationBundle,r,[],{})}}]),e}();function Op(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new Vi;case"xtb":return new _p;case"xliff2":case"xlf2":return new yp;case"xliff":case"xlf":default:return new vp}}function Tp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return rn(t,new jp(e),n)}var jp=function(){function e(t){Object(y.a)(this,e),this.ctx=t}return Object(g.a)(e,[{key:"visitArray",value:function(e,t){for(var n=[],r=0;r<e.length;++r)n.push(rn(e[r],this,null));return Qt(n,t)}},{key:"visitStringMap",value:function(e,t){var n=this,r=[],i=new Set(e&&e.$quoted$);return Object.keys(e).forEach((function(t){r.push(new ht(t,rn(e[t],n,null),i.has(t)))})),new pt(r,t)}},{key:"visitPrimitive",value:function(e,t){return Yt(e,t)}},{key:"visitOther",value:function(e,t){return e instanceof Pe?e:this.ctx.importExpr(e)}}]),e}();function Np(e,t){return{key:e,value:t,quoted:!1}}var Pp=function(){function e(t,n){Object(y.a)(this,e),this.reflector=t,this.alwaysGenerateDef=n,this.tokenInjector=t.resolveExternalReference(Ln.Injector)}return Object(g.a)(e,[{key:"depsArray",value:function(e,t){var n=this;return e.map((function(e){var r,i=e,a=[i],s=0;if(Array.isArray(e))for(var o=0;o<e.length;o++){var u=e[o];u&&("Optional"===u.ngMetadataName?s|=8:"SkipSelf"===u.ngMetadataName?s|=4:"Self"===u.ngMetadataName?s|=2:i="Inject"===u.ngMetadataName?u.token:u)}return r="string"==typeof i?Yt(i):i===n.tokenInjector?qt(Ln.INJECTOR):t.importExpr(i),a=0!==s?[r,Yt(s)]:[r],qt(Ln.inject).callFn(a)}))}},{key:"factoryFor",value:function(e,t){var n;if(e.useExisting)n=qt(Ln.inject).callFn([t.importExpr(e.useExisting)]);else if(e.useFactory){var r=e.deps||[];if(!(r.length>0))return t.importExpr(e.useFactory);n=t.importExpr(e.useFactory).callFn(this.depsArray(r,t))}else if(e.useValue)n=Tp(t,e.useValue);else{var i=e.useClass||e.symbol,a=this.depsArray(this.reflector.parameters(i),t);n=new Ue(t.importExpr(i),a)}return Gt([],[new Et(n)],void 0,void 0,e.symbol.name+"_Factory")}},{key:"injectableDef",value:function(e,t){var n=ft;void 0!==e.providedIn&&(n=null===e.providedIn?ft:"string"==typeof e.providedIn?Yt(e.providedIn):t.importExpr(e.providedIn));var r=[Np("factory",this.factoryFor(e,t)),Np("token",t.importExpr(e.type.reference)),Np("providedIn",n)];return qt(Ln.\u0275\u0275defineInjectable).callFn([Xt(r)])}},{key:"compile",value:function(e,t){if(this.alwaysGenerateDef||void 0!==e.providedIn){var n=Qn(e.type),r=new Ot(n,null,[new xt("\u0275prov",Se,[Ye.Static],this.injectableDef(e,t))],[],new wt(null,[],[]),[]);t.statements.push(r)}}}]),e}(),Mp=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,Ap=/\.ngfactory\.|\.ngsummary\./,Ip=/\.ngsummary\./,Rp=/NgSummary$/;function Dp(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Lp(e,t);return"".concat(n[0],".ngfactory").concat(Bp(n[1]))}function Fp(e){return e.replace(Ap,".")}function Lp(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];var n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function Bp(e){return".tsx"===e?".ts":e}function Vp(e){var t=e.replace(Mp,"");return"".concat(t,".ngsummary.json")}function Up(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Lp(Fp(e),t);return"".concat(n[0],".ngsummary").concat(n[1])}function Hp(e){return e.replace(Ip,".")}function qp(e){return"".concat(e,"NgSummary")}function Wp(e){return e.replace(Rp,"")}var zp,Kp=/\u0275\d+/;function Qp(e){return Kp.test(e)}function Xp(e){return"\u0275".concat(e)}!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(zp||(zp={}));var Gp=[zp.OnInit,zp.OnDestroy,zp.DoCheck,zp.OnChanges,zp.AfterContentInit,zp.AfterContentChecked,zp.AfterViewInit,zp.AfterViewChecked];function $p(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case zp.OnInit:return"ngOnInit";case zp.OnDestroy:return"ngOnDestroy";case zp.DoCheck:return"ngDoCheck";case zp.OnChanges:return"ngOnChanges";case zp.AfterContentInit:return"ngAfterContentInit";case zp.AfterContentChecked:return"ngAfterContentChecked";case zp.AfterViewInit:return"ngAfterViewInit";case zp.AfterViewChecked:return"ngAfterViewChecked";default:var t=e;throw new Error("unexpected ".concat(t))}}(t))}function Yp(e,t){return Gp.filter((function(n){return $p(e,n,t)}))}var Jp="ngComponentType",Zp=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p){Object(y.a)(this,e),this._config=t,this._htmlParser=n,this._ngModuleResolver=r,this._directiveResolver=i,this._pipeResolver=a,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=u,this._console=c,this._staticSymbolCache=l,this._reflector=h,this._errorCollector=p,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}return Object(g.a)(e,[{key:"getReflector",value:function(){return this._reflector}},{key:"clearCacheFor",value:function(e){var t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}},{key:"clearCache",value:function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}},{key:"_createProxyClass",value:function(e,t){var n=null,r=function(){if(!n)throw new Error("Illegal state: Class ".concat(t," for type ").concat(kn(e)," is not compiled yet!"));return n.apply(this,arguments)};return r.setDelegate=function(e){n=e,r.prototype=e.prototype},r.overriddenName=t,r}},{key:"getGeneratedClass",value:function(e,t){return e instanceof Un?this._staticSymbolCache.get(Dp(e.filePath),t):this._createProxyClass(e,t)}},{key:"getComponentViewClass",value:function(e){return this.getGeneratedClass(e,Gn(e,0))}},{key:"getHostComponentViewClass",value:function(e){return this.getGeneratedClass(e,Yn(e))}},{key:"getHostComponentType",value:function(e){var t="".concat(Qn({reference:e}),"_Host");return e instanceof Un?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}},{key:"getRendererType",value:function(e){return e instanceof Un?this._staticSymbolCache.get(Dp(e.filePath),$n(e)):{}}},{key:"getComponentFactory",value:function(e,t,n,r){if(t instanceof Un)return this._staticSymbolCache.get(Dp(t.filePath),Jn(t));var i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(Ln.createComponentFactory)(e,t,i,n,r,[])}},{key:"initComponentFactory",value:function(e,t){var n;e instanceof Un||(n=e.ngContentSelectors).push.apply(n,Object(m.a)(t))}},{key:"_loadSummary",value:function(e,t){var n=this._summaryCache.get(e);if(!n){var r=this._summaryResolver.resolveSummary(e);n=r?r.type:null,this._summaryCache.set(e,n||null)}return n&&n.summaryKind===t?n:null}},{key:"getHostComponentMetadata",value:function(e,t){var n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));var r=I.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return rr.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new nr({encapsulation:P.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:M.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:P.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}},{key:"loadDirectiveMetadata",value:function(e,t,n){var r=this;if(this._directiveCache.has(t))return null;t=_n(t);var i=this.getNonNormalizedDirectiveMetadata(t),a=i.annotation,s=i.metadata,o=function(e){var n=new rr({isHost:!1,type:s.type,isComponent:s.isComponent,selector:s.selector,exportAs:s.exportAs,changeDetection:s.changeDetection,inputs:s.inputs,outputs:s.outputs,hostListeners:s.hostListeners,hostProperties:s.hostProperties,hostAttributes:s.hostAttributes,providers:s.providers,viewProviders:s.viewProviders,queries:s.queries,guards:s.guards,viewQueries:s.viewQueries,entryComponents:s.entryComponents,componentViewType:s.componentViewType,rendererType:s.rendererType,componentFactory:s.componentFactory,template:e});return e&&r.initComponentFactory(s.componentFactory,e.ngContentSelectors),r._directiveCache.set(t,n),r._summaryCache.set(t,n.toSummary()),null};if(s.isComponent){var u=s.template,c=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,a),encapsulation:u.encapsulation,template:u.template,templateUrl:u.templateUrl,styles:u.styles,styleUrls:u.styleUrls,animations:u.animations,interpolation:u.interpolation,preserveWhitespaces:u.preserveWhitespaces});return En(c)&&n?(this._reportError(function(e){var t=Error("Can't compile synchronously as ".concat(kn(e)," is still being loaded!"));return t[Jp]=e,t}(t),t),null):cn(c,o)}return o(null),null}},{key:"getNonNormalizedDirectiveMetadata",value:function(e){var t=this;if(!(e=_n(e)))return null;var n=this._nonNormalizedDirectiveCache.get(e);if(n)return n;var r=this._directiveResolver.resolve(e,!1);if(!r)return null;var i=void 0;if(X.isTypeOf(r)){var a=r;Ca("styles",a.styles),Ca("styleUrls",a.styleUrls),Ta("interpolation",a.interpolation);var s=a.animations;i=new nr({encapsulation:sn(a.encapsulation),template:sn(a.template),templateUrl:sn(a.templateUrl),htmlAst:null,styles:a.styles||[],styleUrls:a.styleUrls||[],animations:s||[],interpolation:sn(a.interpolation),isInline:!!a.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:sn(r.preserveWhitespaces)})}var o=null,u=[],c=[],l=r.selector;if(X.isTypeOf(r)){var h=r;o=h.changeDetection,h.viewProviders&&(u=this._getProvidersMetadata(h.viewProviders,c,'viewProviders for "'.concat(rv(e),'"'),[],e)),h.entryComponents&&(c=ev(h.entryComponents).map((function(e){return t._getEntryComponentMetadata(e)})).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())}else l||(l=null);var p=[];null!=r.providers&&(p=this._getProvidersMetadata(r.providers,c,'providers for "'.concat(rv(e),'"'),[],e));var v=[],f=[];null!=r.queries&&(v=this._getQueriesMetadata(r.queries,!1,e),f=this._getQueriesMetadata(r.queries,!0,e));var d=rr.create({isHost:!1,selector:l,exportAs:sn(r.exportAs),isComponent:!!i,type:this._getTypeMetadata(e),template:i,changeDetection:o,inputs:r.inputs||[],outputs:r.outputs||[],host:r.host||{},providers:p||[],viewProviders:u||[],queries:v||[],guards:r.guards||{},viewQueries:f||[],entryComponents:c,componentViewType:i?this.getComponentViewClass(e):null,rendererType:i?this.getRendererType(e):null,componentFactory:null});return i&&(d.componentFactory=this.getComponentFactory(l,e,d.inputs,d.outputs)),n={metadata:d,annotation:r},this._nonNormalizedDirectiveCache.set(e,n),n}},{key:"getDirectiveMetadata",value:function(e){var t=this._directiveCache.get(e);return t||this._reportError(pn("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ".concat(rv(e),".")),e),t}},{key:"getDirectiveSummary",value:function(e){var t=this._loadSummary(e,zn.Directive);return t||this._reportError(pn("Illegal state: Could not load the summary for directive ".concat(rv(e),".")),e),t}},{key:"isDirective",value:function(e){return!!this._loadSummary(e,zn.Directive)||this._directiveResolver.isDirective(e)}},{key:"isAbstractDirective",value:function(e){var t=this._loadSummary(e,zn.Directive);if(t&&!t.isComponent)return!t.selector;var n=this._directiveResolver.resolve(e,!1);return!(!n||X.isTypeOf(n))&&!n.selector}},{key:"isPipe",value:function(e){return!!this._loadSummary(e,zn.Pipe)||this._pipeResolver.isPipe(e)}},{key:"isNgModule",value:function(e){return!!this._loadSummary(e,zn.NgModule)||this._ngModuleResolver.isNgModule(e)}},{key:"getNgModuleSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadSummary(e,zn.NgModule);if(!n){var r=this.getNgModuleMetadata(e,!1,t);(n=r?r.toSummary():null)&&this._summaryCache.set(e,n)}return n}},{key:"loadNgModuleDirectiveAndPipeMetadata",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getNgModuleMetadata(e,r),a=[];return i&&(i.declaredDirectives.forEach((function(r){var i=n.loadDirectiveMetadata(e,r.reference,t);i&&a.push(i)})),i.declaredPipes.forEach((function(e){return n._loadPipeMetadata(e.reference)}))),Promise.all(a)}},{key:"getShallowModuleMetadata",value:function(e){var t=this._shallowModuleCache.get(e);if(t)return t;var n=tp(this._reflector.shallowAnnotations(e),ee.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}},{key:"getNgModuleMetadata",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=_n(e);var i=this._ngModuleCache.get(e);if(i)return i;var a=this._ngModuleResolver.resolve(e,n);if(!a)return null;var s=[],o=[],u=[],c=[],l=[],h=[],p=[],v=[],f=[];a.imports&&ev(a.imports).forEach((function(n){var i=void 0;if(tv(n))i=n;else if(n&&n.ngModule){var a=n;i=a.ngModule,a.providers&&h.push.apply(h,Object(m.a)(t._getProvidersMetadata(a.providers,p,"provider for the NgModule '".concat(rv(i),"'"),[],n)))}if(!i)return t._reportError(pn("Unexpected value '".concat(rv(n),"' imported by the module '").concat(rv(e),"'")),e),void 0;if(!t._checkSelfImport(e,i)){if(r||(r=new Set),r.has(i))return t._reportError(pn("".concat(t._getTypeDescriptor(i)," '").concat(rv(n),"' is imported recursively by the module '").concat(rv(e),"'.")),e),void 0;r.add(i);var s=t.getNgModuleSummary(i,r);if(r.delete(i),!s)return t._reportError(pn("Unexpected ".concat(t._getTypeDescriptor(n)," '").concat(rv(n),"' imported by the module '").concat(rv(e),"'. Please add a @NgModule annotation.")),e),void 0;c.push(s)}})),a.exports&&ev(a.exports).forEach((function(n){if(!tv(n))return t._reportError(pn("Unexpected value '".concat(rv(n),"' exported by the module '").concat(rv(e),"'")),e),void 0;if(r||(r=new Set),r.has(n))return t._reportError(pn("".concat(t._getTypeDescriptor(n)," '").concat(kn(n),"' is exported recursively by the module '").concat(rv(e),"'")),e),void 0;r.add(n);var i=t.getNgModuleSummary(n,r);r.delete(n),i?l.push(i):o.push(t._getIdentifierMetadata(n))}));var d=this._getTransitiveNgModuleMetadata(c,l);a.declarations&&ev(a.declarations).forEach((function(n){if(!tv(n))return t._reportError(pn("Unexpected value '".concat(rv(n),"' declared by the module '").concat(rv(e),"'")),e),void 0;var r=t._getIdentifierMetadata(n);if(t.isDirective(n))t.isAbstractDirective(n)&&t._reportError(pn("Directive ".concat(rv(n)," has no selector, please add it!")),n),d.addDirective(r),s.push(r),t._addTypeToModule(n,e);else{if(!t.isPipe(n))return t._reportError(pn("Unexpected ".concat(t._getTypeDescriptor(n)," '").concat(rv(n),"' declared by the module '").concat(rv(e),"'. Please add a @Pipe/@Directive/@Component annotation.")),e),void 0;d.addPipe(r),d.pipes.push(r),u.push(r),t._addTypeToModule(n,e)}}));var y=[],g=[];return o.forEach((function(n){if(d.directivesSet.has(n.reference))y.push(n),d.addExportedDirective(n);else{if(!d.pipesSet.has(n.reference))return t._reportError(pn("Can't export ".concat(t._getTypeDescriptor(n.reference)," ").concat(rv(n.reference)," from ").concat(rv(e)," as it was neither declared nor imported!")),e),void 0;g.push(n),d.addExportedPipe(n)}})),a.providers&&h.push.apply(h,Object(m.a)(this._getProvidersMetadata(a.providers,p,"provider for the NgModule '".concat(rv(e),"'"),[],e))),a.entryComponents&&p.push.apply(p,Object(m.a)(ev(a.entryComponents).map((function(e){return t._getEntryComponentMetadata(e)})))),a.bootstrap&&ev(a.bootstrap).forEach((function(n){if(!tv(n))return t._reportError(pn("Unexpected value '".concat(rv(n),"' used in the bootstrap property of module '").concat(rv(e),"'")),e),void 0;v.push(t._getIdentifierMetadata(n))})),p.push.apply(p,Object(m.a)(v.map((function(e){return t._getEntryComponentMetadata(e.reference)})))),a.schemas&&f.push.apply(f,Object(m.a)(ev(a.schemas))),i=new sr({type:this._getTypeMetadata(e),providers:h,entryComponents:p,bootstrapComponents:v,schemas:f,declaredDirectives:s,exportedDirectives:y,declaredPipes:u,exportedPipes:g,importedModules:c,exportedModules:l,transitiveModule:d,id:a.id||null}),p.forEach((function(e){return d.addEntryComponent(e)})),h.forEach((function(e){return d.addProvider(e,i.type)})),d.addModule(i.type),this._ngModuleCache.set(e,i),i}},{key:"_checkSelfImport",value:function(e,t){return e===t&&(this._reportError(pn("'".concat(rv(e),"' module can't import itself")),e),!0)}},{key:"_getTypeDescriptor",value:function(e){if(tv(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}},{key:"_addTypeToModule",value:function(e,t){var n=this._ngModuleOfTypes.get(e);if(n&&n!==t)return this._reportError(pn("Type ".concat(rv(e)," is part of the declarations of 2 modules: ").concat(rv(n)," and ").concat(rv(t),"! ")+"Please consider moving ".concat(rv(e)," to a higher module that imports ").concat(rv(n)," and ").concat(rv(t),". ")+"You can also create a new NgModule that exports and includes ".concat(rv(e)," then import that NgModule in ").concat(rv(n)," and ").concat(rv(t),".")),t),void 0;this._ngModuleOfTypes.set(e,t)}},{key:"_getTransitiveNgModuleMetadata",value:function(e,t){var n=new or,r=new Map;return e.concat(t).forEach((function(e){e.modules.forEach((function(e){return n.addModule(e)})),e.entryComponents.forEach((function(e){return n.addEntryComponent(e)}));var t=new Set;e.providers.forEach((function(e){var i=er(e.provider.token),a=r.get(i);a||(a=new Set,r.set(i,a));var s=e.module.reference;!t.has(i)&&a.has(s)||(a.add(s),t.add(i),n.addProvider(e.provider,e.module))}))})),t.forEach((function(e){e.exportedDirectives.forEach((function(e){return n.addExportedDirective(e)})),e.exportedPipes.forEach((function(e){return n.addExportedPipe(e)}))})),e.forEach((function(e){e.exportedDirectives.forEach((function(e){return n.addDirective(e)})),e.exportedPipes.forEach((function(e){return n.addPipe(e)}))})),n}},{key:"_getIdentifierMetadata",value:function(e){return{reference:e=_n(e)}}},{key:"isInjectable",value:function(e){return this._reflector.tryAnnotations(e).some((function(e){return te.isTypeOf(e)}))}},{key:"getInjectableSummary",value:function(e){return{summaryKind:zn.Injectable,type:this._getTypeMetadata(e,null,!1)}}},{key:"getInjectableMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._loadSummary(e,zn.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),a=this._reflector.annotations(e).filter((function(e){return te.isTypeOf(e)}));if(0===a.length)return null;var s=a[a.length-1];return{symbol:e,type:i,providedIn:s.providedIn,useValue:s.useValue,useClass:s.useClass,useExisting:s.useExisting,useFactory:s.useFactory,deps:s.deps}}},{key:"_getTypeMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._getIdentifierMetadata(e);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,t,n),lifecycleHooks:Yp(this._reflector,r.reference)}}},{key:"_getFactoryMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{reference:e=_n(e),diDeps:this._getDependenciesMetadata(e,t)}}},{key:"getPipeMetadata",value:function(e){var t=this._pipeCache.get(e);return t||this._reportError(pn("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ".concat(rv(e),".")),e),t||null}},{key:"getPipeSummary",value:function(e){var t=this._loadSummary(e,zn.Pipe);return t||this._reportError(pn("Illegal state: Could not load the summary for pipe ".concat(rv(e),".")),e),t}},{key:"getOrLoadPipeMetadata",value:function(e){var t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}},{key:"_loadPipeMetadata",value:function(e){e=_n(e);var t=this._pipeResolver.resolve(e),n=new ir({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}},{key:"_getDependenciesMetadata",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!1,a=t||this._reflector.parameters(e)||[],s=a.map((function(e){var t=!1,r=!1,a=!1,s=!1,o=!1,u=null;return Array.isArray(e)?e.forEach((function(e){oe.isTypeOf(e)?r=!0:ae.isTypeOf(e)?a=!0:se.isTypeOf(e)?s=!0:ie.isTypeOf(e)?o=!0:V.isTypeOf(e)?(t=!0,u=e.attributeName):L.isTypeOf(e)?u=e.token:(B.isTypeOf(e)||e instanceof Un||tv(e)&&null==u)&&(u=e)})):u=e,null==u?(i=!0,{}):{isAttribute:t,isHost:r,isSelf:a,isSkipSelf:s,isOptional:o,token:n._getTokenMetadata(u)}}));if(i){var o=s.map((function(e){return e.token?rv(e.token):"?"})).join(", "),u="Can't resolve all parameters for ".concat(rv(e),": (").concat(o,").");(r||this._config.strictInjectionParameters)&&this._reportError(pn(u),e)}return s}},{key:"_getTokenMetadata",value:function(e){return"string"==typeof(e=_n(e))?{value:e}:{identifier:{reference:e}}}},{key:"_getProvidersMetadata",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0;return e.forEach((function(s,o){if(Array.isArray(s))r._getProvidersMetadata(s,t,n,i);else{var u=void 0;if((s=_n(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))r._validateProvider(s),u=new cr(s.provide,s);else{if(!tv(s)){if(void 0===s)return r._reportError(pn("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files.")),void 0;var c=e.reduce((function(e,t,n){return n<o?e.push("".concat(rv(t))):n==o?e.push("?".concat(rv(t),"?")):n==o+1&&e.push("..."),e}),[]).join(", ");return r._reportError(pn("Invalid ".concat(n||"provider"," - only instances of Provider and Type are allowed, got: [").concat(c,"]")),a),void 0}u=new cr(s,{useClass:s})}u.token===r._reflector.resolveExternalReference(Ln.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push.apply(t,Object(m.a)(r._getEntryComponentsFromProvider(u,a))):i.push(r.getProviderMetadata(u))}})),i}},{key:"_validateProvider",value:function(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(pn("Invalid provider for ".concat(rv(e.provide),". useClass cannot be ").concat(e.useClass,".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.")))}},{key:"_getEntryComponentsFromProvider",value:function(e,t){var n,r,i=this,a=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(pn("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(n=e.useValue,r=s,void rn(n,new nv,r),s.forEach((function(e){var t=i._getEntryComponentMetadata(e.reference,!1);t&&a.push(t)})),a):(this._reportError(pn("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[])}},{key:"_getEntryComponentMetadata",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};var r=this._loadSummary(e,zn.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw pn("".concat(e.name," cannot be used as an entry component."));return null}},{key:"_getInjectableTypeMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadSummary(e,zn.Injectable);return n?n.type:this._getTypeMetadata(e,t)}},{key:"getProviderMetadata",value:function(e){var t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(t=(r=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}},{key:"_getQueriesMetadata",value:function(e,t,n){var r=this,i=[];return Object.keys(e).forEach((function(a){var s=e[a];s.isViewQuery===t&&i.push(r._getQueryMetadata(s,a,n))})),i}},{key:"_queryVarBindings",value:function(e){return e.split(/\s*,\s*/)}},{key:"_getQueryMetadata",value:function(e,t,n){var r,i=this;return"string"==typeof e.selector?r=this._queryVarBindings(e.selector).map((function(e){return i._getTokenMetadata(e)})):e.selector?r=[this._getTokenMetadata(e.selector)]:(this._reportError(pn("Can't construct a query for the property \"".concat(t,'" of "').concat(rv(n),"\" since the query selector wasn't defined.")),n),r=[]),{selectors:r,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}}},{key:"_reportError",value:function(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}]),e}();function ev(e){return(t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t)for(var r=0;r<t.length;r++){var i=_n(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(t)):[];var t}function tv(e){return e instanceof Un||e instanceof ue}var nv=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"visitOther",value:function(e,t){t.push({reference:e})}}]),n}(on);function rv(e){return e instanceof Un?"".concat(e.name," in ").concat(e.filePath):kn(e)}function iv(e,t){var n=0;t.eager||(n|=4096),t.providerType===Cu.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach((function(e){e!==zp.OnDestroy&&t.providerType!==Cu.Directive&&t.providerType!==Cu.Component||(n|=uv(e))}));var r=t.multiProvider?function(e,t,n){var r=[],i=[],a=n.map((function(t,n){var r;if(t.useClass){var i=s(n,t.deps||t.useClass.diDeps);r=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){var a=s(n,t.deps||t.useFactory.diDeps);r=e.importExpr(t.useFactory.reference).callFn(a)}else if(t.useExisting){r=s(n,[{token:t.useExisting}])[0]}else r=Tp(e,t.useValue);return r}));return{providerExpr:Gt(i,[new Et(Qt(a))],Se),flags:1024|t,depsExpr:Qt(r)};function s(t,n){return n.map((function(n,a){var s="p".concat(t,"_").concat(a);return i.push(new it(s,Ee)),r.push(ov(e,n)),Ht(s)}))}}(e,n,t.providers):av(e,n,t.providerType,t.providers[0]);return{providerExpr:r.providerExpr,flags:r.flags,depsExpr:r.depsExpr,tokenExpr:sv(e,t.token)}}function av(e,t,n,r){var i,a;return n===Cu.Directive||n===Cu.Component?(i=e.importExpr(r.useClass.reference),t|=16384,a=r.deps||r.useClass.diDeps):r.useClass?(i=e.importExpr(r.useClass.reference),t|=512,a=r.deps||r.useClass.diDeps):r.useFactory?(i=e.importExpr(r.useFactory.reference),t|=1024,a=r.deps||r.useFactory.diDeps):r.useExisting?(i=ft,t|=2048,a=[{token:r.useExisting}]):(i=Tp(e,r.useValue),t|=256,a=[]),{providerExpr:i,flags:t,depsExpr:Qt(a.map((function(t){return ov(e,t)})))}}function sv(e,t){return t.identifier?e.importExpr(t.identifier.reference):Yt(t.value)}function ov(e,t){var n=t.isValue?Tp(e,t.value):sv(e,t.token),r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:Qt([Yt(r),n])}function uv(e){var t=0;switch(e){case zp.AfterContentChecked:t=2097152;break;case zp.AfterContentInit:t=1048576;break;case zp.AfterViewChecked:t=8388608;break;case zp.AfterViewInit:t=4194304;break;case zp.DoCheck:t=262144;break;case zp.OnChanges:t=524288;break;case zp.OnDestroy:t=131072;break;case zp.OnInit:t=65536}return t}function cv(e,t,n,r){var i=r.map((function(e){return t.importExpr(e.componentFactory)})),a=Vn(e,Ln.ComponentFactoryResolver),s={diDeps:[{isValue:!0,value:Qt(i)},{token:a,isSkipSelf:!0,isOptional:!0},{token:Vn(e,Ln.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(Ln.CodegenComponentFactoryResolver)},o=av(t,n,Cu.PrivateService,{token:a,multi:!1,useClass:s});return{providerExpr:o.providerExpr,flags:o.flags,depsExpr:o.depsExpr,tokenExpr:sv(t,a)}}var lv=function e(t){Object(y.a)(this,e),this.ngModuleFactoryVar=t},hv=Ht("_l"),pv=function(){function e(t){Object(y.a)(this,e),this.reflector=t}return Object(g.a)(e,[{key:"compile",value:function(e,t,n){var r=Ir("NgModule",t.type),i=t.transitiveModule.entryComponents,a=t.bootstrapComponents,s=new Qu(this.reflector,t,n,r),o=[cv(this.reflector,e,0,i)].concat(s.parse().map((function(t){return iv(e,t)}))).map((function(e){var t=e.providerExpr,n=e.depsExpr,r=e.flags,i=e.tokenExpr;return qt(Ln.moduleProviderDef).callFn([Yt(r),i,t,n])})),u=qt(Ln.moduleDef).callFn([Qt(o)]),c=Gt([new it(hv.name)],[new Et(u)],Se),l="".concat(Qn(t.type),"NgFactory");if(this._createNgModuleFactory(e,t.type.reference,qt(Ln.createModuleFactory).callFn([e.importExpr(t.type.reference),Qt(a.map((function(t){return e.importExpr(t.reference)}))),c])),t.id){var h="string"==typeof t.id?Yt(t.id):e.importExpr(t.id),p=qt(Ln.RegisterModuleFactoryFn).callFn([h,Ht(l)]).toStmt();e.statements.push(p)}return new lv(l)}},{key:"createStub",value:function(e,t){this._createNgModuleFactory(e,t,ft)}},{key:"_createNgModuleFactory",value:function(e,t,n){var r=Ht("".concat(Qn({reference:t}),"NgFactory")).set(n).toDeclStmt(Wt(Ln.NgModuleFactory,[zt(e.importExpr(t))],[pe.Const]),[Ye.Final,Ye.Exported]);e.statements.push(r)}}]),e}(),vv=function(){function e(t){Object(y.a)(this,e),this._reflector=t}return Object(g.a)(e,[{key:"isNgModule",value:function(e){return this._reflector.annotations(e).some(ee.isTypeOf)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=tp(this._reflector.annotations(e),ee.isTypeOf);if(n)return n;if(t)throw new Error("No NgModule metadata found for '".concat(kn(e),"'."));return null}}]),e}();function fv(e){var t=new mv,n=Ba.createRoot();return(Array.isArray(e)?e:[e]).forEach((function(e){if(e instanceof gt)e.visitStatement(t,n);else if(e instanceof Pe)e.visitExpression(t,n);else{if(!(e instanceof de))throw new Error("Don't know how to print debug info for ".concat(e));e.visitType(t,n)}})),n.toSource()}var dv=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"emitStatementsAndContext",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=new mv(i,a),o=Ba.createRoot();s.visitAllStatements(t,o);var u=n?n.split("\n"):[];s.reexports.forEach((function(e,t){var n=e.map((function(e){return"".concat(e.name," as ").concat(e.as)})).join(",");u.push("export {".concat(n,"} from '").concat(t,"';"))})),s.importsWithPrefixes.forEach((function(e,t){u.push("imp"+"ort * as ".concat(e," from '").concat(t,"';"))}));var c=r?o.toSourceMapGenerator(e,u.length).toJsComment():"",l=[].concat(Object(m.a)(u),[o.toSource(),c]);return c&&l.push(""),o.setPreambleLineCount(u.length),{sourceText:l.join("\n"),context:o}}},{key:"emitStatements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.emitStatementsAndContext(e,t,n).sourceText}}]),e}(),mv=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this,!1)).referenceFilter=e,i.importFilter=r,i.typeExpression=0,i.importsWithPrefixes=new Map,i.reexports=new Map,i}return Object(g.a)(n,[{key:"visitType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"any";e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}},{key:"visitLiteralExpr",value:function(e,t){var r=e.value;return null==r&&e.type!=Se?(t.print(e,"(".concat(r," as any)")),null):Object(p.a)(Object(v.a)(n.prototype),"visitLiteralExpr",this).call(this,e,t)}},{key:"visitLiteralArrayExpr",value:function(e,t){0===e.entries.length&&t.print(e,"(");var r=Object(p.a)(Object(v.a)(n.prototype),"visitLiteralArrayExpr",this).call(this,e,t);return 0===e.entries.length&&t.print(e," as any[])"),r}},{key:"visitExternalExpr",value:function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}},{key:"visitAssertNotNullExpr",value:function(e,t){var r=Object(p.a)(Object(v.a)(n.prototype),"visitAssertNotNullExpr",this).call(this,e,t);return t.print(e,"!"),r}},{key:"visitDeclareVarStmt",value:function(e,t){if(e.hasModifier(Ye.Exported)&&e.value instanceof Je&&!e.type){var n=e.value.value,r=n.name,i=n.moduleName;if(i){var a=this.reexports.get(i);return a||(a=[],this.reexports.set(i,a)),a.push({name:r,as:e.name}),null}}return e.hasModifier(Ye.Exported)&&t.print(e,"export "),e.hasModifier(Ye.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e," ".concat(e.name)),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}},{key:"visitCastExpr",value:function(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}},{key:"visitInstantiateExpr",value:function(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return t.pushClass(e),e.hasModifier(Ye.Exported)&&t.print(e,"export "),t.print(e,"class ".concat(e.name)),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach((function(e){return n._visitClassField(e,t)})),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach((function(e){return n._visitClassGetter(e,t)})),e.methods.forEach((function(e){return n._visitClassMethod(e,t)})),t.decIndent(),t.println(e,"}"),t.popClass(),null}},{key:"_visitClassField",value:function(e,t){e.hasModifier(Ye.Private)&&t.print(null,"/*private*/ "),e.hasModifier(Ye.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}},{key:"_visitClassGetter",value:function(e,t){e.hasModifier(Ye.Private)&&t.print(null,"private "),t.print(null,"get ".concat(e.name,"()")),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}},{key:"_visitClassConstructor",value:function(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}},{key:"_visitClassMethod",value:function(e,t){e.hasModifier(Ye.Private)&&t.print(null,"private "),t.print(null,"".concat(e.name,"(")),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}},{key:"visitFunctionExpr",value:function(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}},{key:"visitDeclareFunctionStmt",value:function(e,t){return e.hasModifier(Ye.Exported)&&t.print(e,"export "),t.print(e,"function ".concat(e.name,"(")),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitTryCatchStmt",value:function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch (".concat(Da.name,") {")),t.incIndent();var n=[Fa.set(Da.prop("stack",null)).toDeclStmt(null,[Ye.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitBuiltinType",value:function(e,t){var n;switch(e.name){case fe.Bool:n="boolean";break;case fe.Dynamic:n="any";break;case fe.Function:n="Function";break;case fe.Number:case fe.Int:n="number";break;case fe.String:n="string";break;case fe.None:n="never";break;default:throw new Error("Unsupported builtin type ".concat(e.name))}return t.print(null,n),null}},{key:"visitExpressionType",value:function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects((function(e){return n.visitType(e,t)}),e.typeParams,t,","),t.print(null,">")),null}},{key:"visitArrayType",value:function(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}},{key:"visitMapType",value:function(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}},{key:"getBuiltinMethodName",value:function(e){var t;switch(e){case Me.ConcatArray:t="concat";break;case Me.SubscribeObservable:t="subscribe";break;case Me.Bind:t="bind";break;default:throw new Error("Unknown builtin method: ".concat(e))}return t}},{key:"_visitParams",value:function(e,t){var n=this;this.visitAllObjects((function(e){t.print(null,e.name),n._printColonType(e.type,t)}),e,t,",")}},{key:"_visitIdentifier",value:function(e,t,n){var r=this,i=e.name,a=e.moduleName;if(this.referenceFilter&&this.referenceFilter(e))return n.print(null,"(null as any)"),void 0;if(a&&(!this.importFilter||!this.importFilter(e))){var s=this.importsWithPrefixes.get(a);null==s&&(s="i".concat(this.importsWithPrefixes.size),this.importsWithPrefixes.set(a,s)),n.print(null,"".concat(s,"."))}(n.print(null,i),this.typeExpression>0)&&((t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects((function(e){return e.visitType(r,n)}),t,n,","),n.print(null,">")))}},{key:"_printColonType",value:function(e,t,n){e!==Se&&(t.print(null,":"),this.visitType(e,t,n))}}]),n}(Va),yv=function(){function e(t){Object(y.a)(this,e),this._reflector=t}return Object(g.a)(e,[{key:"isPipe",value:function(e){var t=this._reflector.annotations(_n(e));return t&&t.some(G.isTypeOf)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._reflector.annotations(_n(e));if(n){var r=tp(n,G.isTypeOf);if(r)return r}if(t)throw new Error("No Pipe decorator found on ".concat(kn(e)));return null}}]),e}(),gv=function(){function e(t,n){Object(y.a)(this,e),this.options=t,this.reflector=n}return Object(g.a)(e,[{key:"compileComponent",value:function(e,t,n,r,i,a){var s=this,o=new Map;r.forEach((function(e){return o.set(e.name,e.type.reference)}));var u=0,c=function e(n,r){var c=u++;return new kv(s.options,s.reflector,i,n,t.type.reference,t.isHost,c,o,r,a,e)}(null,[]);return c.visitAll([],n),c.build(e)}}]),e}(),bv=new(function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){return e===Fs.event.name?Ht("_any"):null}}]),e}()),kv=function(){function e(t,n,r,i,a,s,o,u,c,l,h){Object(y.a)(this,e),this.options=t,this.reflector=n,this.externalReferenceVars=r,this.parent=i,this.component=a,this.isHostComponent=s,this.embeddedViewIndex=o,this.pipes=u,this.guards=c,this.ctx=l,this.viewBuilderFactory=h,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}return Object(g.a)(e,[{key:"getOutputVar",value:function(e){var t;if(!(t=e===this.component&&this.isHostComponent?"_any":e instanceof Un?this.externalReferenceVars.get(e):"_any"))throw new Error("Illegal State: referring to a type without a variable ".concat(JSON.stringify(e)));return t}},{key:"getTypeGuardExpressions",value:function(e){var t,n=Object(m.a)(this.guards),r=Object(h.a)(e.directives);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,s=Object(h.a)(a.inputs);try{for(s.s();!(i=s.n()).done;){var o=i.value,u=a.directive.guards[o.directiveName];if(u){var c="UseIf"===u;n.push({guard:u,useIf:c,expression:{context:this.component,value:o.value,sourceSpan:o.sourceSpan}})}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}return n}},{key:"visitAll",value:function(e,t){this.variables=e,qu(this,t)}},{key:"build",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.children.forEach((function(t){return t.build(e,n)}));var r=[Ht("_any").set(ft).toDeclStmt(Ee)],i=0;if(this.updates.forEach((function(e){var n,a=t.preprocessUpdateExpression(e),s=a.sourceSpan,o=a.context,u=a.value,c="".concat(i++),l=Ws(o===t.component?t:bv,Ht(t.getOutputVar(o)),u,c,Us.General),h=l.stmts,p=l.currValExpr;h.push(new _t(p)),(n=r).push.apply(n,Object(m.a)(h.map((function(e){return Ft(e,s)}))))})),this.actions.forEach((function(e){var n,a=e.sourceSpan,s=e.context,o=e.value,u="".concat(i++),c=Bs(s===t.component?t:bv,Ht(t.getOutputVar(s)),o,u).stmts;(n=r).push.apply(n,Object(m.a)(c.map((function(e){return Ft(e,a)}))))})),this.guards.length){var a,s=void 0,o=Object(h.a)(this.guards);try{for(o.s();!(a=o.n()).done;){var u=a.value,c=this.preprocessUpdateExpression(u.expression),l=c.context,p=c.value,v="".concat(i++),f=l===this.component?this:bv,d=Ws(f,Ht(this.getOutputVar(l)),p,v,Us.TrySimple),y=d.stmts,g=d.currValExpr;if(0==y.length){var b=u.useIf?g:this.ctx.importExpr(u.guard).callFn([g]);s=s?s.and(b):b}}}catch(E){o.e(E)}finally{o.f()}s&&(r=[new Tt(s,r)])}var k="_View_".concat(e,"_").concat(this.embeddedViewIndex),_=new kt(k,[],r);return n.push(_),n}},{key:"visitBoundText",value:function(e,t){var n=this;e.value.ast.expressions.forEach((function(t){return n.updates.push({context:n.component,value:t,sourceSpan:e.sourceSpan})}))}},{key:"visitEmbeddedTemplate",value:function(e,t){if(this.visitElementOrTemplate(e),this.options.fullTemplateTypeCheck){var n=this.getTypeGuardExpressions(e),r=this.viewBuilderFactory(this,n);this.children.push(r),r.visitAll(e.variables,e.children)}}},{key:"visitElement",value:function(e,t){var n=this;this.visitElementOrTemplate(e);e.inputs.forEach((function(e){n.updates.push({context:n.component,value:e.value,sourceSpan:e.sourceSpan})})),qu(this,e.children)}},{key:"visitElementOrTemplate",value:function(e){var t=this;e.directives.forEach((function(e){t.visitDirective(e)})),e.references.forEach((function(e){var n=null;n=e.value&&e.value.identifier&&t.options.fullTemplateTypeCheck?e.value.identifier.reference:fe.Dynamic,t.refOutputVars.set(e.name,n)})),e.outputs.forEach((function(e){t.actions.push({context:t.component,value:e.handler,sourceSpan:e.sourceSpan})}))}},{key:"visitDirective",value:function(e){var t=this,n=e.directive.type.reference;e.inputs.forEach((function(e){return t.updates.push({context:t.component,value:e.value,sourceSpan:e.sourceSpan})})),this.options.fullTemplateTypeCheck&&(e.hostProperties.forEach((function(e){return t.updates.push({context:n,value:e.value,sourceSpan:e.sourceSpan})})),e.hostEvents.forEach((function(e){return t.actions.push({context:n,value:e.handler,sourceSpan:e.sourceSpan})})))}},{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){if(e==Fs.event.name)return Ht(this.getOutputVar(fe.Dynamic));for(var t=this;t;t=t.parent){var n=void 0;if(null==(n=t.refOutputVars.get(e)))t.variables.find((function(t){return t.name===e}))&&(n=fe.Dynamic);if(null!=n)return Ht(this.getOutputVar(n))}return null}},{key:"pipeOutputVar",value:function(e){var t=this.pipes.get(e);if(!t)throw new Error("Illegal State: Could not find pipe ".concat(e," in template of ").concat(this.component));return this.getOutputVar(t)}},{key:"preprocessUpdateExpression",value:function(e){var t=this;return{sourceSpan:e.sourceSpan,context:e.context,value:Vs({createLiteralArrayConverter:function(e){return function(e){var n=Qt(e);return t.options.fullTemplateTypeCheck?n:n.cast(Ee)}},createLiteralMapConverter:function(e){return function(n){var r=Xt(e.map((function(e,t){return{key:e.key,value:n[t],quoted:e.quoted}})));return t.options.fullTemplateTypeCheck?r:r.cast(Ee)}},createPipeConverter:function(e,n){return function(n){return(t.options.fullTemplateTypeCheck?Ht(t.pipeOutputVar(e)):Ht(t.getOutputVar(fe.Dynamic))).callMethod("transform",n)}}},e.value)}}},{key:"visitNgContent",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}}]),e}(),_v=function e(t,n){Object(y.a)(this,e),this.viewClassVar=t,this.rendererTypeVar=n},Ev=function(){function e(t){Object(y.a)(this,e),this._reflector=t}return Object(g.a)(e,[{key:"compileComponent",value:function(e,t,n,r,i){var a,s=this,o=0,u=void 0;if(!t.isHost){var c=t.template,l=[];c.animations&&c.animations.length&&l.push(new ht("animation",Tp(e,c.animations),!0));var h=Ht($n(t.type.reference));u=h.name,e.statements.push(h.set(qt(Ln.createRendererType2).callFn([new pt([new ht("encapsulation",Yt(c.encapsulation),!1),new ht("styles",r,!1),new ht("data",new pt(l),!1)])])).toDeclStmt(Wt(Ln.RendererType2),[Ye.Final,Ye.Exported]))}var p=function n(r){var a=o++;return new jv(s._reflector,e,r,t,a,i,n)}(null);return p.visitAll([],n),(a=e.statements).push.apply(a,Object(m.a)(p.build())),new _v(p.viewName,u)}}]),e}(),Sv=Ht("_l"),xv=Ht("_v"),wv=Ht("_ck"),Cv=Ht("_co"),Ov=Ht("en"),Tv=Ht("ad"),jv=function(){function e(t,n,r,i,a,s,o){Object(y.a)(this,e),this.reflector=t,this.outputCtx=n,this.parent=r,this.component=i,this.embeddedViewIndex=a,this.usedPipes=s,this.viewBuilderFactory=o,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?Ee:zt(n.importExpr(this.component.type.reference)),this.viewName=Gn(this.component.type.reference,this.embeddedViewIndex)}return Object(g.a)(e,[{key:"visitAll",value:function(e,t){var n=this;this.variables=e,this.parent||this.usedPipes.forEach((function(e){e.pure&&(n.purePipeNodeIndices[e.name]=n._createPipe(null,e))})),this.parent||this.component.viewQueries.forEach((function(e,t){var r=t+1,i=e.first?0:1,a=134217728|Iv(e);n.nodes.push((function(){return{sourceSpan:null,nodeFlags:a,nodeDef:qt(Ln.queryDef).callFn([Yt(a),Yt(r),new pt([new ht(e.propertyName,Yt(i),!1)])])}}))})),qu(this,t),this.parent&&(0===t.length||function e(t){var n=t[t.length-1];if(n instanceof Du)return n.hasViewContainer;if(n instanceof Ru)return k(n.name)&&n.children.length?e(n.children):n.hasViewContainer;return n instanceof Vu}(t))&&this.nodes.push((function(){return{sourceSpan:null,nodeFlags:1,nodeDef:qt(Ln.anchorDef).callFn([Yt(0),ft,ft,Yt(0)])}}))}},{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.children.forEach((function(t){return t.build(e)}));var t=this._createNodeExpressions(),n=t.updateRendererStmts,r=t.updateDirectivesStmts,i=t.nodeDefExprs,a=this._createUpdateFn(n),s=this._createUpdateFn(r),o=0;this.parent||this.component.changeDetection!==M.OnPush||(o|=2);var u=new kt(this.viewName,[new it(Sv.name)],[new Et(qt(Ln.viewDef).callFn([Yt(o),Qt(i),s,a]))],Wt(Ln.ViewDefinition),0===this.embeddedViewIndex?[Ye.Exported]:[]);return e.push(u),e}},{key:"_createUpdateFn",value:function(e){var t;if(e.length>0){var n=[];!this.component.isHost&&At(e).has(Cv.name)&&n.push(Cv.set(xv.prop("component")).toDeclStmt(this.compType)),t=Gt([new it(wv.name,Se),new it(xv.name,Se)],[].concat(n,Object(m.a)(e)),Se)}else t=ft;return t}},{key:"visitNgContent",value:function(e,t){this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:qt(Ln.ngContentDef).callFn([Yt(e.ngContentIndex),Yt(e.index)])}}))}},{key:"visitText",value:function(e,t){this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:qt(Ln.textDef).callFn([Yt(-1),Yt(e.ngContentIndex),Qt([Yt(e.value)])])}}))}},{key:"visitBoundText",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=e.value.ast,a=i.expressions.map((function(t,i){return n._preprocessUpdateExpression({nodeIndex:r,bindingIndex:i,sourceSpan:e.sourceSpan,context:Cv,value:t})})),s=r;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:qt(Ln.textDef).callFn([Yt(s),Yt(e.ngContentIndex),Qt(i.strings.map((function(e){return Yt(e)})))]),updateRenderer:a}}}},{key:"visitEmbeddedTemplate",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,e),a=i.flags,s=i.queryMatchesExpr,o=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(e.variables,e.children);var c=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|a,nodeDef:qt(Ln.anchorDef).callFn([Yt(a),s,Yt(e.ngContentIndex),Yt(c),n._createElementHandleEventFn(r,o),Ht(u.viewName)])}}}},{key:"visitElement",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=k(e.name)?null:e.name,a=this._visitElementOrTemplate(r,e),s=a.flags,o=a.usedEvents,u=a.queryMatchesExpr,l=a.hostBindings,h=a.hostEvents,p=[],v=[],f=[];if(i){var d=e.inputs.map((function(e){return{context:Cv,inputAst:e,dirAst:null}})).concat(l);d.length&&(v=d.map((function(e,t){return n._preprocessUpdateExpression({context:e.context,nodeIndex:r,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})})),p=d.map((function(e){return function(e,t){var n=e.type;switch(n){case 1:return Qt([Yt(1),Yt(e.name),Yt(e.securityContext)]);case 0:return Qt([Yt(8),Yt(e.name),Yt(e.securityContext)]);case 4:return Qt([Yt(8|(t&&t.directive.isComponent?32:16)),Yt("@"+e.name),Yt(e.securityContext)]);case 2:return Qt([Yt(2),Yt(e.name),ft]);case 3:return Qt([Yt(4),Yt(e.name),Yt(e.unit)]);default:var r=n;throw new Error("unexpected ".concat(r))}}(e.inputAst,e.dirAst)}))),f=o.map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];return Qt([Yt(n),Yt(r)])}))}qu(this,e.children);var m=this.nodes.length-r-1,y=e.directives.find((function(e){return e.directive.isComponent})),g=ft,b=ft;y&&(b=this.outputCtx.importExpr(y.directive.componentViewType),g=this.outputCtx.importExpr(y.directive.rendererType));var _=r;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|s,nodeDef:qt(Ln.elementDef).callFn([Yt(_),Yt(s),u,Yt(e.ngContentIndex),Yt(m),Yt(i),i?Nv(e):ft,p.length?Qt(p):ft,f.length?Qt(f):ft,n._createElementHandleEventFn(r,h),b,g]),updateRenderer:v}}}},{key:"_visitElementOrTemplate",value:function(e,t){var n=this,r=0;t.hasViewContainer&&(r|=16777216);var i=new Map;t.outputs.forEach((function(e){var t=Av(e,null),n=t.name,r=t.target;i.set(Rv(r,n),[r,n])})),t.directives.forEach((function(e){e.hostEvents.forEach((function(t){var n=Av(t,e),r=n.name,a=n.target;i.set(Rv(a,r),[a,r])}))}));var a=[],s=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach((function(e){var r=void 0;if(t.directives.forEach((function(t){t.directive.type.reference===er(e.token)&&(r=t)})),r){var o=n._visitDirective(e,r,t.references,t.queryMatches,i),u=o.hostBindings,c=o.hostEvents;a.push.apply(a,Object(m.a)(u)),s.push.apply(s,Object(m.a)(c))}else n._visitProvider(e,t.queryMatches)}));var o=[];return t.queryMatches.forEach((function(e){var t=void 0;er(e.value)===n.reflector.resolveExternalReference(Ln.ElementRef)?t=0:er(e.value)===n.reflector.resolveExternalReference(Ln.ViewContainerRef)?t=3:er(e.value)===n.reflector.resolveExternalReference(Ln.TemplateRef)&&(t=2),null!=t&&o.push(Qt([Yt(e.queryId),Yt(t)]))})),t.references.forEach((function(t){var r=void 0;t.value?er(t.value)===n.reflector.resolveExternalReference(Ln.TemplateRef)&&(r=2):r=1,null!=r&&(n.refNodeIndices[t.name]=e,o.push(Qt([Yt(t.name),Yt(r)])))})),t.outputs.forEach((function(e){s.push({context:Cv,eventAst:e,dirAst:null})})),{flags:r,usedEvents:Array.from(i.values()),queryMatchesExpr:o.length?Qt(o):ft,hostBindings:a,hostEvents:s}}},{key:"_visitDirective",value:function(e,t,n,r,i){var a=this,s=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach((function(e,n){var r=t.contentQueryStartId+n,i=67108864|Iv(e),s=e.first?0:1;a.nodes.push((function(){return{sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:qt(Ln.queryDef).callFn([Yt(i),Yt(r),new pt([new ht(e.propertyName,Yt(s),!1)])])}}))}));var o=this.nodes.length-s-1,u=this._visitProviderOrDirective(e,r),c=u.flags,l=u.queryMatchExprs,h=u.providerExpr,p=u.depsExpr;n.forEach((function(t){t.value&&er(t.value)===er(e.token)&&(a.refNodeIndices[t.name]=s,l.push(Qt([Yt(t.name),Yt(4)])))})),t.directive.isComponent&&(c|=32768);var v=t.inputs.map((function(e,t){var n=Qt([Yt(t),Yt(e.directiveName)]);return new ht(e.directiveName,n,!1)})),f=[],d=t.directive;Object.keys(d.outputs).forEach((function(e){var t=d.outputs[e];i.has(t)&&f.push(new ht(e,Yt(t),!1))}));var m=[];(t.inputs.length||(327680&c)>0)&&(m=t.inputs.map((function(e,t){return a._preprocessUpdateExpression({nodeIndex:s,bindingIndex:t,sourceSpan:e.sourceSpan,context:Cv,value:e.value})})));var y=qt(Ln.nodeValue).callFn([xv,Yt(s)]),g=t.hostProperties.map((function(e){return{context:y,dirAst:t,inputAst:e}})),b=t.hostEvents.map((function(e){return{context:y,eventAst:e,dirAst:t}})),k=s;return this.nodes[s]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:16384|c,nodeDef:qt(Ln.directiveDef).callFn([Yt(k),Yt(c),l.length?Qt(l):ft,Yt(o),h,p,v.length?new pt(v):ft,f.length?new pt(f):ft]),updateDirectives:m,directive:t.directive.type}},{hostBindings:g,hostEvents:b}}},{key:"_visitProvider",value:function(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}},{key:"_visitComponentFactoryResolverProvider",value:function(e){var t=e.find((function(e){return e.directive.isComponent}));if(t&&t.directive.entryComponents.length){var n=cv(this.reflector,this.outputCtx,8192,t.directive.entryComponents),r=n.providerExpr,i=n.depsExpr,a=n.flags,s=n.tokenExpr;this._addProviderNode({providerExpr:r,depsExpr:i,flags:a,tokenExpr:s,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}},{key:"_addProviderNode",value:function(e){this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:qt(Ln.providerDef).callFn([Yt(e.flags),e.queryMatchExprs.length?Qt(e.queryMatchExprs):ft,e.tokenExpr,e.providerExpr,e.depsExpr])}}))}},{key:"_visitProviderOrDirective",value:function(e,t){var n=[];t.forEach((function(t){er(t.value)===er(e.token)&&n.push(Qt([Yt(t.queryId),Yt(4)]))}));var r=iv(this.outputCtx,e),i=r.providerExpr,a=r.depsExpr,s=r.flags,o=r.tokenExpr;return{flags:0|s,queryMatchExprs:n,providerExpr:i,depsExpr:a,tokenExpr:o,sourceSpan:e.sourceSpan}}},{key:"getLocal",value:function(e){if(e==Fs.event.name)return Fs.event;for(var t=xv,n=this;n;n=n.parent,t=t.prop("parent").cast(Ee)){var r=n.refNodeIndices[e];if(null!=r)return qt(Ln.nodeValue).callFn([t,Yt(r)]);var i=n.variables.find((function(t){return t.name===e}));if(i){var a=i.value||"$implicit";return t.prop("context").prop(a)}}return null}},{key:"notifyImplicitReceiverUse",value:function(){}},{key:"_createLiteralArrayConverter",value:function(e,t){if(0===t){var n=qt(Ln.EMPTY_ARRAY);return function(){return n}}var r=this.nodes.length;return this.nodes.push((function(){return{sourceSpan:e,nodeFlags:32,nodeDef:qt(Ln.pureArrayDef).callFn([Yt(r),Yt(t)])}})),function(e){return Pv(r,e)}}},{key:"_createLiteralMapConverter",value:function(e,t){if(0===t.length){var n=qt(Ln.EMPTY_MAP);return function(){return n}}var r=Xt(t.map((function(e,t){return Object.assign(Object.assign({},e),{value:Yt(t)})}))),i=this.nodes.length;return this.nodes.push((function(){return{sourceSpan:e,nodeFlags:64,nodeDef:qt(Ln.pureObjectDef).callFn([Yt(i),r])}})),function(e){return Pv(i,e)}}},{key:"_createPipeConverter",value:function(e,t,n){var r=this.usedPipes.find((function(e){return e.name===t}));if(r.pure){var i=this.nodes.length;this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:qt(Ln.purePipeDef).callFn([Yt(i),Yt(n)])}}));for(var a=xv,s=this;s.parent;)s=s.parent,a=a.prop("parent").cast(Ee);var o=s.purePipeNodeIndices[t],u=qt(Ln.nodeValue).callFn([a,Yt(o)]);return function(t){return Mv(e.nodeIndex,e.bindingIndex,Pv(i,[u].concat(t)))}}var c=this._createPipe(e.sourceSpan,r),l=qt(Ln.nodeValue).callFn([xv,Yt(c)]);return function(t){return Mv(e.nodeIndex,e.bindingIndex,l.callMethod("transform",t))}}},{key:"_createPipe",value:function(e,t){var n=this,r=this.nodes.length,i=0;t.type.lifecycleHooks.forEach((function(e){e===zp.OnDestroy&&(i|=uv(e))}));var a=t.type.diDeps.map((function(e){return ov(n.outputCtx,e)}));return this.nodes.push((function(){return{sourceSpan:e,nodeFlags:16,nodeDef:qt(Ln.pipeDef).callFn([Yt(i),n.outputCtx.importExpr(t.type.reference),Qt(a)])}})),r}},{key:"_preprocessUpdateExpression",value:function(e){var t=this;return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:Vs({createLiteralArrayConverter:function(n){return t._createLiteralArrayConverter(e.sourceSpan,n)},createLiteralMapConverter:function(n){return t._createLiteralMapConverter(e.sourceSpan,n)},createPipeConverter:function(n,r){return t._createPipeConverter(e,n,r)}},e.value)}}},{key:"_createNodeExpressions",value:function(){var e=this,t=0,n=[],r=[],i=this.nodes.map((function(e,t){var i=e(),s=i.nodeDef,o=i.nodeFlags,u=i.updateDirectives,c=i.updateRenderer,l=i.sourceSpan;return c&&n.push.apply(n,Object(m.a)(a(t,l,c,!1))),u&&r.push.apply(r,Object(m.a)(a(t,l,u,(327680&o)>0))),Lt(3&o?new vt([Sv.callFn([]).callFn([]),s]):s,l)}));return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function a(n,r,i,a){var s=[],o=i.map((function(n){var r=n.sourceSpan,i=n.context,a=n.value,o="".concat(t++),u=Ws(i===Cv?e:null,i,a,o,Us.General),c=u.stmts,l=u.currValExpr;return s.push.apply(s,Object(m.a)(c.map((function(e){return Ft(e,r)})))),Lt(l,r)}));return(i.length||a)&&s.push(Ft(Pv(n,o).toStmt(),r)),s}}},{key:"_createElementHandleEventFn",value:function(e,t){var n,r=this,i=[],a=0;if(t.forEach((function(e){var t=e.context,n=e.eventAst,s=e.dirAst,o="".concat(a++),u=Bs(t===Cv?r:null,t,n.handler,o),c=u.stmts,l=u.allowDefault,h=c;l&&h.push(Tv.set(l.and(Tv)).toStmt());var p=Av(n,s),v=Rv(p.target,p.name);i.push(Ft(new Tt(Yt(v).identical(Ov),h),n.sourceSpan))})),i.length>0){var s=[Tv.set(Yt(!0)).toDeclStmt(xe)];!this.component.isHost&&At(i).has(Cv.name)&&s.push(Cv.set(xv.prop("component")).toDeclStmt(this.compType)),n=Gt([new it(xv.name,Se),new it(Ov.name,Se),new it(Fs.event.name,Se)],[].concat(s,i,[new Et(Tv)]),Se)}else n=ft;return n}},{key:"visitDirective",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}}]),e}();function Nv(e){var t=Object.create(null);return e.attrs.forEach((function(e){t[e.name]=e.value})),e.directives.forEach((function(e){Object.keys(e.directive.hostAttributes).forEach((function(n){var r,i,a,s=e.directive.hostAttributes[n],o=t[n];t[n]=null!=o?(i=o,a=s,"class"==(r=n)||"style"==r?"".concat(i," ").concat(a):a):s}))})),Qt(Object.keys(t).sort().map((function(e){return Qt([Yt(e),Yt(t[e])])})))}function Pv(e,t){return t.length>10?wv.callFn([xv,Yt(e),Yt(1),Qt(t)]):wv.callFn([xv,Yt(e),Yt(0)].concat(Object(m.a)(t)))}function Mv(e,t,n){return qt(Ln.unwrapValue).callFn([xv,Yt(e),Yt(t),n])}function Av(e,t){return e.isAnimation?{name:"@".concat(e.name,".").concat(e.phase),target:t&&t.directive.isComponent?"component":null}:e}function Iv(e){var t=0;return e.first&&e.static?t|=268435456:t|=536870912,t}function Rv(e,t){return e?"".concat(e,":").concat(t):t}var Dv=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(y.a)(this,e),this._htmlParser=t,this._implicitTags=n,this._implicitAttrs=r,this._locale=i,this._messages=[]}return Object(g.a)(e,[{key:"updateFromTemplate",value:function(e,t,n){var r,i=this._htmlParser.parse(e,t,{tokenizeExpansionForms:!0,interpolationConfig:n});if(i.errors.length)return i.errors;var a=function(e,t,n,r){return new up(n,r).extract(e,t)}(i.rootNodes,n,this._implicitTags,this._implicitAttrs);return a.errors.length?a.errors:((r=this._messages).push.apply(r,Object(m.a)(a.messages)),[])}},{key:"getMessages",value:function(){return this._messages}},{key:"write",value:function(e,t){var n={},r=new Fv;this._messages.forEach((function(t){var r,i=e.digest(t);n.hasOwnProperty(i)?(r=n[i].sources).push.apply(r,Object(m.a)(t.sources)):n[i]=t}));var i=Object.keys(n).map((function(i){var a=e.createNameMapper(n[i]),s=n[i],o=a?r.convert(s.nodes,a):s.nodes,u=new Gr(o,{},{},s.meaning,s.description,i);return u.sources=s.sources,t&&u.sources.forEach((function(e){return e.filePath=t(e.filePath)})),u}));return e.write(i,this._locale)}}]),e}(),Fv=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"convert",value:function(e,t){var n=this;return t?e.map((function(e){return e.visit(n,t)})):e}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r=t.toPublicName(e.startName),i=e.closeName?t.toPublicName(e.closeName):e.closeName,a=e.children.map((function(e){return e.visit(n,t)}));return new Zr(e.tag,e.attrs,r,i,a,e.isVoid,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitPlaceholder",value:function(e,t){return new ei(e.value,t.toPublicName(e.name),e.sourceSpan)}},{key:"visitIcuPlaceholder",value:function(e,t){return new ti(e.value,t.toPublicName(e.name),e.sourceSpan)}}]),n}(ni),Lv=function(){function e(t,n,r){Object(y.a)(this,e),this.srcFileUrl=t,this.genFileUrl=n,"string"==typeof r?(this.source=r,this.stmts=null):(this.source=null,this.stmts=r)}return Object(g.a)(e,[{key:"isEquivalent",value:function(e){return this.genFileUrl===e.genFileUrl&&(this.source?this.source===e.source:null!=e.stmts&&je(this.stmts,e.stmts))}}]),e}();function Bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e.stmts)throw new Error("Illegal state: No stmts present on GeneratedFile ".concat(e.genFileUrl));return(new dv).emitStatements(e.genFileUrl,e.stmts,t)}function Vv(e,t){var n,r=[],i=Object(h.a)(e.transitiveModule.providers);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.provider,o=a.module;if(er(s.token)===t.ROUTES){var u,c=Uv(s.useValue),l=Object(h.a)(c);try{for(l.s();!(u=l.n()).done;){var p=u.value;r.push(Hv(p,t,o.reference))}}catch(v){l.e(v)}finally{l.f()}}}}catch(v){i.e(v)}finally{i.f()}return r}function Uv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("string"==typeof e)t.push(e);else if(Array.isArray(e)){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;Uv(i,t)}}catch(a){r.e(a)}finally{r.f()}}else e.loadChildren?Uv(e.loadChildren,t):e.children&&Uv(e.children,t);return t}function Hv(e,t,n){var r=e.split("#"),i=Object(c.a)(r,2),a=i[0],s=i[1],o=t.resolveExternalReference({moduleName:a,name:s},n?n.filePath:void 0);return{route:e,module:n||o,referencedModule:o}}var qv=/^(?!.*\.d\.ts$).*\.ts$/,Wv=function e(t,n){Object(y.a)(this,e),this.symbol=t,this.metadata=n},zv=function(){function e(t,n,r,i){Object(y.a)(this,e),this.host=t,this.staticSymbolCache=n,this.summaryResolver=r,this.errorRecorder=i,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}return Object(g.a)(e,[{key:"resolveSymbol",value:function(e){if(e.members.length>0)return this._resolveSymbolMembers(e);var t=this._resolveSymbolFromSummary(e);if(t)return t;var n=this.resolvedSymbols.get(e);return n||(this._createSymbolsOf(e.filePath),this.resolvedSymbols.get(e))}},{key:"getImportAs",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.members.length){var n=this.getStaticSymbol(e.filePath,e.name),r=this.getImportAs(n,t);return r?this.getStaticSymbol(r.filePath,r.name,e.members):null}var i=Hp(e.filePath);if(i!==e.filePath){var a=Wp(e.name),s=this.getStaticSymbol(i,a,e.members),o=this.getImportAs(s,t);return o?this.getStaticSymbol(Up(o.filePath),qp(o.name),s.members):null}var u=t&&this.summaryResolver.getImportAs(e)||null;return u||(u=this.importAs.get(e)),u}},{key:"getResourcePath",value:function(e){return this.symbolResourcePaths.get(e)||e.filePath}},{key:"getTypeArity",value:function(e){if(t=e.filePath,Ap.test(t))return null;for(var t,n=Qv(this.resolveSymbol(e));n&&n.metadata instanceof Un;)n=Qv(this.resolveSymbol(n.metadata));return n&&n.metadata&&n.metadata.arity||null}},{key:"getKnownModuleName",value:function(e){return this.knownFileNameToModuleNames.get(e)||null}},{key:"recordImportAs",value:function(e,t){e.assertNoMembers(),t.assertNoMembers(),this.importAs.set(e,t)}},{key:"recordModuleNameForFileName",value:function(e,t){this.knownFileNameToModuleNames.set(e,t)}},{key:"invalidateFile",value:function(e){this.metadataCache.delete(e);var t=this.symbolFromFile.get(e);if(!t)return[];this.symbolFromFile.delete(e);var n,r=Object(h.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.resolvedSymbols.delete(i),this.importAs.delete(i),this.symbolResourcePaths.delete(i)}}catch(a){r.e(a)}finally{r.f()}return t}},{key:"ignoreErrorsFor",value:function(e){var t=this.errorRecorder;this.errorRecorder=function(){};try{return e()}finally{this.errorRecorder=t}}},{key:"_resolveSymbolMembers",value:function(e){var t=e.members,n=this.resolveSymbol(this.getStaticSymbol(e.filePath,e.name));if(!n)return null;var r=Qv(n.metadata);if(r instanceof Un)return new Wv(e,this.getStaticSymbol(r.filePath,r.name,t));if(!r||"class"!==r.__symbolic){for(var i=r,a=0;a<t.length&&i;a++)i=i[t[a]];return new Wv(e,i)}return r.statics&&1===t.length?new Wv(e,r.statics[t[0]]):null}},{key:"_resolveSymbolFromSummary",value:function(e){var t=this.summaryResolver.resolveSummary(e);return t?new Wv(e,t.metadata):null}},{key:"getStaticSymbol",value:function(e,t,n){return this.staticSymbolCache.get(e,t,n)}},{key:"hasDecorators",value:function(e){var t=this.getModuleMetadata(e);return!!t.metadata&&Object.keys(t.metadata).some((function(e){var n=t.metadata[e];return n&&"class"===n.__symbolic&&n.decorators}))}},{key:"getSymbolsOf",value:function(e){var t=this.summaryResolver.getSymbolsOf(e);return t||(this._createSymbolsOf(e),this.symbolFromFile.get(e)||[])}},{key:"_createSymbolsOf",value:function(e){var t=this;if(!this.symbolFromFile.has(e)){var n=[],r=this.getModuleMetadata(e);if(r.importAs&&this.knownFileNameToModuleNames.set(e,r.importAs),r.exports){var i,a=Object(h.a)(r.exports);try{var s=function(){var r=i.value;if(r.export)r.export.forEach((function(i){var a,s=a=Kv(a="string"==typeof i?i:i.as);"string"!=typeof i&&(s=Kv(i.name));var o=t.resolveModule(r.from,e);if(o){var u=t.getStaticSymbol(o,s),c=t.getStaticSymbol(e,a);n.push(t.createExport(c,u))}}));else{var a=t.resolveModule(r.from,e);if(a&&a!==e)t.getSymbolsOf(a).forEach((function(r){var i=t.getStaticSymbol(e,r.name);n.push(t.createExport(i,r))}))}};for(a.s();!(i=a.n()).done;)s()}catch(f){a.e(f)}finally{a.f()}}if(r.metadata){var o=new Set(Object.keys(r.metadata).map(Kv)),u=r.origins||{};Object.keys(r.metadata).forEach((function(i){var a=r.metadata[i],s=Kv(i),c=t.getStaticSymbol(e,s),l=u.hasOwnProperty(i)&&u[i];if(l){var h=t.resolveModule(l,e);h?t.symbolResourcePaths.set(c,h):t.reportError(new Error("Couldn't resolve original symbol for ".concat(l," from ").concat(t.host.getOutputName(e))))}n.push(t.createResolvedSymbol(c,e,o,a))}))}for(var c=new Set,l=0,p=n;l<p.length;l++){var v=p[l];this.resolvedSymbols.set(v.symbol,v),c.add(v.symbol)}this.symbolFromFile.set(e,Array.from(c))}}},{key:"createResolvedSymbol",value:function(e,t,n,r){var i,a=this,s=qv.test(e.filePath);if(this.summaryResolver.isLibraryFile(e.filePath)&&!s&&r&&"class"===r.__symbolic){var o={__symbolic:"class",arity:r.arity};return new Wv(e,o)}var u=function(){return i||(i=a.host.getOutputName(t.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[/\\]/,""))),i},c=this,l=rn(r,new(function(r){Object(f.a)(a,r);var i=Object(d.a)(a);function a(){return Object(y.a)(this,a),i.apply(this,arguments)}return Object(g.a)(a,[{key:"visitStringMap",value:function(r,i){var s=r.__symbolic;if("function"===s){var o=i.length;i.push.apply(i,Object(m.a)(r.parameters||[]));var l=Object(p.a)(Object(v.a)(a.prototype),"visitStringMap",this).call(this,r,i);return i.length=o,l}if("reference"!==s)return"error"===s?Object.assign(Object.assign({},r),{fileName:u()}):Object(p.a)(Object(v.a)(a.prototype),"visitStringMap",this).call(this,r,i);var h,f=r.module,d=r.name?Kv(r.name):r.name;return d?f?(h=c.resolveModule(f,e.filePath))?{__symbolic:"resolved",symbol:c.getStaticSymbol(h,d),line:r.line,character:r.character,fileName:u()}:{__symbolic:"error",message:"Could not resolve ".concat(f," relative to ").concat(c.host.getMetadataFor(e.filePath),"."),line:r.line,character:r.character,fileName:u()}:i.indexOf(d)>=0?{__symbolic:"reference",name:d}:n.has(d)?c.getStaticSymbol(t,d):(null,void 0):null}}]),a}(on)),[]),h=Qv(l);return h instanceof Un?this.createExport(e,h):new Wv(e,l)}},{key:"createExport",value:function(e,t){return e.assertNoMembers(),t.assertNoMembers(),this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(t,this.getImportAs(e)||e),new Wv(e,t)}},{key:"reportError",value:function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(e,t&&t.filePath||n)}},{key:"getModuleMetadata",value:function(e){var t=this.metadataCache.get(e);if(!t){var n=this.host.getMetadataFor(e);if(n){var r=-1;n.forEach((function(e){e&&e.version>r&&(r=e.version,t=e)}))}if(t||(t={__symbolic:"module",version:4,module:e,metadata:{}}),4!=t.version){var i=2==t.version?"Unsupported metadata version ".concat(t.version," for module ").concat(e,". This module should be compiled with a newer version of ngc"):"Metadata version mismatch for module ".concat(this.host.getOutputName(e),", found version ").concat(t.version,", expected ").concat(4);this.reportError(new Error(i))}this.metadataCache.set(e,t)}return t}},{key:"getSymbolByModule",value:function(e,t,n){var r=this.resolveModule(e,n);return r?this.getStaticSymbol(r,t):(this.reportError(new Error("Could not resolve module ".concat(e).concat(n?" relative to "+this.host.getOutputName(n):""))),this.getStaticSymbol("ERROR:".concat(e),t))}},{key:"resolveModule",value:function(e,t){try{return this.host.moduleNameToFileName(e,t)}catch(n){console.error("Could not resolve module '".concat(e,"' relative to file ").concat(t)),this.reportError(n,void 0,t)}return null}}]),e}();function Kv(e){return e.startsWith("___")?e.substr(1):e}function Qv(e){return e&&"resolved"===e.__symbolic?e.symbol:e}function Xv(e,t,n){var r=qp(t.name);e.statements.push(Gt([],[new Et(n)],new ke(Ee)).toDeclStmt(r,[Ye.Final,Ye.Exported]))}var Gv=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i){var a;return Object(y.a)(this,n),(a=t.call(this)).symbolResolver=e,a.summaryResolver=r,a.srcFileName=i,a.symbols=[],a.indexBySymbol=new Map,a.reexportedBy=new Map,a.processedSummaryBySymbol=new Map,a.processedSummaries=[],a.unprocessedSymbolSummariesBySymbol=new Map,a.moduleName=e.getKnownModuleName(i),a}return Object(g.a)(n,[{key:"addSummary",value:function(e){var t=this,n=this.unprocessedSymbolSummariesBySymbol.get(e.symbol),r=this.processedSummaryBySymbol.get(e.symbol);if(n||(n={symbol:e.symbol,metadata:void 0},this.unprocessedSymbolSummariesBySymbol.set(e.symbol,n),r={symbol:this.processValue(e.symbol,0)},this.processedSummaries.push(r),this.processedSummaryBySymbol.set(e.symbol,r)),!n.metadata&&e.metadata){var i=e.metadata||{};if("class"===i.__symbolic){var a={};Object.keys(i).forEach((function(e){"decorators"!==e&&(a[e]=i[e])})),i=a}else Jv(i)&&(function(e){return Jv(e)&&Qv(e.expression)instanceof Un}(i)||function(e){return Jv(e)&&e.expression&&"select"===e.expression.__symbolic&&Qv(e.expression.expression)instanceof Un}(i)||(i={__symbolic:"error",message:"Complex function calls are not supported."}));if(n.metadata=i,r.metadata=this.processValue(i,1),i instanceof Un&&this.summaryResolver.isLibraryFile(i.filePath)){var s=this.symbols[this.indexBySymbol.get(i)];Qp(s.name)||this.reexportedBy.set(s,e.symbol)}}if(!n.type&&e.type&&(n.type=e.type,r.type=this.processValue(e.type,0),e.type.summaryKind===zn.NgModule)){var o=e.type;o.exportedDirectives.concat(o.exportedPipes).forEach((function(e){var n=e.reference;if(t.summaryResolver.isLibraryFile(n.filePath)&&!t.unprocessedSymbolSummariesBySymbol.has(n)){var r=t.summaryResolver.resolveSummary(n);r&&t.addSummary(r)}}))}}},{key:"serialize",value:function(e){var t=this,n=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map((function(r,i){r.assertNoMembers();var a=void 0;if(t.summaryResolver.isLibraryFile(r.filePath)){var s=t.reexportedBy.get(r);if(s)a=t.indexBySymbol.get(s);else if(e){var o=t.unprocessedSymbolSummariesBySymbol.get(r);o&&o.metadata&&"interface"===o.metadata.__symbolic||(a="".concat(r.name,"_").concat(i),n.push({symbol:r,exportAs:a}))}}return{__symbol:i,name:r.name,filePath:t.summaryResolver.toSummaryFileName(r.filePath,t.srcFileName),importAs:a}}))}),exportAs:n}}},{key:"processValue",value:function(e,t){return rn(e,this,t)}},{key:"visitOther",value:function(e,t){if(e instanceof Un){var n=this.symbolResolver.getStaticSymbol(e.filePath,e.name);return{__symbol:this.visitStaticSymbol(n,t),members:e.members}}}},{key:"visitStringMap",value:function(e,t){return"resolved"===e.__symbolic?rn(e.symbol,this,t):("error"===e.__symbolic&&(delete e.line,delete e.character),Object(p.a)(Object(v.a)(n.prototype),"visitStringMap",this).call(this,e,t))}},{key:"visitStaticSymbol",value:function(e,t){var n=this.indexBySymbol.get(e),r=null;if(1&t&&this.summaryResolver.isLibraryFile(e.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(e))return n;(r=this.loadSummary(e))&&r.metadata instanceof Un&&(n=this.visitStaticSymbol(r.metadata,t),r=null)}else if(null!=n)return n;return null==n&&(n=this.symbols.length,this.symbols.push(e)),this.indexBySymbol.set(e,n),r&&this.addSummary(r),n}},{key:"loadSummary",value:function(e){var t=this.summaryResolver.resolveSummary(e);if(!t){var n=this.symbolResolver.resolveSymbol(e);n&&(t={symbol:n.symbol,metadata:n.metadata})}return t}}]),n}(on),$v=function(){function e(t,n,r){Object(y.a)(this,e),this.outputCtx=t,this.symbolResolver=n,this.summaryResolver=r,this.data=[]}return Object(g.a)(e,[{key:"addSourceType",value:function(e,t){this.data.push({summary:e,metadata:t,isLibrary:!1})}},{key:"addLibType",value:function(e){this.data.push({summary:e,metadata:null,isLibrary:!0})}},{key:"serialize",value:function(e){var t,n=this,r=new Map,i=Object(h.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=a.symbol,o=a.exportAs;r.set(s,o)}}catch(k){i.e(k)}finally{i.f()}var u,c=new Set,l=Object(h.a)(this.data);try{for(l.s();!(u=l.n()).done;){var p=u.value,v=p.summary,f=p.metadata,d=p.isLibrary;if(v.summaryKind===zn.NgModule){c.add(v.type.reference);var m,y=v,g=Object(h.a)(y.modules);try{for(g.s();!(m=g.n()).done;){var b=m.value;c.add(b.reference)}}catch(k){g.e(k)}finally{g.f()}}if(!d){qp(v.type.reference.name);Xv(this.outputCtx,v.type.reference,this.serializeSummaryWithDeps(v,f))}}}catch(k){l.e(k)}finally{l.f()}c.forEach((function(e){if(n.summaryResolver.isLibraryFile(e.filePath)){var t=qp(r.get(e)||e.name);n.outputCtx.statements.push(Ht(t).set(n.serializeSummaryRef(e)).toDeclStmt(null,[Ye.Exported]))}}))}},{key:"serializeSummaryWithDeps",value:function(e,t){var n=this,r=[this.serializeSummary(e)],i=[];if(t instanceof sr)r.push.apply(r,Object(m.a)(t.declaredDirectives.concat(t.declaredPipes).map((function(e){return e.reference})).concat(t.transitiveModule.modules.map((function(e){return e.reference})).filter((function(e){return e!==t.type.reference}))).map((function(e){return n.serializeSummaryRef(e)})))),i=t.providers;else if(e.summaryKind===zn.Directive){var a=e;i=a.providers.concat(a.viewProviders)}return r.push.apply(r,Object(m.a)(i.filter((function(e){return!!e.useClass})).map((function(e){return n.serializeSummary({summaryKind:zn.Injectable,type:e.useClass})})))),Qt(r)}},{key:"serializeSummaryRef",value:function(e){var t=this.symbolResolver.getStaticSymbol(Up(e.filePath),qp(e.name));return this.outputCtx.importExpr(t)}},{key:"serializeSummary",value:function(e){var t=this.outputCtx,n=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"visitArray",value:function(e,t){var n=this;return Qt(e.map((function(e){return rn(e,n,t)})))}},{key:"visitStringMap",value:function(e,t){var n=this;return new pt(Object.keys(e).map((function(r){return new ht(r,rn(e[r],n,t),!1)})))}},{key:"visitPrimitive",value:function(e,t){return Yt(e)}},{key:"visitOther",value:function(e,n){if(e instanceof Un)return t.importExpr(e);throw new Error("Illegal State: Encountered value ".concat(e))}}]),e}();return rn(e,new n,null)}}]),e}(),Yv=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;return Object(y.a)(this,n),(i=t.call(this)).symbolCache=e,i.summaryResolver=r,i}return Object(g.a)(n,[{key:"deserialize",value:function(e,t){var n=this,r=JSON.parse(t),i=[];this.symbols=r.symbols.map((function(t){return n.symbolCache.get(n.summaryResolver.fromSummaryFileName(t.filePath,e),t.name)})),r.symbols.forEach((function(t,r){var a=n.symbols[r],s=t.importAs;"number"==typeof s?i.push({symbol:a,importAs:n.symbols[s]}):"string"==typeof s&&i.push({symbol:a,importAs:n.symbolCache.get(Dp(e),s)})}));var a=rn(r.summaries,this,null);return{moduleName:r.moduleName,summaries:a,importAs:i}}},{key:"visitStringMap",value:function(e,t){if("__symbol"in e){var r=this.symbols[e.__symbol],i=e.members;return i.length?this.symbolCache.get(r.filePath,r.name,i):r}return Object(p.a)(Object(v.a)(n.prototype),"visitStringMap",this).call(this,e,t)}}]),n}(on);function Jv(e){return e&&"call"===e.__symbolic}var Zv=function(){function e(t,n,r,i,a,s,o,u,c,l,h,p,v,f){Object(y.a)(this,e),this._config=t,this._options=n,this._host=r,this.reflector=i,this._metadataResolver=a,this._templateParser=s,this._styleCompiler=o,this._viewCompiler=u,this._typeCheckCompiler=c,this._ngModuleCompiler=l,this._injectableCompiler=h,this._outputEmitter=p,this._summaryResolver=v,this._symbolResolver=f,this._templateAstCache=new Map,this._analyzedFiles=new Map,this._analyzedFilesForInjectables=new Map}return Object(g.a)(e,[{key:"clearCache",value:function(){this._metadataResolver.clearCache()}},{key:"analyzeModulesSync",value:function(e){var t=this,n=af(e,this._host,this._symbolResolver,this._metadataResolver);return n.ngModules.forEach((function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)})),n}},{key:"analyzeModulesAsync",value:function(e){var t=this,n=af(e,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(n.ngModules.map((function(e){return t._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)}))).then((function(){return n}))}},{key:"_analyzeFile",value:function(e){var t=this._analyzedFiles.get(e);return t||(t=of(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFiles.set(e,t)),t}},{key:"_analyzeFileForInjectables",value:function(e){var t=this._analyzedFilesForInjectables.get(e);return t||(t=uf(this._host,this._symbolResolver,this._metadataResolver,e),this._analyzedFilesForInjectables.set(e,t)),t}},{key:"findGeneratedFileNames",value:function(e){var t=this,n=[],r=this._analyzeFile(e);(this._options.allowEmptyCodegenFiles||r.directives.length||r.pipes.length||r.injectables.length||r.ngModules.length||r.exportsNonSourceFiles)&&(n.push(Dp(r.fileName,!0)),this._options.enableSummariesForJit&&n.push(Up(r.fileName,!0)));var i=Bp(Lp(r.fileName,!0)[1]);return r.directives.forEach((function(e){var a=t._metadataResolver.getNonNormalizedDirectiveMetadata(e).metadata;a.isComponent&&a.template.styleUrls.forEach((function(e){var s=t._host.resourceNameToFileName(e,r.fileName);if(!s)throw pn("Couldn't resolve resource ".concat(e," relative to ").concat(r.fileName));var o=(a.template.encapsulation||t._config.defaultEncapsulation)===P.Emulated;n.push(nf(s,o,i)),t._options.allowEmptyCodegenFiles&&n.push(nf(s,!o,i))}))})),n}},{key:"emitBasicStub",value:function(e,t){var n=this._createOutputContext(e);if(e.endsWith(".ngfactory.ts")){if(!t)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: ".concat(e));var r=this._analyzeFile(t);this._createNgFactoryStub(n,r,1)}else if(e.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!t)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: ".concat(e));var i=this._analyzeFile(t);ef(n),i.ngModules.forEach((function(e){!function(e,t){return Xv(e,t,ft)}(n,e.type.reference)}))}}else e.endsWith(".ngstyle.ts")&&ef(n);return this._codegenSourceModule("unknown",n)}},{key:"emitTypeCheckStub",value:function(e,t){var n=this._analyzeFile(t),r=this._createOutputContext(e);return e.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(r,n,2),r.statements.length>0?this._codegenSourceModule(n.fileName,r):null}},{key:"loadFilesAsync",value:function(e,t){var n=this,r=e.map((function(e){return n._analyzeFile(e)})),i=[];r.forEach((function(e){return e.ngModules.forEach((function(e){return i.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1))}))}));var a=t.map((function(e){return n._analyzeFileForInjectables(e)}));return Promise.all(i).then((function(e){return{analyzedModules:lf(r),analyzedInjectables:a}}))}},{key:"loadFilesSync",value:function(e,t){var n=this,r=e.map((function(e){return n._analyzeFile(e)}));r.forEach((function(e){return e.ngModules.forEach((function(e){return n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!0)}))}));var i=t.map((function(e){return n._analyzeFileForInjectables(e)}));return{analyzedModules:lf(r),analyzedInjectables:i}}},{key:"_createNgFactoryStub",value:function(e,t,n){var r=this,i=0;t.ngModules.forEach((function(t,a){r._ngModuleCompiler.createStub(e,t.type.reference);var s=[].concat(Object(m.a)(t.transitiveModule.directives.map((function(e){return e.reference}))),Object(m.a)(t.transitiveModule.pipes.map((function(e){return e.reference}))),Object(m.a)(t.importedModules.map((function(e){return e.type.reference}))),Object(m.a)(t.exportedModules.map((function(e){return e.type.reference}))),Object(m.a)(r._externalIdentifierReferences([Ln.TemplateRef,Ln.ElementRef]))),o=new Map;s.forEach((function(e,t){o.set(e,"_decl".concat(a,"_").concat(t))})),o.forEach((function(t,n){e.statements.push(Ht(t).set(ft.cast(Ee)).toDeclStmt(zt(e.importExpr(n,null,!1))))})),2&n&&t.declaredDirectives.forEach((function(n){var a=r._metadataResolver.getDirectiveMetadata(n.reference);a.isComponent&&(i++,r._createTypeCheckBlock(e,"".concat(a.type.reference.name,"_Host_").concat(i),t,r._metadataResolver.getHostComponentMetadata(a),[a.type],o),r._createTypeCheckBlock(e,"".concat(a.type.reference.name,"_").concat(i),t,a,t.transitiveModule.directives,o))}))})),0===e.statements.length&&ef(e)}},{key:"_externalIdentifierReferences",value:function(e){var t,n=[],r=Object(h.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=Vn(this.reflector,i);a.identifier&&n.push(a.identifier.reference)}}catch(s){r.e(s)}finally{r.f()}return n}},{key:"_createTypeCheckBlock",value:function(e,t,n,r,i,a){var s,o=this._parseTemplate(r,n,i),u=o.template,c=o.pipes;(s=e.statements).push.apply(s,Object(m.a)(this._typeCheckCompiler.compileComponent(t,r,u,c,a,e)))}},{key:"emitMessageBundle",value:function(e,t){var n=this,r=[],i=new fu,a=new Dv(i,[],{},t);if(e.files.forEach((function(e){var t=[];e.directives.forEach((function(e){var r=n._metadataResolver.getDirectiveMetadata(e);r&&r.isComponent&&t.push(r)})),t.forEach((function(e){var t=e.template.template,n=e.template.templateUrl,i=ja.fromArray(e.template.interpolation);r.push.apply(r,Object(m.a)(a.updateFromTemplate(t,n,i)))}))})),r.length)throw new Error(r.map((function(e){return e.toString()})).join("\n"));return a}},{key:"emitAllPartialModules",value:function(e,t){var n=this,r=e.ngModuleByPipeOrDirective,i=e.files,a=new Map,s=function(e){return a.has(e)||a.set(e,n._createOutputContext(e)),a.get(e)};return i.forEach((function(e){return n._compilePartialModule(e.fileName,r,e.directives,e.pipes,e.ngModules,e.injectables,s(e.fileName))})),t.forEach((function(e){return n._compileShallowModules(e.fileName,e.shallowModules,s(e.fileName))})),Array.from(a.values()).map((function(e){return{fileName:e.genFilePath,statements:[].concat(Object(m.a)(e.constantPool.statements),Object(m.a)(e.statements))}}))}},{key:"_compileShallowModules",value:function(e,t,n){var r=this;t.forEach((function(e){return t=n,i=e,a=r._injectableCompiler,s=Qn(i.type),o=i.rawImports?[i.rawImports]:[],u=i.rawExports?[i.rawExports]:[],c=Qa({factory:a.factoryFor({type:i.type,symbol:i.type.reference},t),providers:br(i.rawProviders,t),imports:br([].concat(o,u),t)}),l=qt(yr.defineInjector).callFn([c]),void t.statements.push(new Ot(s,null,[new xt("\u0275inj",Se,[Ye.Static],l)],[],new wt(null,[],[]),[]));var t,i,a,s,o,u,c,l}))}},{key:"_compilePartialModule",value:function(e,t,n,r,i,a,s){var o=this,u=new ll,c=new rc(this._templateParser.expressionParser,Na,u,[],[]);n.forEach((function(e){var n=o._metadataResolver.getDirectiveMetadata(e);if(n.isComponent){var r=t.get(e);r||hn("Cannot determine the module for component '".concat(Qn(n.type),"'"));var i=n.template.htmlAst;n.template.preserveWhitespaces||(i=ku(i));var a=pl(i.rootNodes,c),u=new Map;r.transitiveModule.directives.map((function(e){return o._metadataResolver.getDirectiveSummary(e.reference)})).forEach((function(e){e.selector&&u.set(e.selector,e.type.reference)}));var l=new Map;r.transitiveModule.pipes.map((function(e){return o._metadataResolver.getPipeSummary(e.reference)})).forEach((function(e){l.set(e.name,e.type.reference)})),function(e,t,n,r,i,a,s){var o=Qn(t.type);o||hn("Cannot resolver the name of ".concat(t.type));var u=e.constantPool.propertyNameOf(2),c=t.toSummary(),l=Object.assign(Object.assign({},gh(t,e,r)),{selector:t.selector,template:{nodes:n.nodes,ngContentSelectors:n.ngContentSelectors},directives:[],pipes:Oh(s,e),viewQueries:bh(t.viewQueries,e),wrapDirectivesAndPipesInClosure:!1,styles:c.template&&c.template.styles||ph,encapsulation:c.template&&c.template.encapsulation||P.Emulated,interpolation:Na,animations:null,viewProviders:t.viewProviders.length>0?new Re(t.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),h=yh(l,e.constantPool,i),p=ka(Object.assign(Object.assign({},l),{injectFn:yr.directiveInject,target:fa.Directive})),v=new Ot(o,null,[new xt("\u0275fac",Se,[Ye.Static],p.factory)],[],new wt(null,[],[]),[]),f=new Ot(o,null,[new xt(u,Se,[Ye.Static],h.expression)],[],new wt(null,[],[]),[]);e.statements.push(v,f)}(s,n,a,o.reflector,c,0,l)}else!function(e,t,n,r){var i=Qn(t.type);i||hn("Cannot resolver the name of ".concat(t.type));var a=e.constantPool.propertyNameOf(1),s=gh(t,e,n),o=mh(s,e.constantPool,r),u=ka(Object.assign(Object.assign({},s),{injectFn:yr.directiveInject,target:fa.Directive})),c=new Ot(i,null,[new xt("\u0275fac",Se,[Ye.Static],u.factory)],[],new wt(null,[],[]),[]),l=new Ot(i,null,[new xt(a,Se,[Ye.Static],o.expression)],[],new wt(null,[],[]),[]);e.statements.push(c,l)}(s,n,o.reflector,c)})),r.forEach((function(e){var t=o._metadataResolver.getPipeMetadata(e);t&&!function(e,t,n){var r=Qn(t.type);if(!r)return hn("Cannot resolve the name of ".concat(t.type));var i,a,s=e.importExpr(t.type.reference),o={name:r,type:(i=s,a=new Re(i),{value:a,type:a}),internalType:s,pipeName:t.name,typeArgumentCount:0,deps:Ea(t.type,e,n),pure:t.pure},u=Ja(o),c=ka(Object.assign(Object.assign({},o),{injectFn:yr.directiveInject,target:fa.Pipe})),l=e.constantPool.propertyNameOf(3),h=new Ot(r,null,[new xt("\u0275fac",Se,[Ye.Static],c.factory)],[],new wt(null,[],[]),[]),p=new Ot(r,null,[new xt(l,Se,[Ye.Static],u.expression)],[],new wt(null,[],[]),[]);e.statements.push(h,p)}(s,t,o.reflector)})),a.forEach((function(e){return o._injectableCompiler.compile(e,s)}))}},{key:"emitAllPartialModules2",value:function(e){var t=this;return e.reduce((function(e,n){return e.push.apply(e,Object(m.a)(t._emitPartialModule2(n.fileName,n.injectables))),e}),[])}},{key:"_emitPartialModule2",value:function(e,t){var n=this,r=this._createOutputContext(e);return t.forEach((function(e){return n._injectableCompiler.compile(e,r)})),r.statements&&r.statements.length>0?[{fileName:e,statements:[].concat(Object(m.a)(r.constantPool.statements),Object(m.a)(r.statements))}]:[]}},{key:"emitAllImpls",value:function(e){var t=this,n=e.ngModuleByPipeOrDirective;return lr(e.files.map((function(e){return t._compileImplFile(e.fileName,n,e.directives,e.pipes,e.ngModules,e.injectables)})))}},{key:"_compileImplFile",value:function(e,t,n,r,i,a){var s=this,o=Bp(Lp(e,!0)[1]),u=[],c=this._createOutputContext(Dp(e,!0));if(u.push.apply(u,Object(m.a)(this._createSummary(e,n,r,i,a,c))),i.forEach((function(e){return s._compileModule(c,e)})),n.forEach((function(n){var r=s._metadataResolver.getDirectiveMetadata(n);if(r.isComponent){var i=t.get(n);if(!i)throw new Error("Internal Error: cannot determine the module for component ".concat(Qn(r.type),"!"));var a=s._styleCompiler.compileComponent(c,r);r.template.externalStylesheets.forEach((function(t){var n=s._styleCompiler.needsStyleShim(r);u.push(s._codegenStyles(e,r,t,n,o)),s._options.allowEmptyCodegenFiles&&u.push(s._codegenStyles(e,r,t,!n,o))}));s._compileComponent(c,r,i,i.transitiveModule.directives,a,o);s._compileComponentFactory(c,r,i,o)}})),c.statements.length>0||this._options.allowEmptyCodegenFiles){var l=this._codegenSourceModule(e,c);u.unshift(l)}return u}},{key:"_createSummary",value:function(e,t,n,r,i,a){var s=this,o=this._symbolResolver.getSymbolsOf(e).map((function(e){return s._symbolResolver.resolveSymbol(e)})),u=[].concat(Object(m.a)(r.map((function(e){return{summary:s._metadataResolver.getNgModuleSummary(e.type.reference),metadata:s._metadataResolver.getNgModuleMetadata(e.type.reference)}}))),Object(m.a)(t.map((function(e){return{summary:s._metadataResolver.getDirectiveSummary(e),metadata:s._metadataResolver.getDirectiveMetadata(e)}}))),Object(m.a)(n.map((function(e){return{summary:s._metadataResolver.getPipeSummary(e),metadata:s._metadataResolver.getPipeMetadata(e)}}))),Object(m.a)(i.map((function(e){return{summary:s._metadataResolver.getInjectableSummary(e.symbol),metadata:s._metadataResolver.getInjectableSummary(e.symbol).type}})))),c=this._options.enableSummariesForJit?this._createOutputContext(Up(e,!0)):null,l=function(e,t,n,r,i,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=new Gv(r,n,e);i.forEach((function(e){return o.addSummary({symbol:e.symbol,metadata:e.metadata})})),a.forEach((function(e){var t=e.summary;e.metadata;o.addSummary({symbol:t.type.reference,metadata:void 0,type:t})}));var u=o.serialize(s),c=u.json,l=u.exportAs;if(t){var h=new $v(t,r,n);a.forEach((function(e){var t=e.summary,n=e.metadata;h.addSourceType(t,n)})),o.unprocessedSymbolSummariesBySymbol.forEach((function(e){n.isLibraryFile(e.symbol.filePath)&&e.type&&h.addLibType(e.type)})),h.serialize(l)}return{json:c,exportAs:l}}(e,c,this._summaryResolver,this._symbolResolver,o,u,this._options.createExternalSymbolFactoryReexports),h=l.json;l.exportAs.forEach((function(e){a.statements.push(Ht(e.exportAs).set(a.importExpr(e.symbol)).toDeclStmt(null,[Ye.Exported]))}));var p=[new Lv(e,Vp(e),h)];return c&&p.push(this._codegenSourceModule(e,c)),p}},{key:"_compileModule",value:function(e,t){var n=[];if(this._options.locale){var r=this._options.locale.replace(/_/g,"-");n.push({token:Vn(this.reflector,Ln.LOCALE_ID),useValue:r})}this._options.i18nFormat&&n.push({token:Vn(this.reflector,Ln.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(e,t,n)}},{key:"_compileComponentFactory",value:function(e,t,n,r){var i=this._metadataResolver.getHostComponentMetadata(t),a=this._compileComponent(e,i,n,[t.type],null,r).viewClassVar,s=Jn(t.type.reference),o=[];for(var u in t.inputs){var c=t.inputs[u];o.push(new ht(u,Yt(c),!1))}var l=[];for(var h in t.outputs){var p=t.outputs[h];l.push(new ht(h,Yt(p),!1))}e.statements.push(Ht(s).set(qt(Ln.createComponentFactory).callFn([Yt(t.selector),e.importExpr(t.type.reference),Ht(a),new pt(o),new pt(l),Qt(t.template.ngContentSelectors.map((function(e){return Yt(e)})))])).toDeclStmt(Wt(Ln.ComponentFactory,[zt(e.importExpr(t.type.reference))],[pe.Const]),[Ye.Final,Ye.Exported]))}},{key:"_compileComponent",value:function(e,t,n,r,i,a){var s=this._parseTemplate(t,n,r),o=s.template,u=s.pipes,c=i?Ht(i.stylesVar):Qt([]),l=this._viewCompiler.compileComponent(e,t,o,c,u);return i&&tf(this._symbolResolver,i,this._styleCompiler.needsStyleShim(t),a),l}},{key:"_parseTemplate",value:function(e,t,n){var r=this;if(this._templateAstCache.has(e.type.reference))return this._templateAstCache.get(e.type.reference);var i=e.template.preserveWhitespaces,a=n.map((function(e){return r._metadataResolver.getDirectiveSummary(e.reference)})),s=t.transitiveModule.pipes.map((function(e){return r._metadataResolver.getPipeSummary(e.reference)})),o=this._templateParser.parse(e,e.template.htmlAst,a,s,t.schemas,pr(t.type,e,e.template),i);return this._templateAstCache.set(e.type.reference,o),o}},{key:"_createOutputContext",value:function(e){var t=this;return{statements:[],genFilePath:e,importExpr:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(n instanceof Un))throw new Error("Internal error: unknown identifier ".concat(JSON.stringify(n)));var a=t._symbolResolver.getTypeArity(n)||0,s=t._symbolResolver.getImportAs(n,i)||n,o=s.filePath,u=s.name,c=s.members,l=t._fileNameToModuleName(o,e),h=t._fileNameToModuleName(e,e),p=l===h?null:l,v=r||[],f=a-v.length,d=v.concat(On(f,Ee));return c.reduce((function(e,t){return e.prop(t)}),qt(new Ze(p,u,null),d))},constantPool:new Mn}}},{key:"_fileNameToModuleName",value:function(e,t){return this._summaryResolver.getKnownModuleName(e)||this._symbolResolver.getKnownModuleName(e)||this._host.fileNameToModuleName(e,t)}},{key:"_codegenStyles",value:function(e,t,n,r,i){var a=this._createOutputContext(nf(n.moduleUrl,r,i)),s=this._styleCompiler.compileStyles(a,t,n,r);return tf(this._symbolResolver,s,r,i),this._codegenSourceModule(e,a)}},{key:"_codegenSourceModule",value:function(e,t){return new Lv(e,t.genFilePath,t.statements)}},{key:"listLazyRoutes",value:function(e,t){var n=this;if(e)return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(r.has(t)||!t.name)return i;r.add(t);var a,s=Vv(n._metadataResolver.getNgModuleMetadata(t,!0),n.reflector),o=Object(h.a)(s);try{for(o.s();!(a=o.n()).done;){var u=a.value;i.push(u),e(u.referencedModule,r,i)}}catch(c){o.e(c)}finally{o.f()}return i}(Hv(e,this.reflector).referencedModule);if(t){var r,i=[],a=Object(h.a)(t.ngModules);try{for(a.s();!(r=a.n()).done;){var s,o=Vv(r.value,this.reflector),u=Object(h.a)(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push(c)}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}return i}throw new Error("Either route or analyzedModules has to be specified!")}}]),e}();function ef(e){e.statements.push(qt(Ln.ComponentFactory).toStmt())}function tf(e,t,n,r){t.dependencies.forEach((function(t){t.setValue(e.getStaticSymbol(nf(t.moduleUrl,n,r),t.name))}))}function nf(e,t,n){return"".concat(e).concat(t?".shim":"",".ngstyle").concat(n)}function rf(e,t,n,r){return cf(function(e,t,n,r){var i=new Set,a=[];return e.forEach((function(e){return function e(s){if(i.has(s)||!t.isSourceFile(s))return!1;i.add(s);var o=of(t,n,r,s);a.push(o),o.ngModules.forEach((function(t){t.transitiveModule.modules.forEach((function(t){return e(t.reference.filePath)}))}))}(e)})),a}(e,t,n,r))}function af(e,t,n,r){return sf(rf(e,t,n,r))}function sf(e){if(e.symbolsMissingModule&&e.symbolsMissingModule.length)throw pn(e.symbolsMissingModule.map((function(e){return"Cannot determine the module for class ".concat(e.name," in ").concat(e.filePath,"! Add ").concat(e.name," to the NgModule to fix it.")})).join("\n"));return e}function of(e,t,n,r){var i=[],a=[],s=[],o=[],u=[],c=t.hasDecorators(r),l=!1;return r.endsWith(".d.ts")&&!c||t.getSymbolsOf(r).forEach((function(r){var c=t.resolveSymbol(r).metadata;if(c&&"error"!==c.__symbolic){var h=!1;if("class"===c.__symbolic)if(n.isDirective(r))h=!0,n.isAbstractDirective(r)?i.push(r):a.push(r);else if(n.isPipe(r))h=!0,s.push(r);else if(n.isNgModule(r)){var p=n.getNgModuleMetadata(r,!1);p&&(h=!0,u.push(p))}else if(n.isInjectable(r)){h=!0;var v=n.getInjectableMetadata(r,null,!1);v&&o.push(v)}h||(l=l||function(e,t){var n=!1,r=function(){function t(){Object(y.a)(this,t)}return Object(g.a)(t,[{key:"visitArray",value:function(e,t){var n=this;e.forEach((function(e){return rn(e,n,t)}))}},{key:"visitStringMap",value:function(e,t){var n=this;Object.keys(e).forEach((function(r){return rn(e[r],n,t)}))}},{key:"visitPrimitive",value:function(e,t){}},{key:"visitOther",value:function(t,r){t instanceof Un&&!e.isSourceFile(t.filePath)&&(n=!0)}}]),t}();return rn(t,new r,null),n}(e,c))}})),{fileName:r,directives:a,abstractDirectives:i,pipes:s,ngModules:u,injectables:o,exportsNonSourceFiles:l}}function uf(e,t,n,r){var i=[],a=[];return t.hasDecorators(r)&&t.getSymbolsOf(r).forEach((function(e){var r=t.resolveSymbol(e).metadata;if(r&&"error"!==r.__symbolic&&"class"===r.__symbolic)if(n.isInjectable(e)){var s=n.getInjectableMetadata(e,null,!1);s&&i.push(s)}else if(n.isNgModule(e)){var o=n.getShallowModuleMetadata(e);o&&a.push(o)}})),{fileName:r,injectables:i,shallowModules:a}}function cf(e){var t=[],n=new Map,r=new Set;e.forEach((function(e){e.ngModules.forEach((function(e){t.push(e),e.declaredDirectives.forEach((function(t){return n.set(t.reference,e)})),e.declaredPipes.forEach((function(t){return n.set(t.reference,e)}))})),e.directives.forEach((function(e){return r.add(e)})),e.pipes.forEach((function(e){return r.add(e)}))}));var i=[];return r.forEach((function(e){n.has(e)||i.push(e)})),{ngModules:t,ngModuleByPipeOrDirective:n,symbolsMissingModule:i,files:e}}function lf(e){return sf(cf(e))}function hf(e){if(e<=0)return"";if(e<6)return[""," ","  ","   ","    ","     "][e];var t=hf(Math.floor(e/2));return t+t+(e%2==1?" ":"")}function pf(e){var t=pn(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return"";var r=t.position?"".concat(t.position.fileName,"(").concat(t.position.line+1,",").concat(t.position.column+1,")"):"",i=r&&0===n?"".concat(r,": "):"",a=r&&0!==n?" at ".concat(r):"",s="".concat(i).concat(t.message).concat(a);if(t.next){var o,u=Object(h.a)(t.next);try{for(u.s();!(o=u.n()).done;){var c=o.value;s+="\n"+e(c,n+2)}}catch(l){u.e(l)}finally{u.f()}}return"".concat(hf(n)).concat(s)}(e)+".");return t.ngFormattedMessage=!0,t.chain=e,t.position=e.position,t}function vf(e){return!!e.ngFormattedMessage}var ff="@angular/core",df=/^\$.*\$$/,mf={__symbolic:"ignore"},yf=new Set(["useValue","useFactory","data","id","loadChildren"]);function gf(e){return e&&"ignore"==e.__symbolic}var bf=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4?arguments[4]:void 0;Object(y.a)(this,e),this.summaryResolver=t,this.symbolResolver=n,this.errorRecorder=s,this.annotationCache=new Map,this.shallowAnnotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),i.forEach((function(e){return r._registerDecoratorOrConstructor(r.getStaticSymbol(e.filePath,e.name),e.ctor)})),a.forEach((function(e){return r._registerFunction(r.getStaticSymbol(e.filePath,e.name),e.fn)})),this.annotationForParentClassWithSummaryKind.set(zn.Directive,[z,X]),this.annotationForParentClassWithSummaryKind.set(zn.Pipe,[G]),this.annotationForParentClassWithSummaryKind.set(zn.NgModule,[ee]),this.annotationForParentClassWithSummaryKind.set(zn.Injectable,[te,G,z,X,ee])}return Object(g.a)(e,[{key:"componentModuleUrl",value:function(e){var t=this.findSymbolDeclaration(e);return this.symbolResolver.getResourcePath(t)}},{key:"invalidateSymbols",value:function(e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.annotationCache.delete(r),this.shallowAnnotationCache.delete(r),this.propertyCache.delete(r),this.parameterCache.delete(r),this.methodCache.delete(r),this.staticCache.delete(r),this.conversionMap.delete(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"resolveExternalReference",value:function(e,t){var n=void 0;if(!t){n="".concat(e.moduleName,":").concat(e.name);var r=this.resolvedExternalReferences.get(n);if(r)return r}var i=this.symbolResolver.getSymbolByModule(e.moduleName,e.name,t),a=this.findSymbolDeclaration(i);return t||(this.symbolResolver.recordModuleNameForFileName(i.filePath,e.moduleName),this.symbolResolver.recordImportAs(a,i)),n&&this.resolvedExternalReferences.set(n,a),a}},{key:"findDeclaration",value:function(e,t,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(e,t,n))}},{key:"tryFindDeclaration",value:function(e,t,n){var r=this;return this.symbolResolver.ignoreErrorsFor((function(){return r.findDeclaration(e,t,n)}))}},{key:"findSymbolDeclaration",value:function(e){var t=this.symbolResolver.resolveSymbol(e);if(t){var n=t.metadata;if(n&&"resolved"===n.__symbolic&&(n=n.symbol),n instanceof Un)return this.findSymbolDeclaration(t.metadata)}return e}},{key:"tryAnnotations",value:function(e){var t=this.errorRecorder;this.errorRecorder=function(e,t){};try{return this.annotations(e)}finally{this.errorRecorder=t}}},{key:"annotations",value:function(e){var t=this;return this._annotations(e,(function(e,n){return t.simplify(e,n)}),this.annotationCache)}},{key:"shallowAnnotations",value:function(e){var t=this;return this._annotations(e,(function(e,n){return t.simplify(e,n,!0)}),this.shallowAnnotationCache)}},{key:"_annotations",value:function(e,t,n){var r=n.get(e);if(!r){r=[];var i=this.getTypeMetadata(e),a=this.findParentType(e,i);if(a){var s,o=this.annotations(a);(s=r).push.apply(s,Object(m.a)(o))}var u,c=[];if(i.decorators)if(c=t(e,i.decorators))(u=r).push.apply(u,Object(m.a)(c));if(a&&!this.summaryResolver.isLibraryFile(e.filePath)&&this.summaryResolver.isLibraryFile(a.filePath)){var l=this.summaryResolver.resolveSummary(a);if(l&&l.type){var h=this.annotationForParentClassWithSummaryKind.get(l.type.summaryKind);h.some((function(e){return c.some((function(t){return e.isTypeOf(t)}))}))||this.reportError(jf(kf("Class ".concat(e.name," in ").concat(e.filePath," extends from a ").concat(zn[l.type.summaryKind]," in another compilation unit without duplicating the decorator"),void 0,"Please add a ".concat(h.map((function(e){return e.ngMetadataName})).join(" or ")," decorator to the class")),e),e)}}n.set(e,r.filter((function(e){return!!e})))}return r}},{key:"propMetadata",value:function(e){var t=this,n=this.propertyCache.get(e);if(!n){var r=this.getTypeMetadata(e);n={};var i=this.findParentType(e,r);if(i){var a=this.propMetadata(i);Object.keys(a).forEach((function(e){n[e]=a[e]}))}var s=r.members||{};Object.keys(s).forEach((function(r){var i=s[r].find((function(e){return"property"==e.__symbolic||"method"==e.__symbolic})),a=[];(null==n?void 0:n.hasOwnProperty(r))&&a.push.apply(a,Object(m.a)(n[r])),n[r]=a,i&&i.decorators&&a.push.apply(a,Object(m.a)(t.simplify(e,i.decorators)))})),this.propertyCache.set(e,n)}return n}},{key:"parameters",value:function(e){var t=this;if(!(e instanceof Un))return this.reportError(new Error("parameters received ".concat(JSON.stringify(e)," which is not a StaticSymbol")),e),[];try{var n=this.parameterCache.get(e);if(!n){var r=this.getTypeMetadata(e),i=this.findParentType(e,r),a=r?r.members:null,s=a?a.__ctor__:null;if(s){var o=s.find((function(e){return"constructor"==e.__symbolic})),u=o.parameters||[],c=this.simplify(e,o.parameterDecorators||[]);n=[],u.forEach((function(r,i){var a=[],s=t.trySimplify(e,r);s&&a.push(s);var o=c?c[i]:null;o&&a.push.apply(a,Object(m.a)(o)),n.push(a)}))}else i&&(n=this.parameters(i));n||(n=[]),this.parameterCache.set(e,n)}return n}catch(l){throw console.error("Failed on type ".concat(JSON.stringify(e)," with error ").concat(l)),l}}},{key:"_methodNames",value:function(e){var t=this.methodCache.get(e);if(!t){var n=this.getTypeMetadata(e);t={};var r=this.findParentType(e,n);if(r){var i=this._methodNames(r);Object.keys(i).forEach((function(e){t[e]=i[e]}))}var a=n.members||{};Object.keys(a).forEach((function(e){var n=a[e].some((function(e){return"method"==e.__symbolic}));t[e]=t[e]||n})),this.methodCache.set(e,t)}return t}},{key:"_staticMembers",value:function(e){var t=this.staticCache.get(e);if(!t){var n=this.getTypeMetadata(e).statics||{};t=Object.keys(n),this.staticCache.set(e,t)}return t}},{key:"findParentType",value:function(e,t){var n=this.trySimplify(e,t.extends);if(n instanceof Un)return n}},{key:"hasLifecycleHook",value:function(e,t){e instanceof Un||this.reportError(new Error("hasLifecycleHook received ".concat(JSON.stringify(e)," which is not a StaticSymbol")),e);try{return!!this._methodNames(e)[t]}catch(n){throw console.error("Failed on type ".concat(JSON.stringify(e)," with error ").concat(n)),n}}},{key:"guards",value:function(e){if(!(e instanceof Un))return this.reportError(new Error("guards received ".concat(JSON.stringify(e)," which is not a StaticSymbol")),e),{};var t,n=this._staticMembers(e),r={},i=Object(h.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.endsWith("TypeGuard")){var s=a.substr(0,a.length-"TypeGuard".length),o=void 0;s.endsWith("UseIf")?(s=a.substr(0,s.length-"UseIf".length),o="UseIf"):o=this.getStaticSymbol(e.filePath,e.name,[a]),r[s]=o}}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"_registerDecoratorOrConstructor",value:function(e,t){this.conversionMap.set(e,(function(e,n){return Object(u.a)(t,Object(m.a)(n))}))}},{key:"_registerFunction",value:function(e,t){this.conversionMap.set(e,(function(e,n){return t.apply(void 0,n)}))}},{key:"initializeConversionMap",value:function(){this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Injectable"),te),this.injectionToken=this.findDeclaration(ff,"InjectionToken"),this.opaqueToken=this.findDeclaration(ff,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration(ff,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Host"),oe),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Self"),ae),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"SkipSelf"),se),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Inject"),L),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Optional"),ie),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Attribute"),V),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"ContentChild"),H),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"ContentChildren"),U),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"ViewChild"),W),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"ViewChildren"),q),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Input"),$),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Output"),Y),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Pipe"),G),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"HostBinding"),J),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"HostListener"),Z),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Directive"),z),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Component"),X),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"NgModule"),ee),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Host"),oe),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Self"),ae),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"SkipSelf"),se),this._registerDecoratorOrConstructor(this.findDeclaration(ff,"Optional"),ie)}},{key:"getStaticSymbol",value:function(e,t,n){return this.symbolResolver.getStaticSymbol(e,t,n)}},{key:"trySimplify",value:function(e,t){var n=this.errorRecorder;this.errorRecorder=function(e,t){};var r=this.simplify(e,t);return this.errorRecorder=n,r}},{key:"simplify",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,a=Cf.empty,s=new Map;function o(e,t,n,r){function u(e){var t=i.symbolResolver.resolveSymbol(e);return t?t.metadata:null}function c(t){return o(e,t,n,0)}function l(t,a){if(t===e)return o(t,a,n+1,r);try{return o(t,a,n+1,r)}catch(c){if(!_f(c))throw c;var s=c.chain?"references '"+c.symbol.name+"'":Sf(c),u={message:"'".concat(t.name,"' ").concat(s),position:c.position,next:c.chain};i.error({message:c.message,advise:c.advise,context:c.context,chain:u,symbol:t},e)}}function p(t){if(wf(t))return t;if(Array.isArray(t)){var v,f=[],d=Object(h.a)(t);try{for(d.s();!(v=d.n()).done;){var y=v.value;if(y&&"spread"===y.__symbolic){var g=c(y.expression);if(Array.isArray(g)){var b,k=Object(h.a)(g);try{for(k.s();!(b=k.n()).done;){var _=b.value;f.push(_)}}catch(q){k.e(q)}finally{k.f()}continue}}var E=p(y);gf(E)||f.push(E)}}catch(q){d.e(q)}finally{d.f()}return f}if(t instanceof Un){if(t===i.injectionToken||i.conversionMap.has(t)||r>0&&!t.members.length)return t;var S=t,x=u(S);return null!=x?l(S,x):S}if(t){if(t.__symbolic){var w;switch(t.__symbolic){case"binop":var C=p(t.left);if(gf(C))return C;var O=p(t.right);if(gf(O))return O;switch(t.operator){case"&&":return C&&O;case"||":return C||O;case"|":return C|O;case"^":return C^O;case"&":return C&O;case"==":return C==O;case"!=":return C!=O;case"===":return C===O;case"!==":return C!==O;case"<":return C<O;case">":return C>O;case"<=":return C<=O;case">=":return C>=O;case"<<":return C<<O;case">>":return C>>O;case"+":return C+O;case"-":return C-O;case"*":return C*O;case"/":return C/O;case"%":return C%O}return null;case"if":var T=p(t.condition);return p(T?t.thenExpression:t.elseExpression);case"pre":var j=p(t.operand);if(gf(j))return j;switch(t.operator){case"+":return j;case"-":return-j;case"!":return!j;case"~":return~j}return null;case"index":var N=c(t.expression),P=c(t.index);return N&&wf(P)?N[P]:null;case"select":var M=t.member,A=e,I=p(t.expression);if(I instanceof Un){var R=I.members.concat(M),D=u(A=i.getStaticSymbol(I.filePath,I.name,R));return null!=D?l(A,D):A}return I&&wf(M)?l(A,I[M]):null;case"reference":var F=t.name,L=a.resolve(F);if(L!=Cf.missing)return L;break;case"resolved":try{return p(t.symbol)}catch(W){throw _f(W)&&null!=t.fileName&&null!=t.line&&null!=t.character&&(W.position={fileName:t.fileName,line:t.line,column:t.character}),W}case"class":case"function":return e;case"new":case"call":if((w=o(e,t.expression,n+1,0))instanceof Un){if(w===i.injectionToken||w===i.opaqueToken)return e;var B=t.arguments||[],V=i.conversionMap.get(w);if(V){var U=B.map((function(t){return l(e,t)})).map((function(e){return gf(e)?void 0:e}));return V(e,U)}return function(t,r,o,u){if(r&&"function"==r.__symbolic){s.get(t)&&i.error({message:"Recursion is not supported",summary:"called '".concat(t.name,"' recursively"),value:r},t);try{var c=r.value;if(c&&(0!=n||"error"!=c.__symbolic)){var h,v=r.parameters,f=r.defaults;if(o=o.map((function(t){return l(e,t)})).map((function(e){return gf(e)?void 0:e})),f&&f.length>o.length)(h=o).push.apply(h,Object(m.a)(f.slice(o.length).map((function(e){return p(e)}))));s.set(t,!0);for(var d=Cf.build(),y=0;y<v.length;y++)d.define(v[y],o[y]);var g,b=a;try{a=d.done(),g=l(t,c)}finally{a=b}return g}}finally{s.delete(t)}}if(0===n)return mf;var k=void 0;if(u&&"resolved"==u.__symbolic){var _=u.line,E=u.character,S=u.fileName;null!=S&&null!=_&&null!=E&&(k={fileName:S,line:_,column:E})}i.error({message:Ef,context:t,value:r,position:k},e)}(w,u(w),B,t.expression)}return mf;case"error":var H=t.message;return null!=t.line?i.error({message:H,context:t.context,value:t,position:{fileName:t.fileName,line:t.line,column:t.character}},e):i.error({message:H,context:t.context},e),mf;case"ignore":return t}return null}return xf(t,(function(a,s){if(yf.has(s)){if("useValue"===s&&"provide"in t){var u=p(t.provide);if(u===i.ROUTES||u==i.ANALYZE_FOR_ENTRY_COMPONENTS)return p(a)}return function(t){return o(e,t,n,r+1)}(a)}return p(a)}))}return mf}return p(t)}try{n=o(e,t,0,r?1:0)}catch(u){if(!this.errorRecorder)throw jf(u,e);this.reportError(u,e)}if(!gf(n))return n}},{key:"getTypeMetadata",value:function(e){var t=this.symbolResolver.resolveSymbol(e);return t&&t.metadata?t.metadata:{__symbolic:"class"}}},{key:"reportError",value:function(e,t,n){if(!this.errorRecorder)throw e;this.errorRecorder(jf(e,t),t&&t.filePath||n)}},{key:"error",value:function(e,t){var n=e.message,r=e.summary,i=e.advise,a=e.position,s=e.context,o=(e.value,e.symbol),u=e.chain;this.reportError(kf(n,r,i,a,o,s,u),t)}}]),e}();function kf(e,t,n,r,i,a,s){var o=pn(e);return o.ngMetadataError=!0,n&&(o.advise=n),r&&(o.position=r),t&&(o.summary=t),a&&(o.context=a),s&&(o.chain=s),i&&(o.symbol=i),o}function _f(e){return!!e.ngMetadataError}var Ef="Function call not supported";function Sf(e){if(e.summary)return e.summary;switch(e.message){case"Reference to non-exported class":if(e.context&&e.context.className)return"references non-exported class ".concat(e.context.className);break;case"Variable not initialized":return"is not initialized";case"Destructuring not supported":return"is a destructured variable";case"Could not resolve type":return"could not be resolved";case Ef:return e.context&&e.context.name?"calls '".concat(e.context.name,"'"):"calls a function";case"Reference to a local symbol":return e.context&&e.context.name?"references local variable ".concat(e.context.name):"references a local variable"}return"contains the error"}function xf(e,t){if(!e)return{};var n={};return Object.keys(e).forEach((function(r){var i=t(e[r],r);gf(i)||(df.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)})),n}function wf(e){return null===e||"function"!=typeof e&&"object"!=typeof e}var Cf=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,null,[{key:"build",value:function(){var t=new Map;return{define:function(e,n){return t.set(e,n),this},done:function(){return t.size>0?new Of(t):e.empty}}}}]),e}();Cf.missing={},Cf.empty={resolve:function(e){return Cf.missing}};var Of=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this)).bindings=e,r}return Object(g.a)(n,[{key:"resolve",value:function(e){return this.bindings.has(e)?this.bindings.get(e):Cf.missing}}]),n}(Cf);function Tf(e,t){var n=function(e,t){switch(e){case"Reference to non-exported class":if(t&&t.className)return"References to a non-exported class are not supported in decorators but ".concat(t.className," was referenced.");break;case"Variable not initialized":return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case"Could not resolve type":if(t&&t.typeName)return"Could not resolve type ".concat(t.typeName);break;case Ef:return t&&t.name?"Function calls are not supported in decorators but '".concat(t.name,"' was called"):"Function calls are not supported in decorators";case"Reference to a local symbol":if(t&&t.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '".concat(t.name,"' was referenced");break;case"Lambda not supported":return"Function expressions are not supported in decorators"}return e}(e.message,e.context),r=e.symbol?" in '".concat(e.symbol.name,"'"):"",i="".concat(n).concat(r),a=e.position,s=e.next?Tf(e.next,t):t?{message:t}:void 0;return{message:i,position:a,next:s?[s]:void 0}}function jf(e,t){if(_f(e)){var n=e.position;return pf(Tf({message:"Error during template compile of '".concat(t.name,"'"),position:n,next:{message:e.message,next:e.chain,context:e.context,symbol:e.symbol}},e.advise||function(e,t){switch(e){case"Reference to non-exported class":if(t&&t.className)return"Consider exporting '".concat(t.className,"'");break;case"Destructuring not supported":return"Consider simplifying to avoid destructuring";case"Reference to a local symbol":if(t&&t.name)return"Consider exporting '".concat(t.name,"'");break;case"Lambda not supported":return"Consider changing the function expression into an exported function"}}(e.message,e.context)))}return e}var Nf=function(){function e(t,n){Object(y.a)(this,e),this.host=t,this.staticSymbolCache=n,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}return Object(g.a)(e,[{key:"isLibraryFile",value:function(e){return!this.host.isSourceFile(Fp(e))}},{key:"toSummaryFileName",value:function(e,t){return this.host.toSummaryFileName(e,t)}},{key:"fromSummaryFileName",value:function(e,t){return this.host.fromSummaryFileName(e,t)}},{key:"resolveSummary",value:function(e){var t=e.members.length?this.staticSymbolCache.get(e.filePath,e.name):e,n=this.summaryCache.get(t);return n||(this._loadSummaryFile(e.filePath),n=this.summaryCache.get(e)),t===e&&n||null}},{key:"getSymbolsOf",value:function(e){return this._loadSummaryFile(e)?Array.from(this.summaryCache.keys()).filter((function(t){return t.filePath===e})):null}},{key:"getImportAs",value:function(e){return e.assertNoMembers(),this.importAs.get(e)}},{key:"getKnownModuleName",value:function(e){return this.knownFileNameToModuleNames.get(e)||null}},{key:"addSummary",value:function(e){this.summaryCache.set(e.symbol,e)}},{key:"_loadSummaryFile",value:function(e){var t=this,n=this.loadedFilePaths.get(e);if(null!=n)return n;var r=null;if(this.isLibraryFile(e)){var i=Vp(e);try{r=this.host.loadSummary(i)}catch(c){throw console.error("Error loading summary file ".concat(i)),c}}if(n=null!=r,this.loadedFilePaths.set(e,n),r){var a=function(e,t,n,r){return new Yv(e,t).deserialize(n,r)}(this.staticSymbolCache,this,e,r),s=a.moduleName,o=a.summaries,u=a.importAs;o.forEach((function(e){return t.summaryCache.set(e.symbol,e)})),s&&this.knownFileNameToModuleNames.set(e,s),u.forEach((function(e){t.importAs.set(e.symbol,e.importAs)}))}return n}}]),e}();function Pf(e){return{resolve:function(t,n){var r=e.resourceNameToFileName(n,t);if(!r)throw pn("Couldn't resolve resource ".concat(n," from ").concat(t));return r}}}function Mf(e,t,n){var r,i=t.translations||"",a=Pf(e),s=new Hn,o=new Nf(e,s),u=new zv(e,s,o),c=new bf(o,u,[],[],n);r=t.enableIvy?new fu:new Cp(new fu,i,t.i18nFormat,t.missingTranslation,console);var l=new Xh({defaultEncapsulation:P.Emulated,useJit:!1,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces,strictInjectionParameters:t.strictInjectionParameters}),h=new $h({get:function(t){return e.loadResource(t)}},a,r,l),p=new Zc(new Dc),v=new ll,f=new mc(l,c,p,v,r,console,[]),d=new Zp(l,r,new vv(c),new Zh(c),new yv(c),o,v,h,console,s,c,n),m=new Ev(c),y=new gv(t,c);return{compiler:new Zv(l,t,e,c,d,f,new Po(a),m,y,new pv(c),new Pp(c,!!t.enableIvy),new dv,o,u),reflector:c}}var Af=function e(){Object(y.a)(this,e)},If=function(){function e(){Object(y.a)(this,e),this._summaries=new Map}return Object(g.a)(e,[{key:"isLibraryFile",value:function(){return!1}},{key:"toSummaryFileName",value:function(e){return e}},{key:"fromSummaryFileName",value:function(e){return e}},{key:"resolveSummary",value:function(e){return this._summaries.get(e)||null}},{key:"getSymbolsOf",value:function(){return[]}},{key:"getImportAs",value:function(e){return e}},{key:"getKnownModuleName",value:function(e){return null}},{key:"addSummary",value:function(e){this._summaries.set(e.symbol,e)}}]),e}();function Rf(e,t,n,r,i){for(var a=r.createChildWihtLocalVars(),s=0;s<e.length;s++)a.vars.set(e[s],t[s]);var o=i.visitAllStatements(n,a);return o?o.value:null}var Df=function(){function e(t,n,r,i){Object(y.a)(this,e),this.parent=t,this.instance=n,this.className=r,this.vars=i,this.exports=[]}return Object(g.a)(e,[{key:"createChildWihtLocalVars",value:function(){return new e(this,this.instance,this.className,new Map)}}]),e}(),Ff=function e(t){Object(y.a)(this,e),this.value=t};var Lf=function(){function e(t){Object(y.a)(this,e),this.reflector=t}return Object(g.a)(e,[{key:"debugAst",value:function(e){return fv(e)}},{key:"visitDeclareVarStmt",value:function(e,t){var n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(Ye.Exported)&&t.exports.push(e.name),null}},{key:"visitWriteVarExpr",value:function(e,t){for(var n=e.value.visitExpression(this,t),r=t;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error("Not declared variable ".concat(e.name))}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function(e,t){throw new Error("Cannot interpret a TypeofExpr")}},{key:"visitReadVarExpr",value:function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Ne.Super:return Object.getPrototypeOf(t.instance);case Ne.This:return t.instance;case Ne.CatchError:n=Vf;break;case Ne.CatchStack:n=Uf;break;default:throw new Error("Unknown builtin variable ".concat(e.builtin))}for(var r=t;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable ".concat(n))}},{key:"visitWriteKeyExpr",value:function(e,t){var n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i,i}},{key:"visitWritePropExpr",value:function(e,t){var n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r,r}},{key:"visitInvokeMethodExpr",value:function(e,t){var n,r=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(null!=e.builtin)switch(e.builtin){case Me.ConcatArray:n=r.concat.apply(r,Object(m.a)(i));break;case Me.SubscribeObservable:n=r.subscribe({next:i[0]});break;case Me.Bind:n=r.bind.apply(r,Object(m.a)(i));break;default:throw new Error("Unknown builtin method ".concat(e.builtin))}else n=r[e.name].apply(r,i);return n}},{key:"visitInvokeFunctionExpr",value:function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.fn;return r instanceof Ae&&r.builtin===Ne.Super?(t.instance.constructor.prototype.constructor.apply(t.instance,n),null):e.fn.visitExpression(this,t).apply(null,n)}},{key:"visitReturnStmt",value:function(e,t){return new Ff(e.value.visitExpression(this,t))}},{key:"visitDeclareClassStmt",value:function(e,t){var n=function(e,t,n){var r={};e.getters.forEach((function(i){r[i.name]={configurable:!1,get:function(){var r=new Df(t,this,e.name,t.vars);return Rf([],[],i.body,r,n)}}})),e.methods.forEach((function(i){var a=i.params.map((function(e){return e.name}));r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=new Df(t,this,e.name,t.vars),s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return Rf(a,o,i.body,r,n)}}}));var i=e.constructorMethod.params.map((function(e){return e.name})),a=function(){var r=this,a=new Df(t,this,e.name,t.vars);e.fields.forEach((function(e){r[e.name]=void 0}));for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];Rf(i,o,e.constructorMethod.body,a,n)},s=e.parent?e.parent.visitExpression(n,t):Object;return a.prototype=Object.create(s.prototype,r),a}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(Ye.Exported)&&t.exports.push(e.name),null}},{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t)}},{key:"visitIfStmt",value:function(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}},{key:"visitTryCatchStmt",value:function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(r){var n=t.createChildWihtLocalVars();return n.vars.set(Vf,r),n.vars.set(Uf,r.stack),this.visitAllStatements(e.catchStmts,n)}}},{key:"visitThrowStmt",value:function(e,t){throw e.error.visitExpression(this,t)}},{key:"visitInstantiateExpr",value:function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.classExpr.visitExpression(this,t);return Object(u.a)(r,Object(m.a)(n))}},{key:"visitLiteralExpr",value:function(e,t){return e.value}},{key:"visitLocalizedString",value:function(e,t){return null}},{key:"visitExternalExpr",value:function(e,t){return this.reflector.resolveExternalReference(e.value)}},{key:"visitConditionalExpr",value:function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}},{key:"visitNotExpr",value:function(e,t){return!e.condition.visitExpression(this,t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t)}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t)}},{key:"visitFunctionExpr",value:function(e,t){return Bf(e.params.map((function(e){return e.name})),e.statements,t,this)}},{key:"visitDeclareFunctionStmt",value:function(e,t){var n=e.params.map((function(e){return e.name}));return t.vars.set(e.name,Bf(n,e.statements,t,this)),e.hasModifier(Ye.Exported)&&t.exports.push(e.name),null}},{key:"visitUnaryOperatorExpr",value:function(e,t){var n=this,r=function(){return e.expr.visitExpression(n,t)};switch(e.operator){case me.Plus:return+r();case me.Minus:return-r();default:throw new Error("Unknown operator ".concat(e.operator))}}},{key:"visitBinaryOperatorExpr",value:function(e,t){var n=this,r=function(){return e.lhs.visitExpression(n,t)},i=function(){return e.rhs.visitExpression(n,t)};switch(e.operator){case ye.Equals:return r()==i();case ye.Identical:return r()===i();case ye.NotEquals:return r()!=i();case ye.NotIdentical:return r()!==i();case ye.And:return r()&&i();case ye.Or:return r()||i();case ye.Plus:return r()+i();case ye.Minus:return r()-i();case ye.Divide:return r()/i();case ye.Multiply:return r()*i();case ye.Modulo:return r()%i();case ye.Lower:return r()<i();case ye.LowerEquals:return r()<=i();case ye.Bigger:return r()>i();case ye.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator ".concat(e.operator))}}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t)[e.name]}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.visitAllExpressions(e.entries,t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this,r={};return e.entries.forEach((function(e){return r[e.key]=e.value.visitExpression(n,t)})),r}},{key:"visitCommaExpr",value:function(e,t){var n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}},{key:"visitAllExpressions",value:function(e,t){var n=this;return e.map((function(e){return e.visitExpression(n,t)}))}},{key:"visitAllStatements",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n].visitStatement(this,t);if(r instanceof Ff)return r}return null}}]),e}();function Bf(e,t,n,r){return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return Rf(e,a,t,n,r)}}var Vf="error",Uf="stack",Hf=function(){function e(t,n,r,i,a,s,o,u,c,l,h){Object(y.a)(this,e),this._metadataResolver=t,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=a,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=u,this._compilerConfig=c,this._console=l,this.getExtraNgModuleProviders=h,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}return Object(g.a)(e,[{key:"compileModuleSync",value:function(e){return un(this._compileModuleAndComponents(e,!0))}},{key:"compileModuleAsync",value:function(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}},{key:"compileModuleAndAllComponentsSync",value:function(e){return un(this._compileModuleAndAllComponents(e,!0))}},{key:"compileModuleAndAllComponentsAsync",value:function(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}},{key:"getComponentFactory",value:function(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}},{key:"loadAotSummaries",value:function(e){this.clearCache(),this._addAotSummaries(e)}},{key:"_addAotSummaries",value:function(e){if(!this._addedAotSummaries.has(e)){this._addedAotSummaries.add(e);for(var t=e(),n=0;n<t.length;n++){var r=t[n];if("function"==typeof r)this._addAotSummaries(r);else{var i=r;this._summaryResolver.addSummary({symbol:i.type.reference,metadata:null,type:i})}}}}},{key:"hasAotSummary",value:function(e){return!!this._summaryResolver.resolveSummary(e)}},{key:"_filterJitIdentifiers",value:function(e){var t=this;return e.map((function(e){return e.reference})).filter((function(e){return!t.hasAotSummary(e)}))}},{key:"_compileModuleAndComponents",value:function(e,t){var n=this;return cn(this._loadModules(e,t),(function(){return n._compileComponents(e,null),n._compileModule(e)}))}},{key:"_compileModuleAndAllComponents",value:function(e,t){var n=this;return cn(this._loadModules(e,t),(function(){var t=[];return n._compileComponents(e,t),{ngModuleFactory:n._compileModule(e),componentFactories:t}}))}},{key:"_loadModules",value:function(e,t){var n=this,r=[],i=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(i.transitiveModule.modules).forEach((function(e){var i=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(i.declaredDirectives).forEach((function(e){var a=n._metadataResolver.loadDirectiveMetadata(i.type.reference,e,t);a&&r.push(a)})),n._filterJitIdentifiers(i.declaredPipes).forEach((function(e){return n._metadataResolver.getOrLoadPipeMetadata(e)}))})),ln(r)}},{key:"_compileModule",value:function(e){var t=this._compiledNgModuleCache.get(e);if(!t){var n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=zf(),a=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(fr(n),i.statements)[a.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}},{key:"_compileComponents",value:function(e,t){var n=this,r=this._metadataResolver.getNgModuleMetadata(e),i=new Map,a=new Set,s=this._filterJitIdentifiers(r.transitiveModule.modules);s.forEach((function(e){var r=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(r.declaredDirectives).forEach((function(e){i.set(e,r);var s=n._metadataResolver.getDirectiveMetadata(e);if(s.isComponent&&(a.add(n._createCompiledTemplate(s,r)),t)){var o=n._createCompiledHostTemplate(s.type.reference,r);a.add(o),t.push(s.componentFactory)}}))})),s.forEach((function(e){var t=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(t.declaredDirectives).forEach((function(e){var t=n._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach((function(e){var t=i.get(e.componentType);a.add(n._createCompiledHostTemplate(e.componentType,t))}))})),t.entryComponents.forEach((function(e){if(!n.hasAotSummary(e.componentType)){var t=i.get(e.componentType);a.add(n._createCompiledHostTemplate(e.componentType,t))}}))})),a.forEach((function(e){return n._compileTemplate(e)}))}},{key:"clearCacheFor",value:function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}},{key:"clearCache",value:function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}},{key:"_createCompiledHostTemplate",value:function(e,t){if(!t)throw new Error("Component ".concat(kn(e)," is not part of any NgModule or the module has not been imported into your module."));var n=this._compiledHostTemplateCache.get(e);if(!n){var r=this._metadataResolver.getDirectiveMetadata(e);Wf(r);var i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new qf(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n}},{key:"_createCompiledTemplate",value:function(e,t){var n=this._compiledTemplateCache.get(e.type.reference);return n||(Wf(e),n=new qf(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}},{key:"_compileTemplate",value:function(e){var t=this;if(!e.isCompiled){var n=e.compMeta,r=new Map,i=zf(),a=this._styleCompiler.compileComponent(i,n);n.template.externalStylesheets.forEach((function(e){var i=t._styleCompiler.compileStyles(zf(),n,e);r.set(e.moduleUrl,i)})),this._resolveStylesCompileResult(a,r);e.ngModule.transitiveModule.pipes.map((function(e){return t._metadataResolver.getPipeSummary(e.reference)}));var s=this._parseTemplate(n,e.ngModule,e.directives),o=s.template,u=s.pipes,c=this._viewCompiler.compileComponent(i,n,o,Ht(a.stylesVar),u),l=this._interpretOrJit(dr(e.ngModule.type,e.compMeta),i.statements),h=l[c.viewClassVar],p=l[c.rendererTypeVar];e.compiled(h,p)}}},{key:"_parseTemplate",value:function(e,t,n){var r=this,i=e.template.preserveWhitespaces,a=n.map((function(e){return r._metadataResolver.getDirectiveSummary(e.reference)})),s=t.transitiveModule.pipes.map((function(e){return r._metadataResolver.getPipeSummary(e.reference)}));return this._templateParser.parse(e,e.template.htmlAst,a,s,t.schemas,pr(t.type,e,e.template),i)}},{key:"_resolveStylesCompileResult",value:function(e,t){var n=this;e.dependencies.forEach((function(e,r){var i=t.get(e.moduleUrl),a=n._resolveAndEvalStylesCompileResult(i,t);e.setValue(a)}))}},{key:"_resolveAndEvalStylesCompileResult",value:function(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(vr(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]}},{key:"_interpretOrJit",value:function(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){var n=new Df(null,null,null,new Map);new Lf(t).visitAllStatements(e,n);var r={};return n.exports.forEach((function(e){r[e]=n.vars.get(e)})),r}(t,this._reflector)}}]),e}(),qf=function(){function e(t,n,r,i,a){Object(y.a)(this,e),this.isHost=t,this.compType=n,this.compMeta=r,this.ngModule=i,this.directives=a,this._viewClass=null,this.isCompiled=!1}return Object(g.a)(e,[{key:"compiled",value:function(e,t){for(var n in this._viewClass=e,this.compMeta.componentViewType.setDelegate(e),t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}]),e}();function Wf(e){if(!e.isComponent)throw new Error("Could not compile '".concat(Qn(e.type),"' because it is not a component."))}function zf(){return{statements:[],genFilePath:"",importExpr:function(e){return qt({name:Qn(e),moduleName:null,runtime:e})},constantPool:new Mn}}var Kf=function e(){Object(y.a)(this,e)};function Qf(){return new Gf}function Xf(){return new Gf(".")}var Gf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(y.a)(this,e),this._packagePrefix=t}return Object(g.a)(e,[{key:"resolve",value:function(e,t){var n=t;null!=e&&e.length>0&&(n=function(e,t){var n=Zf(encodeURI(t)),r=Zf(e);if(null!=n[Yf.Scheme])return ed(n);n[Yf.Scheme]=r[Yf.Scheme];for(var i=Yf.Scheme;i<=Yf.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[Yf.Path][0])return ed(n);var a=r[Yf.Path];null==a&&(a="/");var s=a.lastIndexOf("/");return a=a.substring(0,s+1)+n[Yf.Path],n[Yf.Path]=a,ed(n)}(e,n));var r=Zf(n),i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[Yf.Scheme]){var a=r[Yf.Path];return i=i.replace(/\/+$/,""),a=a.replace(/^\/+/,""),"".concat(i,"/").concat(a)}return n}}]),e}();function $f(e){var t=Zf(e);return t&&t[Yf.Scheme]||""}var Yf,Jf=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Zf(e){return e.match(Jf)}function ed(e){var t,n,r,i,a,s,o,u,c=e[Yf.Path];return c=null==c?"":function(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],a=0,s=0;s<r.length;s++){var o=r[s];switch(o){case"":case".":break;case"..":i.length>0?i.pop():a++;break;default:i.push(o)}}if(""==t){for(;a-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(c),e[Yf.Path]=c,t=e[Yf.Scheme],n=e[Yf.UserInfo],r=e[Yf.Domain],i=e[Yf.Port],a=c,s=e[Yf.QueryData],o=e[Yf.Fragment],u=[],null!=t&&u.push(t+":"),null!=r&&(u.push("//"),null!=n&&u.push(n+"@"),u.push(r),null!=i&&u.push(":"+i)),null!=a&&u.push(a),null!=s&&u.push("?"+s),null!=o&&u.push("#"+o),u.join("")}!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(Yf||(Yf={}));var td=function(){function e(t,n,r,i){Object(y.a)(this,e),this.host=t,this.staticSymbolResolver=n,this.messageBundle=r,this.metadataResolver=i}return Object(g.a)(e,[{key:"extract",value:function(e){var t=this,n=af(e,this.host,this.staticSymbolResolver,this.metadataResolver),r=n.files,i=n.ngModules;return Promise.all(i.map((function(e){return t.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(e.type.reference,!1)}))).then((function(){var e=[];if(r.forEach((function(n){var r=[];n.directives.forEach((function(e){var n=t.metadataResolver.getDirectiveMetadata(e);n&&n.isComponent&&r.push(n)})),r.forEach((function(n){var r=n.template.template,i=n.template.templateUrl,a=ja.fromArray(n.template.interpolation);e.push.apply(e,Object(m.a)(t.messageBundle.updateFromTemplate(r,i,a)))}))})),e.length)throw new Error(e.map((function(e){return e.toString()})).join("\n"));return t.messageBundle}))}}],[{key:"create",value:function(t,n){var r=new fu,i=Pf(t),a=new Hn,s=new Nf(t,a),o=new zv(t,a,s),u=new bf(s,o),c=new Xh({defaultEncapsulation:P.Emulated,useJit:!1}),l=new $h({get:function(e){return t.loadResource(e)}},i,r,c),h=new ll,p=new Zp(c,r,new vv(u),new Zh(u),new yv(u),s,h,l,console,a,u),v=new Dv(r,[],{},n);return{extractor:new e(t,o,v,p),staticReflector:u}}}]),e}(),nd=function(){function e(t){Object(y.a)(this,e),this.directiveMatcher=t}return Object(g.a)(e,[{key:"bind",value:function(e){if(!e.template)throw new Error("Binding without a template not yet supported");var t=rd.apply(e.template),n=id.apply(e.template,this.directiveMatcher),r=n.directives,i=n.bindings,a=n.references,s=ad.apply(e.template,t),o=s.expressions,u=s.symbols,c=s.nestingLevel,l=s.usedPipes;return new sd(e,r,i,a,o,u,c,l)}}]),e}(),rd=function(){function e(t){Object(y.a)(this,e),this.parentScope=t,this.namedEntities=new Map,this.childScopes=new Map}return Object(g.a)(e,[{key:"ingest",value:function(e){var t=this;e instanceof Hr?(e.variables.forEach((function(e){return t.visitVariable(e)})),e.children.forEach((function(e){return e.visit(t)}))):e.forEach((function(e){return e.visit(t)}))}},{key:"visitElement",value:function(e){var t=this;e.references.forEach((function(e){return t.visitReference(e)})),e.children.forEach((function(e){return e.visit(t)}))}},{key:"visitTemplate",value:function(t){var n=this;t.references.forEach((function(e){return n.visitReference(e)}));var r=new e(this);r.ingest(t),this.childScopes.set(t,r)}},{key:"visitVariable",value:function(e){this.maybeDeclare(e)}},{key:"visitReference",value:function(e){this.maybeDeclare(e)}},{key:"visitContent",value:function(e){}},{key:"visitBoundAttribute",value:function(e){}},{key:"visitBoundEvent",value:function(e){}},{key:"visitBoundText",value:function(e){}},{key:"visitText",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitIcu",value:function(e){}},{key:"maybeDeclare",value:function(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}},{key:"lookup",value:function(e){return this.namedEntities.has(e)?this.namedEntities.get(e):void 0!==this.parentScope?this.parentScope.lookup(e):null}},{key:"getChildScope",value:function(e){var t=this.childScopes.get(e);if(void 0===t)throw new Error("Assertion error: child scope for ".concat(e," not found"));return t}}],[{key:"apply",value:function(t){var n=new e;return n.ingest(t),n}}]),e}(),id=function(){function e(t,n,r,i){Object(y.a)(this,e),this.matcher=t,this.directives=n,this.bindings=r,this.references=i}return Object(g.a)(e,[{key:"ingest",value:function(e){var t=this;e.forEach((function(e){return e.visit(t)}))}},{key:"visitElement",value:function(e){this.visitElementOrTemplate(e.name,e)}},{key:"visitTemplate",value:function(e){this.visitElementOrTemplate("ng-template",e)}},{key:"visitElementOrTemplate",value:function(e,t){var n=this,r=eh(e,ya(t)),i=[];this.matcher.match(r,(function(e,t){return i.push(t)})),i.length>0&&this.directives.set(t,i),t.references.forEach((function(e){var r=null;if(""===e.value.trim())r=i.find((function(e){return e.isComponent}))||null;else if(null===(r=i.find((function(t){return null!==t.exportAs&&t.exportAs.some((function(t){return t===e.value}))}))||null))return;null!==r?n.references.set(e,{directive:r,node:t}):n.references.set(e,t)}));var a=function(e,r){var a=i.find((function(t){return t[r].hasBindingPropertyName(e.name)})),s=void 0!==a?a:t;n.bindings.set(e,s)};t.inputs.forEach((function(e){return a(e,"inputs")})),t.attributes.forEach((function(e){return a(e,"inputs")})),t instanceof Hr&&t.templateAttrs.forEach((function(e){return a(e,"inputs")})),t.outputs.forEach((function(e){return a(e,"outputs")})),t.children.forEach((function(e){return e.visit(n)}))}},{key:"visitContent",value:function(e){}},{key:"visitVariable",value:function(e){}},{key:"visitReference",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitBoundAttribute",value:function(e){}},{key:"visitBoundEvent",value:function(e){}},{key:"visitBoundAttributeOrEvent",value:function(e){}},{key:"visitText",value:function(e){}},{key:"visitBoundText",value:function(e){}},{key:"visitIcu",value:function(e){}}],[{key:"apply",value:function(t,n){var r=new Map,i=new Map,a=new Map;return new e(n,r,i,a).ingest(t),{directives:r,bindings:i,references:a}}}]),e}(),ad=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e,r,i,a,s,o,u){var c;return Object(y.a)(this,n),(c=t.call(this)).bindings=e,c.symbols=r,c.usedPipes=i,c.nestingLevel=a,c.scope=s,c.template=o,c.level=u,c.pipesUsed=[],c.visitNode=function(e){return e.visit(Object(l.a)(c))},c}return Object(g.a)(n,[{key:"visit",value:function(e,t){e instanceof ns?e.visit(this,t):e.visit(this)}},{key:"ingest",value:function(e){e instanceof Hr?(e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}},{key:"visitElement",value:function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode)}},{key:"visitTemplate",value:function(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode);var t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.nestingLevel,t,e,this.level+1).ingest(e)}},{key:"visitVariable",value:function(e){null!==this.template&&this.symbols.set(e,this.template)}},{key:"visitReference",value:function(e){null!==this.template&&this.symbols.set(e,this.template)}},{key:"visitText",value:function(e){}},{key:"visitContent",value:function(e){}},{key:"visitTextAttribute",value:function(e){}},{key:"visitIcu",value:function(e){var t=this;Object.keys(e.vars).forEach((function(n){return e.vars[n].visit(t)})),Object.keys(e.placeholders).forEach((function(n){return e.placeholders[n].visit(t)}))}},{key:"visitBoundAttribute",value:function(e){e.value.visit(this)}},{key:"visitBoundEvent",value:function(e){e.handler.visit(this)}},{key:"visitBoundText",value:function(e){e.value.visit(this)}},{key:"visitPipe",value:function(e,t){return this.usedPipes.add(e.name),Object(p.a)(Object(v.a)(n.prototype),"visitPipe",this).call(this,e,t)}},{key:"visitPropertyRead",value:function(e,t){return this.maybeMap(t,e,e.name),Object(p.a)(Object(v.a)(n.prototype),"visitPropertyRead",this).call(this,e,t)}},{key:"visitSafePropertyRead",value:function(e,t){return this.maybeMap(t,e,e.name),Object(p.a)(Object(v.a)(n.prototype),"visitSafePropertyRead",this).call(this,e,t)}},{key:"visitPropertyWrite",value:function(e,t){return this.maybeMap(t,e,e.name),Object(p.a)(Object(v.a)(n.prototype),"visitPropertyWrite",this).call(this,e,t)}},{key:"visitMethodCall",value:function(e,t){return this.maybeMap(t,e,e.name),Object(p.a)(Object(v.a)(n.prototype),"visitMethodCall",this).call(this,e,t)}},{key:"visitSafeMethodCall",value:function(e,t){return this.maybeMap(t,e,e.name),Object(p.a)(Object(v.a)(n.prototype),"visitSafeMethodCall",this).call(this,e,t)}},{key:"maybeMap",value:function(e,t,n){if(t.receiver instanceof ss){var r=this.scope.lookup(n);null!==r&&this.bindings.set(t,r)}}}],[{key:"apply",value:function(e,t){var r=new Map,i=new Map,a=new Map,s=new Set;return new n(r,i,s,a,t,e instanceof Hr?e:null,0).ingest(e),{expressions:r,symbols:i,nestingLevel:a,usedPipes:s}}}]),n}(Ns),sd=function(){function e(t,n,r,i,a,s,o,u){Object(y.a)(this,e),this.target=t,this.directives=n,this.bindings=r,this.references=i,this.exprTargets=a,this.symbols=s,this.nestingLevel=o,this.usedPipes=u}return Object(g.a)(e,[{key:"getDirectivesOfNode",value:function(e){return this.directives.get(e)||null}},{key:"getReferenceTarget",value:function(e){return this.references.get(e)||null}},{key:"getConsumerOfBinding",value:function(e){return this.bindings.get(e)||null}},{key:"getExpressionTarget",value:function(e){return this.exprTargets.get(e)||null}},{key:"getTemplateOfSymbol",value:function(e){return this.symbols.get(e)||null}},{key:"getNestingLevel",value:function(e){return this.nestingLevel.get(e)||0}},{key:"getUsedDirectives",value:function(){var e=new Set;return this.directives.forEach((function(t){return t.forEach((function(t){return e.add(t)}))})),Array.from(e.values())}},{key:"getUsedPipes",value:function(){return Array.from(this.usedPipes)}}]),e}();Kh(Cn)}}]);